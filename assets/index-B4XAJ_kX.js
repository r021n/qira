(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function t(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(o){if(o.ep)return;o.ep=!0;const l=t(o);fetch(o.href,l)}})();function cv(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Sh={exports:{}},Ro={},Th={exports:{}},Ne={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dg;function u1(){if(dg)return Ne;dg=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.iterator;function v(N){return N===null||typeof N!="object"?null:(N=g&&N[g]||N["@@iterator"],typeof N=="function"?N:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,S={};function T(N,j,me){this.props=N,this.context=j,this.refs=S,this.updater=me||_}T.prototype.isReactComponent={},T.prototype.setState=function(N,j){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,j,"setState")},T.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function C(){}C.prototype=T.prototype;function P(N,j,me){this.props=N,this.context=j,this.refs=S,this.updater=me||_}var k=P.prototype=new C;k.constructor=P,w(k,T.prototype),k.isPureReactComponent=!0;var V=Array.isArray,E=Object.prototype.hasOwnProperty,I={current:null},F={key:!0,ref:!0,__self:!0,__source:!0};function R(N,j,me){var de,ie={},ce=null,_e=null;if(j!=null)for(de in j.ref!==void 0&&(_e=j.ref),j.key!==void 0&&(ce=""+j.key),j)E.call(j,de)&&!F.hasOwnProperty(de)&&(ie[de]=j[de]);var re=arguments.length-2;if(re===1)ie.children=me;else if(1<re){for(var Ee=Array(re),Le=0;Le<re;Le++)Ee[Le]=arguments[Le+2];ie.children=Ee}if(N&&N.defaultProps)for(de in re=N.defaultProps,re)ie[de]===void 0&&(ie[de]=re[de]);return{$$typeof:n,type:N,key:ce,ref:_e,props:ie,_owner:I.current}}function W(N,j){return{$$typeof:n,type:N.type,key:j,ref:N.ref,props:N.props,_owner:N._owner}}function $(N){return typeof N=="object"&&N!==null&&N.$$typeof===n}function Y(N){var j={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(me){return j[me]})}var z=/\/+/g;function ee(N,j){return typeof N=="object"&&N!==null&&N.key!=null?Y(""+N.key):j.toString(36)}function X(N,j,me,de,ie){var ce=typeof N;(ce==="undefined"||ce==="boolean")&&(N=null);var _e=!1;if(N===null)_e=!0;else switch(ce){case"string":case"number":_e=!0;break;case"object":switch(N.$$typeof){case n:case e:_e=!0}}if(_e)return _e=N,ie=ie(_e),N=de===""?"."+ee(_e,0):de,V(ie)?(me="",N!=null&&(me=N.replace(z,"$&/")+"/"),X(ie,j,me,"",function(Le){return Le})):ie!=null&&($(ie)&&(ie=W(ie,me+(!ie.key||_e&&_e.key===ie.key?"":(""+ie.key).replace(z,"$&/")+"/")+N)),j.push(ie)),1;if(_e=0,de=de===""?".":de+":",V(N))for(var re=0;re<N.length;re++){ce=N[re];var Ee=de+ee(ce,re);_e+=X(ce,j,me,Ee,ie)}else if(Ee=v(N),typeof Ee=="function")for(N=Ee.call(N),re=0;!(ce=N.next()).done;)ce=ce.value,Ee=de+ee(ce,re++),_e+=X(ce,j,me,Ee,ie);else if(ce==="object")throw j=String(N),Error("Objects are not valid as a React child (found: "+(j==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":j)+"). If you meant to render a collection of children, use an array instead.");return _e}function ae(N,j,me){if(N==null)return N;var de=[],ie=0;return X(N,de,"","",function(ce){return j.call(me,ce,ie++)}),de}function Z(N){if(N._status===-1){var j=N._result;j=j(),j.then(function(me){(N._status===0||N._status===-1)&&(N._status=1,N._result=me)},function(me){(N._status===0||N._status===-1)&&(N._status=2,N._result=me)}),N._status===-1&&(N._status=0,N._result=j)}if(N._status===1)return N._result.default;throw N._result}var te={current:null},H={transition:null},G={ReactCurrentDispatcher:te,ReactCurrentBatchConfig:H,ReactCurrentOwner:I};function q(){throw Error("act(...) is not supported in production builds of React.")}return Ne.Children={map:ae,forEach:function(N,j,me){ae(N,function(){j.apply(this,arguments)},me)},count:function(N){var j=0;return ae(N,function(){j++}),j},toArray:function(N){return ae(N,function(j){return j})||[]},only:function(N){if(!$(N))throw Error("React.Children.only expected to receive a single React element child.");return N}},Ne.Component=T,Ne.Fragment=t,Ne.Profiler=o,Ne.PureComponent=P,Ne.StrictMode=s,Ne.Suspense=d,Ne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=G,Ne.act=q,Ne.cloneElement=function(N,j,me){if(N==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+N+".");var de=w({},N.props),ie=N.key,ce=N.ref,_e=N._owner;if(j!=null){if(j.ref!==void 0&&(ce=j.ref,_e=I.current),j.key!==void 0&&(ie=""+j.key),N.type&&N.type.defaultProps)var re=N.type.defaultProps;for(Ee in j)E.call(j,Ee)&&!F.hasOwnProperty(Ee)&&(de[Ee]=j[Ee]===void 0&&re!==void 0?re[Ee]:j[Ee])}var Ee=arguments.length-2;if(Ee===1)de.children=me;else if(1<Ee){re=Array(Ee);for(var Le=0;Le<Ee;Le++)re[Le]=arguments[Le+2];de.children=re}return{$$typeof:n,type:N.type,key:ie,ref:ce,props:de,_owner:_e}},Ne.createContext=function(N){return N={$$typeof:u,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},N.Provider={$$typeof:l,_context:N},N.Consumer=N},Ne.createElement=R,Ne.createFactory=function(N){var j=R.bind(null,N);return j.type=N,j},Ne.createRef=function(){return{current:null}},Ne.forwardRef=function(N){return{$$typeof:c,render:N}},Ne.isValidElement=$,Ne.lazy=function(N){return{$$typeof:m,_payload:{_status:-1,_result:N},_init:Z}},Ne.memo=function(N,j){return{$$typeof:f,type:N,compare:j===void 0?null:j}},Ne.startTransition=function(N){var j=H.transition;H.transition={};try{N()}finally{H.transition=j}},Ne.unstable_act=q,Ne.useCallback=function(N,j){return te.current.useCallback(N,j)},Ne.useContext=function(N){return te.current.useContext(N)},Ne.useDebugValue=function(){},Ne.useDeferredValue=function(N){return te.current.useDeferredValue(N)},Ne.useEffect=function(N,j){return te.current.useEffect(N,j)},Ne.useId=function(){return te.current.useId()},Ne.useImperativeHandle=function(N,j,me){return te.current.useImperativeHandle(N,j,me)},Ne.useInsertionEffect=function(N,j){return te.current.useInsertionEffect(N,j)},Ne.useLayoutEffect=function(N,j){return te.current.useLayoutEffect(N,j)},Ne.useMemo=function(N,j){return te.current.useMemo(N,j)},Ne.useReducer=function(N,j,me){return te.current.useReducer(N,j,me)},Ne.useRef=function(N){return te.current.useRef(N)},Ne.useState=function(N){return te.current.useState(N)},Ne.useSyncExternalStore=function(N,j,me){return te.current.useSyncExternalStore(N,j,me)},Ne.useTransition=function(){return te.current.useTransition()},Ne.version="18.3.1",Ne}var fg;function gd(){return fg||(fg=1,Th.exports=u1()),Th.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pg;function c1(){if(pg)return Ro;pg=1;var n=gd(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function u(c,d,f){var m,g={},v=null,_=null;f!==void 0&&(v=""+f),d.key!==void 0&&(v=""+d.key),d.ref!==void 0&&(_=d.ref);for(m in d)s.call(d,m)&&!l.hasOwnProperty(m)&&(g[m]=d[m]);if(c&&c.defaultProps)for(m in d=c.defaultProps,d)g[m]===void 0&&(g[m]=d[m]);return{$$typeof:e,type:c,key:v,ref:_,props:g,_owner:o.current}}return Ro.Fragment=t,Ro.jsx=u,Ro.jsxs=u,Ro}var mg;function h1(){return mg||(mg=1,Sh.exports=c1()),Sh.exports}var D=h1(),b=gd();const yd=cv(b);var kl={},Ch={exports:{}},Zt={},kh={exports:{}},Eh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gg;function d1(){return gg||(gg=1,(function(n){function e(H,G){var q=H.length;H.push(G);e:for(;0<q;){var N=q-1>>>1,j=H[N];if(0<o(j,G))H[N]=G,H[q]=j,q=N;else break e}}function t(H){return H.length===0?null:H[0]}function s(H){if(H.length===0)return null;var G=H[0],q=H.pop();if(q!==G){H[0]=q;e:for(var N=0,j=H.length,me=j>>>1;N<me;){var de=2*(N+1)-1,ie=H[de],ce=de+1,_e=H[ce];if(0>o(ie,q))ce<j&&0>o(_e,ie)?(H[N]=_e,H[ce]=q,N=ce):(H[N]=ie,H[de]=q,N=de);else if(ce<j&&0>o(_e,q))H[N]=_e,H[ce]=q,N=ce;else break e}}return G}function o(H,G){var q=H.sortIndex-G.sortIndex;return q!==0?q:H.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var u=Date,c=u.now();n.unstable_now=function(){return u.now()-c}}var d=[],f=[],m=1,g=null,v=3,_=!1,w=!1,S=!1,T=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function k(H){for(var G=t(f);G!==null;){if(G.callback===null)s(f);else if(G.startTime<=H)s(f),G.sortIndex=G.expirationTime,e(d,G);else break;G=t(f)}}function V(H){if(S=!1,k(H),!w)if(t(d)!==null)w=!0,Z(E);else{var G=t(f);G!==null&&te(V,G.startTime-H)}}function E(H,G){w=!1,S&&(S=!1,C(R),R=-1),_=!0;var q=v;try{for(k(G),g=t(d);g!==null&&(!(g.expirationTime>G)||H&&!Y());){var N=g.callback;if(typeof N=="function"){g.callback=null,v=g.priorityLevel;var j=N(g.expirationTime<=G);G=n.unstable_now(),typeof j=="function"?g.callback=j:g===t(d)&&s(d),k(G)}else s(d);g=t(d)}if(g!==null)var me=!0;else{var de=t(f);de!==null&&te(V,de.startTime-G),me=!1}return me}finally{g=null,v=q,_=!1}}var I=!1,F=null,R=-1,W=5,$=-1;function Y(){return!(n.unstable_now()-$<W)}function z(){if(F!==null){var H=n.unstable_now();$=H;var G=!0;try{G=F(!0,H)}finally{G?ee():(I=!1,F=null)}}else I=!1}var ee;if(typeof P=="function")ee=function(){P(z)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,ae=X.port2;X.port1.onmessage=z,ee=function(){ae.postMessage(null)}}else ee=function(){T(z,0)};function Z(H){F=H,I||(I=!0,ee())}function te(H,G){R=T(function(){H(n.unstable_now())},G)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(H){H.callback=null},n.unstable_continueExecution=function(){w||_||(w=!0,Z(E))},n.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):W=0<H?Math.floor(1e3/H):5},n.unstable_getCurrentPriorityLevel=function(){return v},n.unstable_getFirstCallbackNode=function(){return t(d)},n.unstable_next=function(H){switch(v){case 1:case 2:case 3:var G=3;break;default:G=v}var q=v;v=G;try{return H()}finally{v=q}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(H,G){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var q=v;v=H;try{return G()}finally{v=q}},n.unstable_scheduleCallback=function(H,G,q){var N=n.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?N+q:N):q=N,H){case 1:var j=-1;break;case 2:j=250;break;case 5:j=1073741823;break;case 4:j=1e4;break;default:j=5e3}return j=q+j,H={id:m++,callback:G,priorityLevel:H,startTime:q,expirationTime:j,sortIndex:-1},q>N?(H.sortIndex=q,e(f,H),t(d)===null&&H===t(f)&&(S?(C(R),R=-1):S=!0,te(V,q-N))):(H.sortIndex=j,e(d,H),w||_||(w=!0,Z(E))),H},n.unstable_shouldYield=Y,n.unstable_wrapCallback=function(H){var G=v;return function(){var q=v;v=G;try{return H.apply(this,arguments)}finally{v=q}}}})(Eh)),Eh}var yg;function f1(){return yg||(yg=1,kh.exports=d1()),kh.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vg;function p1(){if(vg)return Zt;vg=1;var n=gd(),e=f1();function t(r){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+r,a=1;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+r+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,o={};function l(r,i){u(r,i),u(r+"Capture",i)}function u(r,i){for(o[r]=i,r=0;r<i.length;r++)s.add(i[r])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},g={};function v(r){return d.call(g,r)?!0:d.call(m,r)?!1:f.test(r)?g[r]=!0:(m[r]=!0,!1)}function _(r,i,a,h){if(a!==null&&a.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return h?!1:a!==null?!a.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function w(r,i,a,h){if(i===null||typeof i>"u"||_(r,i,a,h))return!0;if(h)return!1;if(a!==null)switch(a.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function S(r,i,a,h,p,y,x){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=h,this.attributeNamespace=p,this.mustUseProperty=a,this.propertyName=r,this.type=i,this.sanitizeURL=y,this.removeEmptyString=x}var T={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){T[r]=new S(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var i=r[0];T[i]=new S(i,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){T[r]=new S(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){T[r]=new S(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){T[r]=new S(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){T[r]=new S(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){T[r]=new S(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){T[r]=new S(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){T[r]=new S(r,5,!1,r.toLowerCase(),null,!1,!1)});var C=/[\-:]([a-z])/g;function P(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var i=r.replace(C,P);T[i]=new S(i,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var i=r.replace(C,P);T[i]=new S(i,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var i=r.replace(C,P);T[i]=new S(i,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){T[r]=new S(r,1,!1,r.toLowerCase(),null,!1,!1)}),T.xlinkHref=new S("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){T[r]=new S(r,1,!1,r.toLowerCase(),null,!0,!0)});function k(r,i,a,h){var p=T.hasOwnProperty(i)?T[i]:null;(p!==null?p.type!==0:h||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(w(i,a,p,h)&&(a=null),h||p===null?v(i)&&(a===null?r.removeAttribute(i):r.setAttribute(i,""+a)):p.mustUseProperty?r[p.propertyName]=a===null?p.type===3?!1:"":a:(i=p.attributeName,h=p.attributeNamespace,a===null?r.removeAttribute(i):(p=p.type,a=p===3||p===4&&a===!0?"":""+a,h?r.setAttributeNS(h,i,a):r.setAttribute(i,a))))}var V=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,E=Symbol.for("react.element"),I=Symbol.for("react.portal"),F=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),W=Symbol.for("react.profiler"),$=Symbol.for("react.provider"),Y=Symbol.for("react.context"),z=Symbol.for("react.forward_ref"),ee=Symbol.for("react.suspense"),X=Symbol.for("react.suspense_list"),ae=Symbol.for("react.memo"),Z=Symbol.for("react.lazy"),te=Symbol.for("react.offscreen"),H=Symbol.iterator;function G(r){return r===null||typeof r!="object"?null:(r=H&&r[H]||r["@@iterator"],typeof r=="function"?r:null)}var q=Object.assign,N;function j(r){if(N===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);N=i&&i[1]||""}return`
`+N+r}var me=!1;function de(r,i){if(!r||me)return"";me=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(U){var h=U}Reflect.construct(r,[],i)}else{try{i.call()}catch(U){h=U}r.call(i.prototype)}else{try{throw Error()}catch(U){h=U}r()}}catch(U){if(U&&h&&typeof U.stack=="string"){for(var p=U.stack.split(`
`),y=h.stack.split(`
`),x=p.length-1,A=y.length-1;1<=x&&0<=A&&p[x]!==y[A];)A--;for(;1<=x&&0<=A;x--,A--)if(p[x]!==y[A]){if(x!==1||A!==1)do if(x--,A--,0>A||p[x]!==y[A]){var M=`
`+p[x].replace(" at new "," at ");return r.displayName&&M.includes("<anonymous>")&&(M=M.replace("<anonymous>",r.displayName)),M}while(1<=x&&0<=A);break}}}finally{me=!1,Error.prepareStackTrace=a}return(r=r?r.displayName||r.name:"")?j(r):""}function ie(r){switch(r.tag){case 5:return j(r.type);case 16:return j("Lazy");case 13:return j("Suspense");case 19:return j("SuspenseList");case 0:case 2:case 15:return r=de(r.type,!1),r;case 11:return r=de(r.type.render,!1),r;case 1:return r=de(r.type,!0),r;default:return""}}function ce(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case F:return"Fragment";case I:return"Portal";case W:return"Profiler";case R:return"StrictMode";case ee:return"Suspense";case X:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case Y:return(r.displayName||"Context")+".Consumer";case $:return(r._context.displayName||"Context")+".Provider";case z:var i=r.render;return r=r.displayName,r||(r=i.displayName||i.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case ae:return i=r.displayName||null,i!==null?i:ce(r.type)||"Memo";case Z:i=r._payload,r=r._init;try{return ce(r(i))}catch{}}return null}function _e(r){var i=r.type;switch(r.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=i.render,r=r.displayName||r.name||"",i.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ce(i);case 8:return i===R?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function re(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Ee(r){var i=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Le(r){var i=Ee(r)?"checked":"value",a=Object.getOwnPropertyDescriptor(r.constructor.prototype,i),h=""+r[i];if(!r.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var p=a.get,y=a.set;return Object.defineProperty(r,i,{configurable:!0,get:function(){return p.call(this)},set:function(x){h=""+x,y.call(this,x)}}),Object.defineProperty(r,i,{enumerable:a.enumerable}),{getValue:function(){return h},setValue:function(x){h=""+x},stopTracking:function(){r._valueTracker=null,delete r[i]}}}}function lt(r){r._valueTracker||(r._valueTracker=Le(r))}function rn(r){if(!r)return!1;var i=r._valueTracker;if(!i)return!0;var a=i.getValue(),h="";return r&&(h=Ee(r)?r.checked?"true":"false":r.value),r=h,r!==a?(i.setValue(r),!0):!1}function Rr(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function gs(r,i){var a=i.checked;return q({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??r._wrapperState.initialChecked})}function oe(r,i){var a=i.defaultValue==null?"":i.defaultValue,h=i.checked!=null?i.checked:i.defaultChecked;a=re(i.value!=null?i.value:a),r._wrapperState={initialChecked:h,initialValue:a,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function ge(r,i){i=i.checked,i!=null&&k(r,"checked",i,!1)}function $e(r,i){ge(r,i);var a=re(i.value),h=i.type;if(a!=null)h==="number"?(a===0&&r.value===""||r.value!=a)&&(r.value=""+a):r.value!==""+a&&(r.value=""+a);else if(h==="submit"||h==="reset"){r.removeAttribute("value");return}i.hasOwnProperty("value")?Pe(r,i.type,a):i.hasOwnProperty("defaultValue")&&Pe(r,i.type,re(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(r.defaultChecked=!!i.defaultChecked)}function je(r,i,a){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var h=i.type;if(!(h!=="submit"&&h!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+r._wrapperState.initialValue,a||i===r.value||(r.value=i),r.defaultValue=i}a=r.name,a!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,a!==""&&(r.name=a)}function Pe(r,i,a){(i!=="number"||Rr(r.ownerDocument)!==r)&&(a==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+a&&(r.defaultValue=""+a))}var Ve=Array.isArray;function ut(r,i,a,h){if(r=r.options,i){i={};for(var p=0;p<a.length;p++)i["$"+a[p]]=!0;for(a=0;a<r.length;a++)p=i.hasOwnProperty("$"+r[a].value),r[a].selected!==p&&(r[a].selected=p),p&&h&&(r[a].defaultSelected=!0)}else{for(a=""+re(a),i=null,p=0;p<r.length;p++){if(r[p].value===a){r[p].selected=!0,h&&(r[p].defaultSelected=!0);return}i!==null||r[p].disabled||(i=r[p])}i!==null&&(i.selected=!0)}}function jt(r,i){if(i.dangerouslySetInnerHTML!=null)throw Error(t(91));return q({},i,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function se(r,i){var a=i.value;if(a==null){if(a=i.children,i=i.defaultValue,a!=null){if(i!=null)throw Error(t(92));if(Ve(a)){if(1<a.length)throw Error(t(93));a=a[0]}i=a}i==null&&(i=""),a=i}r._wrapperState={initialValue:re(a)}}function we(r,i){var a=re(i.value),h=re(i.defaultValue);a!=null&&(a=""+a,a!==r.value&&(r.value=a),i.defaultValue==null&&r.defaultValue!==a&&(r.defaultValue=a)),h!=null&&(r.defaultValue=""+h)}function Ae(r){var i=r.textContent;i===r._wrapperState.initialValue&&i!==""&&i!==null&&(r.value=i)}function De(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function et(r,i){return r==null||r==="http://www.w3.org/1999/xhtml"?De(i):r==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var Bt,sn=(function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,a,h,p){MSApp.execUnsafeLocalFunction(function(){return r(i,a,h,p)})}:r})(function(r,i){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=i;else{for(Bt=Bt||document.createElement("div"),Bt.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=Bt.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;i.firstChild;)r.appendChild(i.firstChild)}});function ct(r,i){if(i){var a=r.firstChild;if(a&&a===r.lastChild&&a.nodeType===3){a.nodeValue=i;return}}r.textContent=i}var Oe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ke=["Webkit","ms","Moz","O"];Object.keys(Oe).forEach(function(r){ke.forEach(function(i){i=i+r.charAt(0).toUpperCase()+r.substring(1),Oe[i]=Oe[r]})});function Mn(r,i,a){return i==null||typeof i=="boolean"||i===""?"":a||typeof i!="number"||i===0||Oe.hasOwnProperty(r)&&Oe[r]?(""+i).trim():i+"px"}function ar(r,i){r=r.style;for(var a in i)if(i.hasOwnProperty(a)){var h=a.indexOf("--")===0,p=Mn(a,i[a],h);a==="float"&&(a="cssFloat"),h?r.setProperty(a,p):r[a]=p}}var Hi=q({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function yn(r,i){if(i){if(Hi[r]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(t(137,r));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(t(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(t(61))}if(i.style!=null&&typeof i.style!="object")throw Error(t(62))}}function Dn(r,i){if(r.indexOf("-")===-1)return typeof i.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Mr=null;function Xn(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Gi=null,Ht=null,on=null;function vn(r){if(r=go(r)){if(typeof Gi!="function")throw Error(t(280));var i=r.stateNode;i&&(i=Ba(i),Gi(r.stateNode,r.type,i))}}function lr(r){Ht?on?on.push(r):on=[r]:Ht=r}function Dr(){if(Ht){var r=Ht,i=on;if(on=Ht=null,vn(r),i)for(r=0;r<i.length;r++)vn(i[r])}}function ya(r,i){return r(i)}function Df(){}var ju=!1;function Of(r,i,a){if(ju)return r(i,a);ju=!0;try{return ya(r,i,a)}finally{ju=!1,(Ht!==null||on!==null)&&(Df(),Dr())}}function Yi(r,i){var a=r.stateNode;if(a===null)return null;var h=Ba(a);if(h===null)return null;a=h[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(r=r.type,h=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!h;break e;default:r=!1}if(r)return null;if(a&&typeof a!="function")throw Error(t(231,i,typeof a));return a}var Bu=!1;if(c)try{var Xi={};Object.defineProperty(Xi,"passive",{get:function(){Bu=!0}}),window.addEventListener("test",Xi,Xi),window.removeEventListener("test",Xi,Xi)}catch{Bu=!1}function mw(r,i,a,h,p,y,x,A,M){var U=Array.prototype.slice.call(arguments,3);try{i.apply(a,U)}catch(K){this.onError(K)}}var Qi=!1,va=null,_a=!1,Uu=null,gw={onError:function(r){Qi=!0,va=r}};function yw(r,i,a,h,p,y,x,A,M){Qi=!1,va=null,mw.apply(gw,arguments)}function vw(r,i,a,h,p,y,x,A,M){if(yw.apply(this,arguments),Qi){if(Qi){var U=va;Qi=!1,va=null}else throw Error(t(198));_a||(_a=!0,Uu=U)}}function ys(r){var i=r,a=r;if(r.alternate)for(;i.return;)i=i.return;else{r=i;do i=r,(i.flags&4098)!==0&&(a=i.return),r=i.return;while(r)}return i.tag===3?a:null}function If(r){if(r.tag===13){var i=r.memoizedState;if(i===null&&(r=r.alternate,r!==null&&(i=r.memoizedState)),i!==null)return i.dehydrated}return null}function Vf(r){if(ys(r)!==r)throw Error(t(188))}function _w(r){var i=r.alternate;if(!i){if(i=ys(r),i===null)throw Error(t(188));return i!==r?null:r}for(var a=r,h=i;;){var p=a.return;if(p===null)break;var y=p.alternate;if(y===null){if(h=p.return,h!==null){a=h;continue}break}if(p.child===y.child){for(y=p.child;y;){if(y===a)return Vf(p),r;if(y===h)return Vf(p),i;y=y.sibling}throw Error(t(188))}if(a.return!==h.return)a=p,h=y;else{for(var x=!1,A=p.child;A;){if(A===a){x=!0,a=p,h=y;break}if(A===h){x=!0,h=p,a=y;break}A=A.sibling}if(!x){for(A=y.child;A;){if(A===a){x=!0,a=y,h=p;break}if(A===h){x=!0,h=y,a=p;break}A=A.sibling}if(!x)throw Error(t(189))}}if(a.alternate!==h)throw Error(t(190))}if(a.tag!==3)throw Error(t(188));return a.stateNode.current===a?r:i}function Ff(r){return r=_w(r),r!==null?Lf(r):null}function Lf(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var i=Lf(r);if(i!==null)return i;r=r.sibling}return null}var jf=e.unstable_scheduleCallback,Bf=e.unstable_cancelCallback,ww=e.unstable_shouldYield,xw=e.unstable_requestPaint,ht=e.unstable_now,Sw=e.unstable_getCurrentPriorityLevel,Wu=e.unstable_ImmediatePriority,Uf=e.unstable_UserBlockingPriority,wa=e.unstable_NormalPriority,Tw=e.unstable_LowPriority,Wf=e.unstable_IdlePriority,xa=null,Qn=null;function Cw(r){if(Qn&&typeof Qn.onCommitFiberRoot=="function")try{Qn.onCommitFiberRoot(xa,r,void 0,(r.current.flags&128)===128)}catch{}}var On=Math.clz32?Math.clz32:Aw,kw=Math.log,Ew=Math.LN2;function Aw(r){return r>>>=0,r===0?32:31-(kw(r)/Ew|0)|0}var Sa=64,Ta=4194304;function Ki(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function Ca(r,i){var a=r.pendingLanes;if(a===0)return 0;var h=0,p=r.suspendedLanes,y=r.pingedLanes,x=a&268435455;if(x!==0){var A=x&~p;A!==0?h=Ki(A):(y&=x,y!==0&&(h=Ki(y)))}else x=a&~p,x!==0?h=Ki(x):y!==0&&(h=Ki(y));if(h===0)return 0;if(i!==0&&i!==h&&(i&p)===0&&(p=h&-h,y=i&-i,p>=y||p===16&&(y&4194240)!==0))return i;if((h&4)!==0&&(h|=a&16),i=r.entangledLanes,i!==0)for(r=r.entanglements,i&=h;0<i;)a=31-On(i),p=1<<a,h|=r[a],i&=~p;return h}function Nw(r,i){switch(r){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Pw(r,i){for(var a=r.suspendedLanes,h=r.pingedLanes,p=r.expirationTimes,y=r.pendingLanes;0<y;){var x=31-On(y),A=1<<x,M=p[x];M===-1?((A&a)===0||(A&h)!==0)&&(p[x]=Nw(A,i)):M<=i&&(r.expiredLanes|=A),y&=~A}}function zu(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function zf(){var r=Sa;return Sa<<=1,(Sa&4194240)===0&&(Sa=64),r}function $u(r){for(var i=[],a=0;31>a;a++)i.push(r);return i}function Zi(r,i,a){r.pendingLanes|=i,i!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,i=31-On(i),r[i]=a}function bw(r,i){var a=r.pendingLanes&~i;r.pendingLanes=i,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=i,r.mutableReadLanes&=i,r.entangledLanes&=i,i=r.entanglements;var h=r.eventTimes;for(r=r.expirationTimes;0<a;){var p=31-On(a),y=1<<p;i[p]=0,h[p]=-1,r[p]=-1,a&=~y}}function qu(r,i){var a=r.entangledLanes|=i;for(r=r.entanglements;a;){var h=31-On(a),p=1<<h;p&i|r[h]&i&&(r[h]|=i),a&=~p}}var Fe=0;function $f(r){return r&=-r,1<r?4<r?(r&268435455)!==0?16:536870912:4:1}var qf,Hu,Hf,Gf,Yf,Gu=!1,ka=[],Or=null,Ir=null,Vr=null,Ji=new Map,eo=new Map,Fr=[],Rw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Xf(r,i){switch(r){case"focusin":case"focusout":Or=null;break;case"dragenter":case"dragleave":Ir=null;break;case"mouseover":case"mouseout":Vr=null;break;case"pointerover":case"pointerout":Ji.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":eo.delete(i.pointerId)}}function to(r,i,a,h,p,y){return r===null||r.nativeEvent!==y?(r={blockedOn:i,domEventName:a,eventSystemFlags:h,nativeEvent:y,targetContainers:[p]},i!==null&&(i=go(i),i!==null&&Hu(i)),r):(r.eventSystemFlags|=h,i=r.targetContainers,p!==null&&i.indexOf(p)===-1&&i.push(p),r)}function Mw(r,i,a,h,p){switch(i){case"focusin":return Or=to(Or,r,i,a,h,p),!0;case"dragenter":return Ir=to(Ir,r,i,a,h,p),!0;case"mouseover":return Vr=to(Vr,r,i,a,h,p),!0;case"pointerover":var y=p.pointerId;return Ji.set(y,to(Ji.get(y)||null,r,i,a,h,p)),!0;case"gotpointercapture":return y=p.pointerId,eo.set(y,to(eo.get(y)||null,r,i,a,h,p)),!0}return!1}function Qf(r){var i=vs(r.target);if(i!==null){var a=ys(i);if(a!==null){if(i=a.tag,i===13){if(i=If(a),i!==null){r.blockedOn=i,Yf(r.priority,function(){Hf(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){r.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Ea(r){if(r.blockedOn!==null)return!1;for(var i=r.targetContainers;0<i.length;){var a=Xu(r.domEventName,r.eventSystemFlags,i[0],r.nativeEvent);if(a===null){a=r.nativeEvent;var h=new a.constructor(a.type,a);Mr=h,a.target.dispatchEvent(h),Mr=null}else return i=go(a),i!==null&&Hu(i),r.blockedOn=a,!1;i.shift()}return!0}function Kf(r,i,a){Ea(r)&&a.delete(i)}function Dw(){Gu=!1,Or!==null&&Ea(Or)&&(Or=null),Ir!==null&&Ea(Ir)&&(Ir=null),Vr!==null&&Ea(Vr)&&(Vr=null),Ji.forEach(Kf),eo.forEach(Kf)}function no(r,i){r.blockedOn===i&&(r.blockedOn=null,Gu||(Gu=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Dw)))}function ro(r){function i(p){return no(p,r)}if(0<ka.length){no(ka[0],r);for(var a=1;a<ka.length;a++){var h=ka[a];h.blockedOn===r&&(h.blockedOn=null)}}for(Or!==null&&no(Or,r),Ir!==null&&no(Ir,r),Vr!==null&&no(Vr,r),Ji.forEach(i),eo.forEach(i),a=0;a<Fr.length;a++)h=Fr[a],h.blockedOn===r&&(h.blockedOn=null);for(;0<Fr.length&&(a=Fr[0],a.blockedOn===null);)Qf(a),a.blockedOn===null&&Fr.shift()}var Ys=V.ReactCurrentBatchConfig,Aa=!0;function Ow(r,i,a,h){var p=Fe,y=Ys.transition;Ys.transition=null;try{Fe=1,Yu(r,i,a,h)}finally{Fe=p,Ys.transition=y}}function Iw(r,i,a,h){var p=Fe,y=Ys.transition;Ys.transition=null;try{Fe=4,Yu(r,i,a,h)}finally{Fe=p,Ys.transition=y}}function Yu(r,i,a,h){if(Aa){var p=Xu(r,i,a,h);if(p===null)dc(r,i,h,Na,a),Xf(r,h);else if(Mw(p,r,i,a,h))h.stopPropagation();else if(Xf(r,h),i&4&&-1<Rw.indexOf(r)){for(;p!==null;){var y=go(p);if(y!==null&&qf(y),y=Xu(r,i,a,h),y===null&&dc(r,i,h,Na,a),y===p)break;p=y}p!==null&&h.stopPropagation()}else dc(r,i,h,null,a)}}var Na=null;function Xu(r,i,a,h){if(Na=null,r=Xn(h),r=vs(r),r!==null)if(i=ys(r),i===null)r=null;else if(a=i.tag,a===13){if(r=If(i),r!==null)return r;r=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;r=null}else i!==r&&(r=null);return Na=r,null}function Zf(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Sw()){case Wu:return 1;case Uf:return 4;case wa:case Tw:return 16;case Wf:return 536870912;default:return 16}default:return 16}}var Lr=null,Qu=null,Pa=null;function Jf(){if(Pa)return Pa;var r,i=Qu,a=i.length,h,p="value"in Lr?Lr.value:Lr.textContent,y=p.length;for(r=0;r<a&&i[r]===p[r];r++);var x=a-r;for(h=1;h<=x&&i[a-h]===p[y-h];h++);return Pa=p.slice(r,1<h?1-h:void 0)}function ba(r){var i=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&i===13&&(r=13)):r=i,r===10&&(r=13),32<=r||r===13?r:0}function Ra(){return!0}function ep(){return!1}function an(r){function i(a,h,p,y,x){this._reactName=a,this._targetInst=p,this.type=h,this.nativeEvent=y,this.target=x,this.currentTarget=null;for(var A in r)r.hasOwnProperty(A)&&(a=r[A],this[A]=a?a(y):y[A]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?Ra:ep,this.isPropagationStopped=ep,this}return q(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ra)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ra)},persist:function(){},isPersistent:Ra}),i}var Xs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ku=an(Xs),so=q({},Xs,{view:0,detail:0}),Vw=an(so),Zu,Ju,io,Ma=q({},so,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:tc,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==io&&(io&&r.type==="mousemove"?(Zu=r.screenX-io.screenX,Ju=r.screenY-io.screenY):Ju=Zu=0,io=r),Zu)},movementY:function(r){return"movementY"in r?r.movementY:Ju}}),tp=an(Ma),Fw=q({},Ma,{dataTransfer:0}),Lw=an(Fw),jw=q({},so,{relatedTarget:0}),ec=an(jw),Bw=q({},Xs,{animationName:0,elapsedTime:0,pseudoElement:0}),Uw=an(Bw),Ww=q({},Xs,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),zw=an(Ww),$w=q({},Xs,{data:0}),np=an($w),qw={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Hw={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Gw={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Yw(r){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(r):(r=Gw[r])?!!i[r]:!1}function tc(){return Yw}var Xw=q({},so,{key:function(r){if(r.key){var i=qw[r.key]||r.key;if(i!=="Unidentified")return i}return r.type==="keypress"?(r=ba(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Hw[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:tc,charCode:function(r){return r.type==="keypress"?ba(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?ba(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),Qw=an(Xw),Kw=q({},Ma,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),rp=an(Kw),Zw=q({},so,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:tc}),Jw=an(Zw),ex=q({},Xs,{propertyName:0,elapsedTime:0,pseudoElement:0}),tx=an(ex),nx=q({},Ma,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),rx=an(nx),sx=[9,13,27,32],nc=c&&"CompositionEvent"in window,oo=null;c&&"documentMode"in document&&(oo=document.documentMode);var ix=c&&"TextEvent"in window&&!oo,sp=c&&(!nc||oo&&8<oo&&11>=oo),ip=" ",op=!1;function ap(r,i){switch(r){case"keyup":return sx.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function lp(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Qs=!1;function ox(r,i){switch(r){case"compositionend":return lp(i);case"keypress":return i.which!==32?null:(op=!0,ip);case"textInput":return r=i.data,r===ip&&op?null:r;default:return null}}function ax(r,i){if(Qs)return r==="compositionend"||!nc&&ap(r,i)?(r=Jf(),Pa=Qu=Lr=null,Qs=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return sp&&i.locale!=="ko"?null:i.data;default:return null}}var lx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function up(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i==="input"?!!lx[r.type]:i==="textarea"}function cp(r,i,a,h){lr(h),i=Fa(i,"onChange"),0<i.length&&(a=new Ku("onChange","change",null,a,h),r.push({event:a,listeners:i}))}var ao=null,lo=null;function ux(r){Np(r,0)}function Da(r){var i=ti(r);if(rn(i))return r}function cx(r,i){if(r==="change")return i}var hp=!1;if(c){var rc;if(c){var sc="oninput"in document;if(!sc){var dp=document.createElement("div");dp.setAttribute("oninput","return;"),sc=typeof dp.oninput=="function"}rc=sc}else rc=!1;hp=rc&&(!document.documentMode||9<document.documentMode)}function fp(){ao&&(ao.detachEvent("onpropertychange",pp),lo=ao=null)}function pp(r){if(r.propertyName==="value"&&Da(lo)){var i=[];cp(i,lo,r,Xn(r)),Of(ux,i)}}function hx(r,i,a){r==="focusin"?(fp(),ao=i,lo=a,ao.attachEvent("onpropertychange",pp)):r==="focusout"&&fp()}function dx(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Da(lo)}function fx(r,i){if(r==="click")return Da(i)}function px(r,i){if(r==="input"||r==="change")return Da(i)}function mx(r,i){return r===i&&(r!==0||1/r===1/i)||r!==r&&i!==i}var In=typeof Object.is=="function"?Object.is:mx;function uo(r,i){if(In(r,i))return!0;if(typeof r!="object"||r===null||typeof i!="object"||i===null)return!1;var a=Object.keys(r),h=Object.keys(i);if(a.length!==h.length)return!1;for(h=0;h<a.length;h++){var p=a[h];if(!d.call(i,p)||!In(r[p],i[p]))return!1}return!0}function mp(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function gp(r,i){var a=mp(r);r=0;for(var h;a;){if(a.nodeType===3){if(h=r+a.textContent.length,r<=i&&h>=i)return{node:a,offset:i-r};r=h}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=mp(a)}}function yp(r,i){return r&&i?r===i?!0:r&&r.nodeType===3?!1:i&&i.nodeType===3?yp(r,i.parentNode):"contains"in r?r.contains(i):r.compareDocumentPosition?!!(r.compareDocumentPosition(i)&16):!1:!1}function vp(){for(var r=window,i=Rr();i instanceof r.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)r=i.contentWindow;else break;i=Rr(r.document)}return i}function ic(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i&&(i==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||i==="textarea"||r.contentEditable==="true")}function gx(r){var i=vp(),a=r.focusedElem,h=r.selectionRange;if(i!==a&&a&&a.ownerDocument&&yp(a.ownerDocument.documentElement,a)){if(h!==null&&ic(a)){if(i=h.start,r=h.end,r===void 0&&(r=i),"selectionStart"in a)a.selectionStart=i,a.selectionEnd=Math.min(r,a.value.length);else if(r=(i=a.ownerDocument||document)&&i.defaultView||window,r.getSelection){r=r.getSelection();var p=a.textContent.length,y=Math.min(h.start,p);h=h.end===void 0?y:Math.min(h.end,p),!r.extend&&y>h&&(p=h,h=y,y=p),p=gp(a,y);var x=gp(a,h);p&&x&&(r.rangeCount!==1||r.anchorNode!==p.node||r.anchorOffset!==p.offset||r.focusNode!==x.node||r.focusOffset!==x.offset)&&(i=i.createRange(),i.setStart(p.node,p.offset),r.removeAllRanges(),y>h?(r.addRange(i),r.extend(x.node,x.offset)):(i.setEnd(x.node,x.offset),r.addRange(i)))}}for(i=[],r=a;r=r.parentNode;)r.nodeType===1&&i.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<i.length;a++)r=i[a],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var yx=c&&"documentMode"in document&&11>=document.documentMode,Ks=null,oc=null,co=null,ac=!1;function _p(r,i,a){var h=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;ac||Ks==null||Ks!==Rr(h)||(h=Ks,"selectionStart"in h&&ic(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),co&&uo(co,h)||(co=h,h=Fa(oc,"onSelect"),0<h.length&&(i=new Ku("onSelect","select",null,i,a),r.push({event:i,listeners:h}),i.target=Ks)))}function Oa(r,i){var a={};return a[r.toLowerCase()]=i.toLowerCase(),a["Webkit"+r]="webkit"+i,a["Moz"+r]="moz"+i,a}var Zs={animationend:Oa("Animation","AnimationEnd"),animationiteration:Oa("Animation","AnimationIteration"),animationstart:Oa("Animation","AnimationStart"),transitionend:Oa("Transition","TransitionEnd")},lc={},wp={};c&&(wp=document.createElement("div").style,"AnimationEvent"in window||(delete Zs.animationend.animation,delete Zs.animationiteration.animation,delete Zs.animationstart.animation),"TransitionEvent"in window||delete Zs.transitionend.transition);function Ia(r){if(lc[r])return lc[r];if(!Zs[r])return r;var i=Zs[r],a;for(a in i)if(i.hasOwnProperty(a)&&a in wp)return lc[r]=i[a];return r}var xp=Ia("animationend"),Sp=Ia("animationiteration"),Tp=Ia("animationstart"),Cp=Ia("transitionend"),kp=new Map,Ep="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function jr(r,i){kp.set(r,i),l(i,[r])}for(var uc=0;uc<Ep.length;uc++){var cc=Ep[uc],vx=cc.toLowerCase(),_x=cc[0].toUpperCase()+cc.slice(1);jr(vx,"on"+_x)}jr(xp,"onAnimationEnd"),jr(Sp,"onAnimationIteration"),jr(Tp,"onAnimationStart"),jr("dblclick","onDoubleClick"),jr("focusin","onFocus"),jr("focusout","onBlur"),jr(Cp,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ho="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),wx=new Set("cancel close invalid load scroll toggle".split(" ").concat(ho));function Ap(r,i,a){var h=r.type||"unknown-event";r.currentTarget=a,vw(h,i,void 0,r),r.currentTarget=null}function Np(r,i){i=(i&4)!==0;for(var a=0;a<r.length;a++){var h=r[a],p=h.event;h=h.listeners;e:{var y=void 0;if(i)for(var x=h.length-1;0<=x;x--){var A=h[x],M=A.instance,U=A.currentTarget;if(A=A.listener,M!==y&&p.isPropagationStopped())break e;Ap(p,A,U),y=M}else for(x=0;x<h.length;x++){if(A=h[x],M=A.instance,U=A.currentTarget,A=A.listener,M!==y&&p.isPropagationStopped())break e;Ap(p,A,U),y=M}}}if(_a)throw r=Uu,_a=!1,Uu=null,r}function qe(r,i){var a=i[vc];a===void 0&&(a=i[vc]=new Set);var h=r+"__bubble";a.has(h)||(Pp(i,r,2,!1),a.add(h))}function hc(r,i,a){var h=0;i&&(h|=4),Pp(a,r,h,i)}var Va="_reactListening"+Math.random().toString(36).slice(2);function fo(r){if(!r[Va]){r[Va]=!0,s.forEach(function(a){a!=="selectionchange"&&(wx.has(a)||hc(a,!1,r),hc(a,!0,r))});var i=r.nodeType===9?r:r.ownerDocument;i===null||i[Va]||(i[Va]=!0,hc("selectionchange",!1,i))}}function Pp(r,i,a,h){switch(Zf(i)){case 1:var p=Ow;break;case 4:p=Iw;break;default:p=Yu}a=p.bind(null,i,a,r),p=void 0,!Bu||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(p=!0),h?p!==void 0?r.addEventListener(i,a,{capture:!0,passive:p}):r.addEventListener(i,a,!0):p!==void 0?r.addEventListener(i,a,{passive:p}):r.addEventListener(i,a,!1)}function dc(r,i,a,h,p){var y=h;if((i&1)===0&&(i&2)===0&&h!==null)e:for(;;){if(h===null)return;var x=h.tag;if(x===3||x===4){var A=h.stateNode.containerInfo;if(A===p||A.nodeType===8&&A.parentNode===p)break;if(x===4)for(x=h.return;x!==null;){var M=x.tag;if((M===3||M===4)&&(M=x.stateNode.containerInfo,M===p||M.nodeType===8&&M.parentNode===p))return;x=x.return}for(;A!==null;){if(x=vs(A),x===null)return;if(M=x.tag,M===5||M===6){h=y=x;continue e}A=A.parentNode}}h=h.return}Of(function(){var U=y,K=Xn(a),J=[];e:{var Q=kp.get(r);if(Q!==void 0){var le=Ku,he=r;switch(r){case"keypress":if(ba(a)===0)break e;case"keydown":case"keyup":le=Qw;break;case"focusin":he="focus",le=ec;break;case"focusout":he="blur",le=ec;break;case"beforeblur":case"afterblur":le=ec;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":le=tp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":le=Lw;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":le=Jw;break;case xp:case Sp:case Tp:le=Uw;break;case Cp:le=tx;break;case"scroll":le=Vw;break;case"wheel":le=rx;break;case"copy":case"cut":case"paste":le=zw;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":le=rp}var fe=(i&4)!==0,dt=!fe&&r==="scroll",L=fe?Q!==null?Q+"Capture":null:Q;fe=[];for(var O=U,B;O!==null;){B=O;var ne=B.stateNode;if(B.tag===5&&ne!==null&&(B=ne,L!==null&&(ne=Yi(O,L),ne!=null&&fe.push(po(O,ne,B)))),dt)break;O=O.return}0<fe.length&&(Q=new le(Q,he,null,a,K),J.push({event:Q,listeners:fe}))}}if((i&7)===0){e:{if(Q=r==="mouseover"||r==="pointerover",le=r==="mouseout"||r==="pointerout",Q&&a!==Mr&&(he=a.relatedTarget||a.fromElement)&&(vs(he)||he[ur]))break e;if((le||Q)&&(Q=K.window===K?K:(Q=K.ownerDocument)?Q.defaultView||Q.parentWindow:window,le?(he=a.relatedTarget||a.toElement,le=U,he=he?vs(he):null,he!==null&&(dt=ys(he),he!==dt||he.tag!==5&&he.tag!==6)&&(he=null)):(le=null,he=U),le!==he)){if(fe=tp,ne="onMouseLeave",L="onMouseEnter",O="mouse",(r==="pointerout"||r==="pointerover")&&(fe=rp,ne="onPointerLeave",L="onPointerEnter",O="pointer"),dt=le==null?Q:ti(le),B=he==null?Q:ti(he),Q=new fe(ne,O+"leave",le,a,K),Q.target=dt,Q.relatedTarget=B,ne=null,vs(K)===U&&(fe=new fe(L,O+"enter",he,a,K),fe.target=B,fe.relatedTarget=dt,ne=fe),dt=ne,le&&he)t:{for(fe=le,L=he,O=0,B=fe;B;B=Js(B))O++;for(B=0,ne=L;ne;ne=Js(ne))B++;for(;0<O-B;)fe=Js(fe),O--;for(;0<B-O;)L=Js(L),B--;for(;O--;){if(fe===L||L!==null&&fe===L.alternate)break t;fe=Js(fe),L=Js(L)}fe=null}else fe=null;le!==null&&bp(J,Q,le,fe,!1),he!==null&&dt!==null&&bp(J,dt,he,fe,!0)}}e:{if(Q=U?ti(U):window,le=Q.nodeName&&Q.nodeName.toLowerCase(),le==="select"||le==="input"&&Q.type==="file")var pe=cx;else if(up(Q))if(hp)pe=px;else{pe=dx;var ye=hx}else(le=Q.nodeName)&&le.toLowerCase()==="input"&&(Q.type==="checkbox"||Q.type==="radio")&&(pe=fx);if(pe&&(pe=pe(r,U))){cp(J,pe,a,K);break e}ye&&ye(r,Q,U),r==="focusout"&&(ye=Q._wrapperState)&&ye.controlled&&Q.type==="number"&&Pe(Q,"number",Q.value)}switch(ye=U?ti(U):window,r){case"focusin":(up(ye)||ye.contentEditable==="true")&&(Ks=ye,oc=U,co=null);break;case"focusout":co=oc=Ks=null;break;case"mousedown":ac=!0;break;case"contextmenu":case"mouseup":case"dragend":ac=!1,_p(J,a,K);break;case"selectionchange":if(yx)break;case"keydown":case"keyup":_p(J,a,K)}var ve;if(nc)e:{switch(r){case"compositionstart":var Se="onCompositionStart";break e;case"compositionend":Se="onCompositionEnd";break e;case"compositionupdate":Se="onCompositionUpdate";break e}Se=void 0}else Qs?ap(r,a)&&(Se="onCompositionEnd"):r==="keydown"&&a.keyCode===229&&(Se="onCompositionStart");Se&&(sp&&a.locale!=="ko"&&(Qs||Se!=="onCompositionStart"?Se==="onCompositionEnd"&&Qs&&(ve=Jf()):(Lr=K,Qu="value"in Lr?Lr.value:Lr.textContent,Qs=!0)),ye=Fa(U,Se),0<ye.length&&(Se=new np(Se,r,null,a,K),J.push({event:Se,listeners:ye}),ve?Se.data=ve:(ve=lp(a),ve!==null&&(Se.data=ve)))),(ve=ix?ox(r,a):ax(r,a))&&(U=Fa(U,"onBeforeInput"),0<U.length&&(K=new np("onBeforeInput","beforeinput",null,a,K),J.push({event:K,listeners:U}),K.data=ve))}Np(J,i)})}function po(r,i,a){return{instance:r,listener:i,currentTarget:a}}function Fa(r,i){for(var a=i+"Capture",h=[];r!==null;){var p=r,y=p.stateNode;p.tag===5&&y!==null&&(p=y,y=Yi(r,a),y!=null&&h.unshift(po(r,y,p)),y=Yi(r,i),y!=null&&h.push(po(r,y,p))),r=r.return}return h}function Js(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function bp(r,i,a,h,p){for(var y=i._reactName,x=[];a!==null&&a!==h;){var A=a,M=A.alternate,U=A.stateNode;if(M!==null&&M===h)break;A.tag===5&&U!==null&&(A=U,p?(M=Yi(a,y),M!=null&&x.unshift(po(a,M,A))):p||(M=Yi(a,y),M!=null&&x.push(po(a,M,A)))),a=a.return}x.length!==0&&r.push({event:i,listeners:x})}var xx=/\r\n?/g,Sx=/\u0000|\uFFFD/g;function Rp(r){return(typeof r=="string"?r:""+r).replace(xx,`
`).replace(Sx,"")}function La(r,i,a){if(i=Rp(i),Rp(r)!==i&&a)throw Error(t(425))}function ja(){}var fc=null,pc=null;function mc(r,i){return r==="textarea"||r==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var gc=typeof setTimeout=="function"?setTimeout:void 0,Tx=typeof clearTimeout=="function"?clearTimeout:void 0,Mp=typeof Promise=="function"?Promise:void 0,Cx=typeof queueMicrotask=="function"?queueMicrotask:typeof Mp<"u"?function(r){return Mp.resolve(null).then(r).catch(kx)}:gc;function kx(r){setTimeout(function(){throw r})}function yc(r,i){var a=i,h=0;do{var p=a.nextSibling;if(r.removeChild(a),p&&p.nodeType===8)if(a=p.data,a==="/$"){if(h===0){r.removeChild(p),ro(i);return}h--}else a!=="$"&&a!=="$?"&&a!=="$!"||h++;a=p}while(a);ro(i)}function Br(r){for(;r!=null;r=r.nextSibling){var i=r.nodeType;if(i===1||i===3)break;if(i===8){if(i=r.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return r}function Dp(r){r=r.previousSibling;for(var i=0;r;){if(r.nodeType===8){var a=r.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return r;i--}else a==="/$"&&i++}r=r.previousSibling}return null}var ei=Math.random().toString(36).slice(2),Kn="__reactFiber$"+ei,mo="__reactProps$"+ei,ur="__reactContainer$"+ei,vc="__reactEvents$"+ei,Ex="__reactListeners$"+ei,Ax="__reactHandles$"+ei;function vs(r){var i=r[Kn];if(i)return i;for(var a=r.parentNode;a;){if(i=a[ur]||a[Kn]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(r=Dp(r);r!==null;){if(a=r[Kn])return a;r=Dp(r)}return i}r=a,a=r.parentNode}return null}function go(r){return r=r[Kn]||r[ur],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function ti(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(t(33))}function Ba(r){return r[mo]||null}var _c=[],ni=-1;function Ur(r){return{current:r}}function He(r){0>ni||(r.current=_c[ni],_c[ni]=null,ni--)}function We(r,i){ni++,_c[ni]=r.current,r.current=i}var Wr={},Mt=Ur(Wr),Gt=Ur(!1),_s=Wr;function ri(r,i){var a=r.type.contextTypes;if(!a)return Wr;var h=r.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===i)return h.__reactInternalMemoizedMaskedChildContext;var p={},y;for(y in a)p[y]=i[y];return h&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=i,r.__reactInternalMemoizedMaskedChildContext=p),p}function Yt(r){return r=r.childContextTypes,r!=null}function Ua(){He(Gt),He(Mt)}function Op(r,i,a){if(Mt.current!==Wr)throw Error(t(168));We(Mt,i),We(Gt,a)}function Ip(r,i,a){var h=r.stateNode;if(i=i.childContextTypes,typeof h.getChildContext!="function")return a;h=h.getChildContext();for(var p in h)if(!(p in i))throw Error(t(108,_e(r)||"Unknown",p));return q({},a,h)}function Wa(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||Wr,_s=Mt.current,We(Mt,r),We(Gt,Gt.current),!0}function Vp(r,i,a){var h=r.stateNode;if(!h)throw Error(t(169));a?(r=Ip(r,i,_s),h.__reactInternalMemoizedMergedChildContext=r,He(Gt),He(Mt),We(Mt,r)):He(Gt),We(Gt,a)}var cr=null,za=!1,wc=!1;function Fp(r){cr===null?cr=[r]:cr.push(r)}function Nx(r){za=!0,Fp(r)}function zr(){if(!wc&&cr!==null){wc=!0;var r=0,i=Fe;try{var a=cr;for(Fe=1;r<a.length;r++){var h=a[r];do h=h(!0);while(h!==null)}cr=null,za=!1}catch(p){throw cr!==null&&(cr=cr.slice(r+1)),jf(Wu,zr),p}finally{Fe=i,wc=!1}}return null}var si=[],ii=0,$a=null,qa=0,_n=[],wn=0,ws=null,hr=1,dr="";function xs(r,i){si[ii++]=qa,si[ii++]=$a,$a=r,qa=i}function Lp(r,i,a){_n[wn++]=hr,_n[wn++]=dr,_n[wn++]=ws,ws=r;var h=hr;r=dr;var p=32-On(h)-1;h&=~(1<<p),a+=1;var y=32-On(i)+p;if(30<y){var x=p-p%5;y=(h&(1<<x)-1).toString(32),h>>=x,p-=x,hr=1<<32-On(i)+p|a<<p|h,dr=y+r}else hr=1<<y|a<<p|h,dr=r}function xc(r){r.return!==null&&(xs(r,1),Lp(r,1,0))}function Sc(r){for(;r===$a;)$a=si[--ii],si[ii]=null,qa=si[--ii],si[ii]=null;for(;r===ws;)ws=_n[--wn],_n[wn]=null,dr=_n[--wn],_n[wn]=null,hr=_n[--wn],_n[wn]=null}var ln=null,un=null,Ye=!1,Vn=null;function jp(r,i){var a=Cn(5,null,null,0);a.elementType="DELETED",a.stateNode=i,a.return=r,i=r.deletions,i===null?(r.deletions=[a],r.flags|=16):i.push(a)}function Bp(r,i){switch(r.tag){case 5:var a=r.type;return i=i.nodeType!==1||a.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(r.stateNode=i,ln=r,un=Br(i.firstChild),!0):!1;case 6:return i=r.pendingProps===""||i.nodeType!==3?null:i,i!==null?(r.stateNode=i,ln=r,un=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(a=ws!==null?{id:hr,overflow:dr}:null,r.memoizedState={dehydrated:i,treeContext:a,retryLane:1073741824},a=Cn(18,null,null,0),a.stateNode=i,a.return=r,r.child=a,ln=r,un=null,!0):!1;default:return!1}}function Tc(r){return(r.mode&1)!==0&&(r.flags&128)===0}function Cc(r){if(Ye){var i=un;if(i){var a=i;if(!Bp(r,i)){if(Tc(r))throw Error(t(418));i=Br(a.nextSibling);var h=ln;i&&Bp(r,i)?jp(h,a):(r.flags=r.flags&-4097|2,Ye=!1,ln=r)}}else{if(Tc(r))throw Error(t(418));r.flags=r.flags&-4097|2,Ye=!1,ln=r}}}function Up(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;ln=r}function Ha(r){if(r!==ln)return!1;if(!Ye)return Up(r),Ye=!0,!1;var i;if((i=r.tag!==3)&&!(i=r.tag!==5)&&(i=r.type,i=i!=="head"&&i!=="body"&&!mc(r.type,r.memoizedProps)),i&&(i=un)){if(Tc(r))throw Wp(),Error(t(418));for(;i;)jp(r,i),i=Br(i.nextSibling)}if(Up(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(t(317));e:{for(r=r.nextSibling,i=0;r;){if(r.nodeType===8){var a=r.data;if(a==="/$"){if(i===0){un=Br(r.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++}r=r.nextSibling}un=null}}else un=ln?Br(r.stateNode.nextSibling):null;return!0}function Wp(){for(var r=un;r;)r=Br(r.nextSibling)}function oi(){un=ln=null,Ye=!1}function kc(r){Vn===null?Vn=[r]:Vn.push(r)}var Px=V.ReactCurrentBatchConfig;function yo(r,i,a){if(r=a.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(t(309));var h=a.stateNode}if(!h)throw Error(t(147,r));var p=h,y=""+r;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===y?i.ref:(i=function(x){var A=p.refs;x===null?delete A[y]:A[y]=x},i._stringRef=y,i)}if(typeof r!="string")throw Error(t(284));if(!a._owner)throw Error(t(290,r))}return r}function Ga(r,i){throw r=Object.prototype.toString.call(i),Error(t(31,r==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":r))}function zp(r){var i=r._init;return i(r._payload)}function $p(r){function i(L,O){if(r){var B=L.deletions;B===null?(L.deletions=[O],L.flags|=16):B.push(O)}}function a(L,O){if(!r)return null;for(;O!==null;)i(L,O),O=O.sibling;return null}function h(L,O){for(L=new Map;O!==null;)O.key!==null?L.set(O.key,O):L.set(O.index,O),O=O.sibling;return L}function p(L,O){return L=Kr(L,O),L.index=0,L.sibling=null,L}function y(L,O,B){return L.index=B,r?(B=L.alternate,B!==null?(B=B.index,B<O?(L.flags|=2,O):B):(L.flags|=2,O)):(L.flags|=1048576,O)}function x(L){return r&&L.alternate===null&&(L.flags|=2),L}function A(L,O,B,ne){return O===null||O.tag!==6?(O=gh(B,L.mode,ne),O.return=L,O):(O=p(O,B),O.return=L,O)}function M(L,O,B,ne){var pe=B.type;return pe===F?K(L,O,B.props.children,ne,B.key):O!==null&&(O.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===Z&&zp(pe)===O.type)?(ne=p(O,B.props),ne.ref=yo(L,O,B),ne.return=L,ne):(ne=yl(B.type,B.key,B.props,null,L.mode,ne),ne.ref=yo(L,O,B),ne.return=L,ne)}function U(L,O,B,ne){return O===null||O.tag!==4||O.stateNode.containerInfo!==B.containerInfo||O.stateNode.implementation!==B.implementation?(O=yh(B,L.mode,ne),O.return=L,O):(O=p(O,B.children||[]),O.return=L,O)}function K(L,O,B,ne,pe){return O===null||O.tag!==7?(O=Ps(B,L.mode,ne,pe),O.return=L,O):(O=p(O,B),O.return=L,O)}function J(L,O,B){if(typeof O=="string"&&O!==""||typeof O=="number")return O=gh(""+O,L.mode,B),O.return=L,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case E:return B=yl(O.type,O.key,O.props,null,L.mode,B),B.ref=yo(L,null,O),B.return=L,B;case I:return O=yh(O,L.mode,B),O.return=L,O;case Z:var ne=O._init;return J(L,ne(O._payload),B)}if(Ve(O)||G(O))return O=Ps(O,L.mode,B,null),O.return=L,O;Ga(L,O)}return null}function Q(L,O,B,ne){var pe=O!==null?O.key:null;if(typeof B=="string"&&B!==""||typeof B=="number")return pe!==null?null:A(L,O,""+B,ne);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case E:return B.key===pe?M(L,O,B,ne):null;case I:return B.key===pe?U(L,O,B,ne):null;case Z:return pe=B._init,Q(L,O,pe(B._payload),ne)}if(Ve(B)||G(B))return pe!==null?null:K(L,O,B,ne,null);Ga(L,B)}return null}function le(L,O,B,ne,pe){if(typeof ne=="string"&&ne!==""||typeof ne=="number")return L=L.get(B)||null,A(O,L,""+ne,pe);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case E:return L=L.get(ne.key===null?B:ne.key)||null,M(O,L,ne,pe);case I:return L=L.get(ne.key===null?B:ne.key)||null,U(O,L,ne,pe);case Z:var ye=ne._init;return le(L,O,B,ye(ne._payload),pe)}if(Ve(ne)||G(ne))return L=L.get(B)||null,K(O,L,ne,pe,null);Ga(O,ne)}return null}function he(L,O,B,ne){for(var pe=null,ye=null,ve=O,Se=O=0,kt=null;ve!==null&&Se<B.length;Se++){ve.index>Se?(kt=ve,ve=null):kt=ve.sibling;var Ie=Q(L,ve,B[Se],ne);if(Ie===null){ve===null&&(ve=kt);break}r&&ve&&Ie.alternate===null&&i(L,ve),O=y(Ie,O,Se),ye===null?pe=Ie:ye.sibling=Ie,ye=Ie,ve=kt}if(Se===B.length)return a(L,ve),Ye&&xs(L,Se),pe;if(ve===null){for(;Se<B.length;Se++)ve=J(L,B[Se],ne),ve!==null&&(O=y(ve,O,Se),ye===null?pe=ve:ye.sibling=ve,ye=ve);return Ye&&xs(L,Se),pe}for(ve=h(L,ve);Se<B.length;Se++)kt=le(ve,L,Se,B[Se],ne),kt!==null&&(r&&kt.alternate!==null&&ve.delete(kt.key===null?Se:kt.key),O=y(kt,O,Se),ye===null?pe=kt:ye.sibling=kt,ye=kt);return r&&ve.forEach(function(Zr){return i(L,Zr)}),Ye&&xs(L,Se),pe}function fe(L,O,B,ne){var pe=G(B);if(typeof pe!="function")throw Error(t(150));if(B=pe.call(B),B==null)throw Error(t(151));for(var ye=pe=null,ve=O,Se=O=0,kt=null,Ie=B.next();ve!==null&&!Ie.done;Se++,Ie=B.next()){ve.index>Se?(kt=ve,ve=null):kt=ve.sibling;var Zr=Q(L,ve,Ie.value,ne);if(Zr===null){ve===null&&(ve=kt);break}r&&ve&&Zr.alternate===null&&i(L,ve),O=y(Zr,O,Se),ye===null?pe=Zr:ye.sibling=Zr,ye=Zr,ve=kt}if(Ie.done)return a(L,ve),Ye&&xs(L,Se),pe;if(ve===null){for(;!Ie.done;Se++,Ie=B.next())Ie=J(L,Ie.value,ne),Ie!==null&&(O=y(Ie,O,Se),ye===null?pe=Ie:ye.sibling=Ie,ye=Ie);return Ye&&xs(L,Se),pe}for(ve=h(L,ve);!Ie.done;Se++,Ie=B.next())Ie=le(ve,L,Se,Ie.value,ne),Ie!==null&&(r&&Ie.alternate!==null&&ve.delete(Ie.key===null?Se:Ie.key),O=y(Ie,O,Se),ye===null?pe=Ie:ye.sibling=Ie,ye=Ie);return r&&ve.forEach(function(l1){return i(L,l1)}),Ye&&xs(L,Se),pe}function dt(L,O,B,ne){if(typeof B=="object"&&B!==null&&B.type===F&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case E:e:{for(var pe=B.key,ye=O;ye!==null;){if(ye.key===pe){if(pe=B.type,pe===F){if(ye.tag===7){a(L,ye.sibling),O=p(ye,B.props.children),O.return=L,L=O;break e}}else if(ye.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===Z&&zp(pe)===ye.type){a(L,ye.sibling),O=p(ye,B.props),O.ref=yo(L,ye,B),O.return=L,L=O;break e}a(L,ye);break}else i(L,ye);ye=ye.sibling}B.type===F?(O=Ps(B.props.children,L.mode,ne,B.key),O.return=L,L=O):(ne=yl(B.type,B.key,B.props,null,L.mode,ne),ne.ref=yo(L,O,B),ne.return=L,L=ne)}return x(L);case I:e:{for(ye=B.key;O!==null;){if(O.key===ye)if(O.tag===4&&O.stateNode.containerInfo===B.containerInfo&&O.stateNode.implementation===B.implementation){a(L,O.sibling),O=p(O,B.children||[]),O.return=L,L=O;break e}else{a(L,O);break}else i(L,O);O=O.sibling}O=yh(B,L.mode,ne),O.return=L,L=O}return x(L);case Z:return ye=B._init,dt(L,O,ye(B._payload),ne)}if(Ve(B))return he(L,O,B,ne);if(G(B))return fe(L,O,B,ne);Ga(L,B)}return typeof B=="string"&&B!==""||typeof B=="number"?(B=""+B,O!==null&&O.tag===6?(a(L,O.sibling),O=p(O,B),O.return=L,L=O):(a(L,O),O=gh(B,L.mode,ne),O.return=L,L=O),x(L)):a(L,O)}return dt}var ai=$p(!0),qp=$p(!1),Ya=Ur(null),Xa=null,li=null,Ec=null;function Ac(){Ec=li=Xa=null}function Nc(r){var i=Ya.current;He(Ya),r._currentValue=i}function Pc(r,i,a){for(;r!==null;){var h=r.alternate;if((r.childLanes&i)!==i?(r.childLanes|=i,h!==null&&(h.childLanes|=i)):h!==null&&(h.childLanes&i)!==i&&(h.childLanes|=i),r===a)break;r=r.return}}function ui(r,i){Xa=r,Ec=li=null,r=r.dependencies,r!==null&&r.firstContext!==null&&((r.lanes&i)!==0&&(Xt=!0),r.firstContext=null)}function xn(r){var i=r._currentValue;if(Ec!==r)if(r={context:r,memoizedValue:i,next:null},li===null){if(Xa===null)throw Error(t(308));li=r,Xa.dependencies={lanes:0,firstContext:r}}else li=li.next=r;return i}var Ss=null;function bc(r){Ss===null?Ss=[r]:Ss.push(r)}function Hp(r,i,a,h){var p=i.interleaved;return p===null?(a.next=a,bc(i)):(a.next=p.next,p.next=a),i.interleaved=a,fr(r,h)}function fr(r,i){r.lanes|=i;var a=r.alternate;for(a!==null&&(a.lanes|=i),a=r,r=r.return;r!==null;)r.childLanes|=i,a=r.alternate,a!==null&&(a.childLanes|=i),a=r,r=r.return;return a.tag===3?a.stateNode:null}var $r=!1;function Rc(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Gp(r,i){r=r.updateQueue,i.updateQueue===r&&(i.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function pr(r,i){return{eventTime:r,lane:i,tag:0,payload:null,callback:null,next:null}}function qr(r,i,a){var h=r.updateQueue;if(h===null)return null;if(h=h.shared,(Me&2)!==0){var p=h.pending;return p===null?i.next=i:(i.next=p.next,p.next=i),h.pending=i,fr(r,a)}return p=h.interleaved,p===null?(i.next=i,bc(h)):(i.next=p.next,p.next=i),h.interleaved=i,fr(r,a)}function Qa(r,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194240)!==0)){var h=i.lanes;h&=r.pendingLanes,a|=h,i.lanes=a,qu(r,a)}}function Yp(r,i){var a=r.updateQueue,h=r.alternate;if(h!==null&&(h=h.updateQueue,a===h)){var p=null,y=null;if(a=a.firstBaseUpdate,a!==null){do{var x={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};y===null?p=y=x:y=y.next=x,a=a.next}while(a!==null);y===null?p=y=i:y=y.next=i}else p=y=i;a={baseState:h.baseState,firstBaseUpdate:p,lastBaseUpdate:y,shared:h.shared,effects:h.effects},r.updateQueue=a;return}r=a.lastBaseUpdate,r===null?a.firstBaseUpdate=i:r.next=i,a.lastBaseUpdate=i}function Ka(r,i,a,h){var p=r.updateQueue;$r=!1;var y=p.firstBaseUpdate,x=p.lastBaseUpdate,A=p.shared.pending;if(A!==null){p.shared.pending=null;var M=A,U=M.next;M.next=null,x===null?y=U:x.next=U,x=M;var K=r.alternate;K!==null&&(K=K.updateQueue,A=K.lastBaseUpdate,A!==x&&(A===null?K.firstBaseUpdate=U:A.next=U,K.lastBaseUpdate=M))}if(y!==null){var J=p.baseState;x=0,K=U=M=null,A=y;do{var Q=A.lane,le=A.eventTime;if((h&Q)===Q){K!==null&&(K=K.next={eventTime:le,lane:0,tag:A.tag,payload:A.payload,callback:A.callback,next:null});e:{var he=r,fe=A;switch(Q=i,le=a,fe.tag){case 1:if(he=fe.payload,typeof he=="function"){J=he.call(le,J,Q);break e}J=he;break e;case 3:he.flags=he.flags&-65537|128;case 0:if(he=fe.payload,Q=typeof he=="function"?he.call(le,J,Q):he,Q==null)break e;J=q({},J,Q);break e;case 2:$r=!0}}A.callback!==null&&A.lane!==0&&(r.flags|=64,Q=p.effects,Q===null?p.effects=[A]:Q.push(A))}else le={eventTime:le,lane:Q,tag:A.tag,payload:A.payload,callback:A.callback,next:null},K===null?(U=K=le,M=J):K=K.next=le,x|=Q;if(A=A.next,A===null){if(A=p.shared.pending,A===null)break;Q=A,A=Q.next,Q.next=null,p.lastBaseUpdate=Q,p.shared.pending=null}}while(!0);if(K===null&&(M=J),p.baseState=M,p.firstBaseUpdate=U,p.lastBaseUpdate=K,i=p.shared.interleaved,i!==null){p=i;do x|=p.lane,p=p.next;while(p!==i)}else y===null&&(p.shared.lanes=0);ks|=x,r.lanes=x,r.memoizedState=J}}function Xp(r,i,a){if(r=i.effects,i.effects=null,r!==null)for(i=0;i<r.length;i++){var h=r[i],p=h.callback;if(p!==null){if(h.callback=null,h=a,typeof p!="function")throw Error(t(191,p));p.call(h)}}}var vo={},Zn=Ur(vo),_o=Ur(vo),wo=Ur(vo);function Ts(r){if(r===vo)throw Error(t(174));return r}function Mc(r,i){switch(We(wo,i),We(_o,r),We(Zn,vo),r=i.nodeType,r){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:et(null,"");break;default:r=r===8?i.parentNode:i,i=r.namespaceURI||null,r=r.tagName,i=et(i,r)}He(Zn),We(Zn,i)}function ci(){He(Zn),He(_o),He(wo)}function Qp(r){Ts(wo.current);var i=Ts(Zn.current),a=et(i,r.type);i!==a&&(We(_o,r),We(Zn,a))}function Dc(r){_o.current===r&&(He(Zn),He(_o))}var tt=Ur(0);function Za(r){for(var i=r;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Oc=[];function Ic(){for(var r=0;r<Oc.length;r++)Oc[r]._workInProgressVersionPrimary=null;Oc.length=0}var Ja=V.ReactCurrentDispatcher,Vc=V.ReactCurrentBatchConfig,Cs=0,nt=null,wt=null,Tt=null,el=!1,xo=!1,So=0,bx=0;function Dt(){throw Error(t(321))}function Fc(r,i){if(i===null)return!1;for(var a=0;a<i.length&&a<r.length;a++)if(!In(r[a],i[a]))return!1;return!0}function Lc(r,i,a,h,p,y){if(Cs=y,nt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Ja.current=r===null||r.memoizedState===null?Ox:Ix,r=a(h,p),xo){y=0;do{if(xo=!1,So=0,25<=y)throw Error(t(301));y+=1,Tt=wt=null,i.updateQueue=null,Ja.current=Vx,r=a(h,p)}while(xo)}if(Ja.current=rl,i=wt!==null&&wt.next!==null,Cs=0,Tt=wt=nt=null,el=!1,i)throw Error(t(300));return r}function jc(){var r=So!==0;return So=0,r}function Jn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Tt===null?nt.memoizedState=Tt=r:Tt=Tt.next=r,Tt}function Sn(){if(wt===null){var r=nt.alternate;r=r!==null?r.memoizedState:null}else r=wt.next;var i=Tt===null?nt.memoizedState:Tt.next;if(i!==null)Tt=i,wt=r;else{if(r===null)throw Error(t(310));wt=r,r={memoizedState:wt.memoizedState,baseState:wt.baseState,baseQueue:wt.baseQueue,queue:wt.queue,next:null},Tt===null?nt.memoizedState=Tt=r:Tt=Tt.next=r}return Tt}function To(r,i){return typeof i=="function"?i(r):i}function Bc(r){var i=Sn(),a=i.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=r;var h=wt,p=h.baseQueue,y=a.pending;if(y!==null){if(p!==null){var x=p.next;p.next=y.next,y.next=x}h.baseQueue=p=y,a.pending=null}if(p!==null){y=p.next,h=h.baseState;var A=x=null,M=null,U=y;do{var K=U.lane;if((Cs&K)===K)M!==null&&(M=M.next={lane:0,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),h=U.hasEagerState?U.eagerState:r(h,U.action);else{var J={lane:K,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null};M===null?(A=M=J,x=h):M=M.next=J,nt.lanes|=K,ks|=K}U=U.next}while(U!==null&&U!==y);M===null?x=h:M.next=A,In(h,i.memoizedState)||(Xt=!0),i.memoizedState=h,i.baseState=x,i.baseQueue=M,a.lastRenderedState=h}if(r=a.interleaved,r!==null){p=r;do y=p.lane,nt.lanes|=y,ks|=y,p=p.next;while(p!==r)}else p===null&&(a.lanes=0);return[i.memoizedState,a.dispatch]}function Uc(r){var i=Sn(),a=i.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=r;var h=a.dispatch,p=a.pending,y=i.memoizedState;if(p!==null){a.pending=null;var x=p=p.next;do y=r(y,x.action),x=x.next;while(x!==p);In(y,i.memoizedState)||(Xt=!0),i.memoizedState=y,i.baseQueue===null&&(i.baseState=y),a.lastRenderedState=y}return[y,h]}function Kp(){}function Zp(r,i){var a=nt,h=Sn(),p=i(),y=!In(h.memoizedState,p);if(y&&(h.memoizedState=p,Xt=!0),h=h.queue,Wc(tm.bind(null,a,h,r),[r]),h.getSnapshot!==i||y||Tt!==null&&Tt.memoizedState.tag&1){if(a.flags|=2048,Co(9,em.bind(null,a,h,p,i),void 0,null),Ct===null)throw Error(t(349));(Cs&30)!==0||Jp(a,i,p)}return p}function Jp(r,i,a){r.flags|=16384,r={getSnapshot:i,value:a},i=nt.updateQueue,i===null?(i={lastEffect:null,stores:null},nt.updateQueue=i,i.stores=[r]):(a=i.stores,a===null?i.stores=[r]:a.push(r))}function em(r,i,a,h){i.value=a,i.getSnapshot=h,nm(i)&&rm(r)}function tm(r,i,a){return a(function(){nm(i)&&rm(r)})}function nm(r){var i=r.getSnapshot;r=r.value;try{var a=i();return!In(r,a)}catch{return!0}}function rm(r){var i=fr(r,1);i!==null&&Bn(i,r,1,-1)}function sm(r){var i=Jn();return typeof r=="function"&&(r=r()),i.memoizedState=i.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:To,lastRenderedState:r},i.queue=r,r=r.dispatch=Dx.bind(null,nt,r),[i.memoizedState,r]}function Co(r,i,a,h){return r={tag:r,create:i,destroy:a,deps:h,next:null},i=nt.updateQueue,i===null?(i={lastEffect:null,stores:null},nt.updateQueue=i,i.lastEffect=r.next=r):(a=i.lastEffect,a===null?i.lastEffect=r.next=r:(h=a.next,a.next=r,r.next=h,i.lastEffect=r)),r}function im(){return Sn().memoizedState}function tl(r,i,a,h){var p=Jn();nt.flags|=r,p.memoizedState=Co(1|i,a,void 0,h===void 0?null:h)}function nl(r,i,a,h){var p=Sn();h=h===void 0?null:h;var y=void 0;if(wt!==null){var x=wt.memoizedState;if(y=x.destroy,h!==null&&Fc(h,x.deps)){p.memoizedState=Co(i,a,y,h);return}}nt.flags|=r,p.memoizedState=Co(1|i,a,y,h)}function om(r,i){return tl(8390656,8,r,i)}function Wc(r,i){return nl(2048,8,r,i)}function am(r,i){return nl(4,2,r,i)}function lm(r,i){return nl(4,4,r,i)}function um(r,i){if(typeof i=="function")return r=r(),i(r),function(){i(null)};if(i!=null)return r=r(),i.current=r,function(){i.current=null}}function cm(r,i,a){return a=a!=null?a.concat([r]):null,nl(4,4,um.bind(null,i,r),a)}function zc(){}function hm(r,i){var a=Sn();i=i===void 0?null:i;var h=a.memoizedState;return h!==null&&i!==null&&Fc(i,h[1])?h[0]:(a.memoizedState=[r,i],r)}function dm(r,i){var a=Sn();i=i===void 0?null:i;var h=a.memoizedState;return h!==null&&i!==null&&Fc(i,h[1])?h[0]:(r=r(),a.memoizedState=[r,i],r)}function fm(r,i,a){return(Cs&21)===0?(r.baseState&&(r.baseState=!1,Xt=!0),r.memoizedState=a):(In(a,i)||(a=zf(),nt.lanes|=a,ks|=a,r.baseState=!0),i)}function Rx(r,i){var a=Fe;Fe=a!==0&&4>a?a:4,r(!0);var h=Vc.transition;Vc.transition={};try{r(!1),i()}finally{Fe=a,Vc.transition=h}}function pm(){return Sn().memoizedState}function Mx(r,i,a){var h=Xr(r);if(a={lane:h,action:a,hasEagerState:!1,eagerState:null,next:null},mm(r))gm(i,a);else if(a=Hp(r,i,a,h),a!==null){var p=Wt();Bn(a,r,h,p),ym(a,i,h)}}function Dx(r,i,a){var h=Xr(r),p={lane:h,action:a,hasEagerState:!1,eagerState:null,next:null};if(mm(r))gm(i,p);else{var y=r.alternate;if(r.lanes===0&&(y===null||y.lanes===0)&&(y=i.lastRenderedReducer,y!==null))try{var x=i.lastRenderedState,A=y(x,a);if(p.hasEagerState=!0,p.eagerState=A,In(A,x)){var M=i.interleaved;M===null?(p.next=p,bc(i)):(p.next=M.next,M.next=p),i.interleaved=p;return}}catch{}finally{}a=Hp(r,i,p,h),a!==null&&(p=Wt(),Bn(a,r,h,p),ym(a,i,h))}}function mm(r){var i=r.alternate;return r===nt||i!==null&&i===nt}function gm(r,i){xo=el=!0;var a=r.pending;a===null?i.next=i:(i.next=a.next,a.next=i),r.pending=i}function ym(r,i,a){if((a&4194240)!==0){var h=i.lanes;h&=r.pendingLanes,a|=h,i.lanes=a,qu(r,a)}}var rl={readContext:xn,useCallback:Dt,useContext:Dt,useEffect:Dt,useImperativeHandle:Dt,useInsertionEffect:Dt,useLayoutEffect:Dt,useMemo:Dt,useReducer:Dt,useRef:Dt,useState:Dt,useDebugValue:Dt,useDeferredValue:Dt,useTransition:Dt,useMutableSource:Dt,useSyncExternalStore:Dt,useId:Dt,unstable_isNewReconciler:!1},Ox={readContext:xn,useCallback:function(r,i){return Jn().memoizedState=[r,i===void 0?null:i],r},useContext:xn,useEffect:om,useImperativeHandle:function(r,i,a){return a=a!=null?a.concat([r]):null,tl(4194308,4,um.bind(null,i,r),a)},useLayoutEffect:function(r,i){return tl(4194308,4,r,i)},useInsertionEffect:function(r,i){return tl(4,2,r,i)},useMemo:function(r,i){var a=Jn();return i=i===void 0?null:i,r=r(),a.memoizedState=[r,i],r},useReducer:function(r,i,a){var h=Jn();return i=a!==void 0?a(i):i,h.memoizedState=h.baseState=i,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:i},h.queue=r,r=r.dispatch=Mx.bind(null,nt,r),[h.memoizedState,r]},useRef:function(r){var i=Jn();return r={current:r},i.memoizedState=r},useState:sm,useDebugValue:zc,useDeferredValue:function(r){return Jn().memoizedState=r},useTransition:function(){var r=sm(!1),i=r[0];return r=Rx.bind(null,r[1]),Jn().memoizedState=r,[i,r]},useMutableSource:function(){},useSyncExternalStore:function(r,i,a){var h=nt,p=Jn();if(Ye){if(a===void 0)throw Error(t(407));a=a()}else{if(a=i(),Ct===null)throw Error(t(349));(Cs&30)!==0||Jp(h,i,a)}p.memoizedState=a;var y={value:a,getSnapshot:i};return p.queue=y,om(tm.bind(null,h,y,r),[r]),h.flags|=2048,Co(9,em.bind(null,h,y,a,i),void 0,null),a},useId:function(){var r=Jn(),i=Ct.identifierPrefix;if(Ye){var a=dr,h=hr;a=(h&~(1<<32-On(h)-1)).toString(32)+a,i=":"+i+"R"+a,a=So++,0<a&&(i+="H"+a.toString(32)),i+=":"}else a=bx++,i=":"+i+"r"+a.toString(32)+":";return r.memoizedState=i},unstable_isNewReconciler:!1},Ix={readContext:xn,useCallback:hm,useContext:xn,useEffect:Wc,useImperativeHandle:cm,useInsertionEffect:am,useLayoutEffect:lm,useMemo:dm,useReducer:Bc,useRef:im,useState:function(){return Bc(To)},useDebugValue:zc,useDeferredValue:function(r){var i=Sn();return fm(i,wt.memoizedState,r)},useTransition:function(){var r=Bc(To)[0],i=Sn().memoizedState;return[r,i]},useMutableSource:Kp,useSyncExternalStore:Zp,useId:pm,unstable_isNewReconciler:!1},Vx={readContext:xn,useCallback:hm,useContext:xn,useEffect:Wc,useImperativeHandle:cm,useInsertionEffect:am,useLayoutEffect:lm,useMemo:dm,useReducer:Uc,useRef:im,useState:function(){return Uc(To)},useDebugValue:zc,useDeferredValue:function(r){var i=Sn();return wt===null?i.memoizedState=r:fm(i,wt.memoizedState,r)},useTransition:function(){var r=Uc(To)[0],i=Sn().memoizedState;return[r,i]},useMutableSource:Kp,useSyncExternalStore:Zp,useId:pm,unstable_isNewReconciler:!1};function Fn(r,i){if(r&&r.defaultProps){i=q({},i),r=r.defaultProps;for(var a in r)i[a]===void 0&&(i[a]=r[a]);return i}return i}function $c(r,i,a,h){i=r.memoizedState,a=a(h,i),a=a==null?i:q({},i,a),r.memoizedState=a,r.lanes===0&&(r.updateQueue.baseState=a)}var sl={isMounted:function(r){return(r=r._reactInternals)?ys(r)===r:!1},enqueueSetState:function(r,i,a){r=r._reactInternals;var h=Wt(),p=Xr(r),y=pr(h,p);y.payload=i,a!=null&&(y.callback=a),i=qr(r,y,p),i!==null&&(Bn(i,r,p,h),Qa(i,r,p))},enqueueReplaceState:function(r,i,a){r=r._reactInternals;var h=Wt(),p=Xr(r),y=pr(h,p);y.tag=1,y.payload=i,a!=null&&(y.callback=a),i=qr(r,y,p),i!==null&&(Bn(i,r,p,h),Qa(i,r,p))},enqueueForceUpdate:function(r,i){r=r._reactInternals;var a=Wt(),h=Xr(r),p=pr(a,h);p.tag=2,i!=null&&(p.callback=i),i=qr(r,p,h),i!==null&&(Bn(i,r,h,a),Qa(i,r,h))}};function vm(r,i,a,h,p,y,x){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(h,y,x):i.prototype&&i.prototype.isPureReactComponent?!uo(a,h)||!uo(p,y):!0}function _m(r,i,a){var h=!1,p=Wr,y=i.contextType;return typeof y=="object"&&y!==null?y=xn(y):(p=Yt(i)?_s:Mt.current,h=i.contextTypes,y=(h=h!=null)?ri(r,p):Wr),i=new i(a,y),r.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=sl,r.stateNode=i,i._reactInternals=r,h&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=p,r.__reactInternalMemoizedMaskedChildContext=y),i}function wm(r,i,a,h){r=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,h),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,h),i.state!==r&&sl.enqueueReplaceState(i,i.state,null)}function qc(r,i,a,h){var p=r.stateNode;p.props=a,p.state=r.memoizedState,p.refs={},Rc(r);var y=i.contextType;typeof y=="object"&&y!==null?p.context=xn(y):(y=Yt(i)?_s:Mt.current,p.context=ri(r,y)),p.state=r.memoizedState,y=i.getDerivedStateFromProps,typeof y=="function"&&($c(r,i,y,a),p.state=r.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(i=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),i!==p.state&&sl.enqueueReplaceState(p,p.state,null),Ka(r,a,p,h),p.state=r.memoizedState),typeof p.componentDidMount=="function"&&(r.flags|=4194308)}function hi(r,i){try{var a="",h=i;do a+=ie(h),h=h.return;while(h);var p=a}catch(y){p=`
Error generating stack: `+y.message+`
`+y.stack}return{value:r,source:i,stack:p,digest:null}}function Hc(r,i,a){return{value:r,source:null,stack:a??null,digest:i??null}}function Gc(r,i){try{console.error(i.value)}catch(a){setTimeout(function(){throw a})}}var Fx=typeof WeakMap=="function"?WeakMap:Map;function xm(r,i,a){a=pr(-1,a),a.tag=3,a.payload={element:null};var h=i.value;return a.callback=function(){hl||(hl=!0,lh=h),Gc(r,i)},a}function Sm(r,i,a){a=pr(-1,a),a.tag=3;var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var p=i.value;a.payload=function(){return h(p)},a.callback=function(){Gc(r,i)}}var y=r.stateNode;return y!==null&&typeof y.componentDidCatch=="function"&&(a.callback=function(){Gc(r,i),typeof h!="function"&&(Gr===null?Gr=new Set([this]):Gr.add(this));var x=i.stack;this.componentDidCatch(i.value,{componentStack:x!==null?x:""})}),a}function Tm(r,i,a){var h=r.pingCache;if(h===null){h=r.pingCache=new Fx;var p=new Set;h.set(i,p)}else p=h.get(i),p===void 0&&(p=new Set,h.set(i,p));p.has(a)||(p.add(a),r=Kx.bind(null,r,i,a),i.then(r,r))}function Cm(r){do{var i;if((i=r.tag===13)&&(i=r.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return r;r=r.return}while(r!==null);return null}function km(r,i,a,h,p){return(r.mode&1)===0?(r===i?r.flags|=65536:(r.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(i=pr(-1,1),i.tag=2,qr(a,i,1))),a.lanes|=1),r):(r.flags|=65536,r.lanes=p,r)}var Lx=V.ReactCurrentOwner,Xt=!1;function Ut(r,i,a,h){i.child=r===null?qp(i,null,a,h):ai(i,r.child,a,h)}function Em(r,i,a,h,p){a=a.render;var y=i.ref;return ui(i,p),h=Lc(r,i,a,h,y,p),a=jc(),r!==null&&!Xt?(i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~p,mr(r,i,p)):(Ye&&a&&xc(i),i.flags|=1,Ut(r,i,h,p),i.child)}function Am(r,i,a,h,p){if(r===null){var y=a.type;return typeof y=="function"&&!mh(y)&&y.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(i.tag=15,i.type=y,Nm(r,i,y,h,p)):(r=yl(a.type,null,h,i,i.mode,p),r.ref=i.ref,r.return=i,i.child=r)}if(y=r.child,(r.lanes&p)===0){var x=y.memoizedProps;if(a=a.compare,a=a!==null?a:uo,a(x,h)&&r.ref===i.ref)return mr(r,i,p)}return i.flags|=1,r=Kr(y,h),r.ref=i.ref,r.return=i,i.child=r}function Nm(r,i,a,h,p){if(r!==null){var y=r.memoizedProps;if(uo(y,h)&&r.ref===i.ref)if(Xt=!1,i.pendingProps=h=y,(r.lanes&p)!==0)(r.flags&131072)!==0&&(Xt=!0);else return i.lanes=r.lanes,mr(r,i,p)}return Yc(r,i,a,h,p)}function Pm(r,i,a){var h=i.pendingProps,p=h.children,y=r!==null?r.memoizedState:null;if(h.mode==="hidden")if((i.mode&1)===0)i.memoizedState={baseLanes:0,cachePool:null,transitions:null},We(fi,cn),cn|=a;else{if((a&1073741824)===0)return r=y!==null?y.baseLanes|a:a,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:r,cachePool:null,transitions:null},i.updateQueue=null,We(fi,cn),cn|=r,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=y!==null?y.baseLanes:a,We(fi,cn),cn|=h}else y!==null?(h=y.baseLanes|a,i.memoizedState=null):h=a,We(fi,cn),cn|=h;return Ut(r,i,p,a),i.child}function bm(r,i){var a=i.ref;(r===null&&a!==null||r!==null&&r.ref!==a)&&(i.flags|=512,i.flags|=2097152)}function Yc(r,i,a,h,p){var y=Yt(a)?_s:Mt.current;return y=ri(i,y),ui(i,p),a=Lc(r,i,a,h,y,p),h=jc(),r!==null&&!Xt?(i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~p,mr(r,i,p)):(Ye&&h&&xc(i),i.flags|=1,Ut(r,i,a,p),i.child)}function Rm(r,i,a,h,p){if(Yt(a)){var y=!0;Wa(i)}else y=!1;if(ui(i,p),i.stateNode===null)ol(r,i),_m(i,a,h),qc(i,a,h,p),h=!0;else if(r===null){var x=i.stateNode,A=i.memoizedProps;x.props=A;var M=x.context,U=a.contextType;typeof U=="object"&&U!==null?U=xn(U):(U=Yt(a)?_s:Mt.current,U=ri(i,U));var K=a.getDerivedStateFromProps,J=typeof K=="function"||typeof x.getSnapshotBeforeUpdate=="function";J||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(A!==h||M!==U)&&wm(i,x,h,U),$r=!1;var Q=i.memoizedState;x.state=Q,Ka(i,h,x,p),M=i.memoizedState,A!==h||Q!==M||Gt.current||$r?(typeof K=="function"&&($c(i,a,K,h),M=i.memoizedState),(A=$r||vm(i,a,A,h,Q,M,U))?(J||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(i.flags|=4194308)):(typeof x.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=h,i.memoizedState=M),x.props=h,x.state=M,x.context=U,h=A):(typeof x.componentDidMount=="function"&&(i.flags|=4194308),h=!1)}else{x=i.stateNode,Gp(r,i),A=i.memoizedProps,U=i.type===i.elementType?A:Fn(i.type,A),x.props=U,J=i.pendingProps,Q=x.context,M=a.contextType,typeof M=="object"&&M!==null?M=xn(M):(M=Yt(a)?_s:Mt.current,M=ri(i,M));var le=a.getDerivedStateFromProps;(K=typeof le=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(A!==J||Q!==M)&&wm(i,x,h,M),$r=!1,Q=i.memoizedState,x.state=Q,Ka(i,h,x,p);var he=i.memoizedState;A!==J||Q!==he||Gt.current||$r?(typeof le=="function"&&($c(i,a,le,h),he=i.memoizedState),(U=$r||vm(i,a,U,h,Q,he,M)||!1)?(K||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(h,he,M),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(h,he,M)),typeof x.componentDidUpdate=="function"&&(i.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof x.componentDidUpdate!="function"||A===r.memoizedProps&&Q===r.memoizedState||(i.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||A===r.memoizedProps&&Q===r.memoizedState||(i.flags|=1024),i.memoizedProps=h,i.memoizedState=he),x.props=h,x.state=he,x.context=M,h=U):(typeof x.componentDidUpdate!="function"||A===r.memoizedProps&&Q===r.memoizedState||(i.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||A===r.memoizedProps&&Q===r.memoizedState||(i.flags|=1024),h=!1)}return Xc(r,i,a,h,y,p)}function Xc(r,i,a,h,p,y){bm(r,i);var x=(i.flags&128)!==0;if(!h&&!x)return p&&Vp(i,a,!1),mr(r,i,y);h=i.stateNode,Lx.current=i;var A=x&&typeof a.getDerivedStateFromError!="function"?null:h.render();return i.flags|=1,r!==null&&x?(i.child=ai(i,r.child,null,y),i.child=ai(i,null,A,y)):Ut(r,i,A,y),i.memoizedState=h.state,p&&Vp(i,a,!0),i.child}function Mm(r){var i=r.stateNode;i.pendingContext?Op(r,i.pendingContext,i.pendingContext!==i.context):i.context&&Op(r,i.context,!1),Mc(r,i.containerInfo)}function Dm(r,i,a,h,p){return oi(),kc(p),i.flags|=256,Ut(r,i,a,h),i.child}var Qc={dehydrated:null,treeContext:null,retryLane:0};function Kc(r){return{baseLanes:r,cachePool:null,transitions:null}}function Om(r,i,a){var h=i.pendingProps,p=tt.current,y=!1,x=(i.flags&128)!==0,A;if((A=x)||(A=r!==null&&r.memoizedState===null?!1:(p&2)!==0),A?(y=!0,i.flags&=-129):(r===null||r.memoizedState!==null)&&(p|=1),We(tt,p&1),r===null)return Cc(i),r=i.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?((i.mode&1)===0?i.lanes=1:r.data==="$!"?i.lanes=8:i.lanes=1073741824,null):(x=h.children,r=h.fallback,y?(h=i.mode,y=i.child,x={mode:"hidden",children:x},(h&1)===0&&y!==null?(y.childLanes=0,y.pendingProps=x):y=vl(x,h,0,null),r=Ps(r,h,a,null),y.return=i,r.return=i,y.sibling=r,i.child=y,i.child.memoizedState=Kc(a),i.memoizedState=Qc,r):Zc(i,x));if(p=r.memoizedState,p!==null&&(A=p.dehydrated,A!==null))return jx(r,i,x,h,A,p,a);if(y){y=h.fallback,x=i.mode,p=r.child,A=p.sibling;var M={mode:"hidden",children:h.children};return(x&1)===0&&i.child!==p?(h=i.child,h.childLanes=0,h.pendingProps=M,i.deletions=null):(h=Kr(p,M),h.subtreeFlags=p.subtreeFlags&14680064),A!==null?y=Kr(A,y):(y=Ps(y,x,a,null),y.flags|=2),y.return=i,h.return=i,h.sibling=y,i.child=h,h=y,y=i.child,x=r.child.memoizedState,x=x===null?Kc(a):{baseLanes:x.baseLanes|a,cachePool:null,transitions:x.transitions},y.memoizedState=x,y.childLanes=r.childLanes&~a,i.memoizedState=Qc,h}return y=r.child,r=y.sibling,h=Kr(y,{mode:"visible",children:h.children}),(i.mode&1)===0&&(h.lanes=a),h.return=i,h.sibling=null,r!==null&&(a=i.deletions,a===null?(i.deletions=[r],i.flags|=16):a.push(r)),i.child=h,i.memoizedState=null,h}function Zc(r,i){return i=vl({mode:"visible",children:i},r.mode,0,null),i.return=r,r.child=i}function il(r,i,a,h){return h!==null&&kc(h),ai(i,r.child,null,a),r=Zc(i,i.pendingProps.children),r.flags|=2,i.memoizedState=null,r}function jx(r,i,a,h,p,y,x){if(a)return i.flags&256?(i.flags&=-257,h=Hc(Error(t(422))),il(r,i,x,h)):i.memoizedState!==null?(i.child=r.child,i.flags|=128,null):(y=h.fallback,p=i.mode,h=vl({mode:"visible",children:h.children},p,0,null),y=Ps(y,p,x,null),y.flags|=2,h.return=i,y.return=i,h.sibling=y,i.child=h,(i.mode&1)!==0&&ai(i,r.child,null,x),i.child.memoizedState=Kc(x),i.memoizedState=Qc,y);if((i.mode&1)===0)return il(r,i,x,null);if(p.data==="$!"){if(h=p.nextSibling&&p.nextSibling.dataset,h)var A=h.dgst;return h=A,y=Error(t(419)),h=Hc(y,h,void 0),il(r,i,x,h)}if(A=(x&r.childLanes)!==0,Xt||A){if(h=Ct,h!==null){switch(x&-x){case 4:p=2;break;case 16:p=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:p=32;break;case 536870912:p=268435456;break;default:p=0}p=(p&(h.suspendedLanes|x))!==0?0:p,p!==0&&p!==y.retryLane&&(y.retryLane=p,fr(r,p),Bn(h,r,p,-1))}return ph(),h=Hc(Error(t(421))),il(r,i,x,h)}return p.data==="$?"?(i.flags|=128,i.child=r.child,i=Zx.bind(null,r),p._reactRetry=i,null):(r=y.treeContext,un=Br(p.nextSibling),ln=i,Ye=!0,Vn=null,r!==null&&(_n[wn++]=hr,_n[wn++]=dr,_n[wn++]=ws,hr=r.id,dr=r.overflow,ws=i),i=Zc(i,h.children),i.flags|=4096,i)}function Im(r,i,a){r.lanes|=i;var h=r.alternate;h!==null&&(h.lanes|=i),Pc(r.return,i,a)}function Jc(r,i,a,h,p){var y=r.memoizedState;y===null?r.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:h,tail:a,tailMode:p}:(y.isBackwards=i,y.rendering=null,y.renderingStartTime=0,y.last=h,y.tail=a,y.tailMode=p)}function Vm(r,i,a){var h=i.pendingProps,p=h.revealOrder,y=h.tail;if(Ut(r,i,h.children,a),h=tt.current,(h&2)!==0)h=h&1|2,i.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=i.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Im(r,a,i);else if(r.tag===19)Im(r,a,i);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}h&=1}if(We(tt,h),(i.mode&1)===0)i.memoizedState=null;else switch(p){case"forwards":for(a=i.child,p=null;a!==null;)r=a.alternate,r!==null&&Za(r)===null&&(p=a),a=a.sibling;a=p,a===null?(p=i.child,i.child=null):(p=a.sibling,a.sibling=null),Jc(i,!1,p,a,y);break;case"backwards":for(a=null,p=i.child,i.child=null;p!==null;){if(r=p.alternate,r!==null&&Za(r)===null){i.child=p;break}r=p.sibling,p.sibling=a,a=p,p=r}Jc(i,!0,a,null,y);break;case"together":Jc(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function ol(r,i){(i.mode&1)===0&&r!==null&&(r.alternate=null,i.alternate=null,i.flags|=2)}function mr(r,i,a){if(r!==null&&(i.dependencies=r.dependencies),ks|=i.lanes,(a&i.childLanes)===0)return null;if(r!==null&&i.child!==r.child)throw Error(t(153));if(i.child!==null){for(r=i.child,a=Kr(r,r.pendingProps),i.child=a,a.return=i;r.sibling!==null;)r=r.sibling,a=a.sibling=Kr(r,r.pendingProps),a.return=i;a.sibling=null}return i.child}function Bx(r,i,a){switch(i.tag){case 3:Mm(i),oi();break;case 5:Qp(i);break;case 1:Yt(i.type)&&Wa(i);break;case 4:Mc(i,i.stateNode.containerInfo);break;case 10:var h=i.type._context,p=i.memoizedProps.value;We(Ya,h._currentValue),h._currentValue=p;break;case 13:if(h=i.memoizedState,h!==null)return h.dehydrated!==null?(We(tt,tt.current&1),i.flags|=128,null):(a&i.child.childLanes)!==0?Om(r,i,a):(We(tt,tt.current&1),r=mr(r,i,a),r!==null?r.sibling:null);We(tt,tt.current&1);break;case 19:if(h=(a&i.childLanes)!==0,(r.flags&128)!==0){if(h)return Vm(r,i,a);i.flags|=128}if(p=i.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),We(tt,tt.current),h)break;return null;case 22:case 23:return i.lanes=0,Pm(r,i,a)}return mr(r,i,a)}var Fm,eh,Lm,jm;Fm=function(r,i){for(var a=i.child;a!==null;){if(a.tag===5||a.tag===6)r.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},eh=function(){},Lm=function(r,i,a,h){var p=r.memoizedProps;if(p!==h){r=i.stateNode,Ts(Zn.current);var y=null;switch(a){case"input":p=gs(r,p),h=gs(r,h),y=[];break;case"select":p=q({},p,{value:void 0}),h=q({},h,{value:void 0}),y=[];break;case"textarea":p=jt(r,p),h=jt(r,h),y=[];break;default:typeof p.onClick!="function"&&typeof h.onClick=="function"&&(r.onclick=ja)}yn(a,h);var x;a=null;for(U in p)if(!h.hasOwnProperty(U)&&p.hasOwnProperty(U)&&p[U]!=null)if(U==="style"){var A=p[U];for(x in A)A.hasOwnProperty(x)&&(a||(a={}),a[x]="")}else U!=="dangerouslySetInnerHTML"&&U!=="children"&&U!=="suppressContentEditableWarning"&&U!=="suppressHydrationWarning"&&U!=="autoFocus"&&(o.hasOwnProperty(U)?y||(y=[]):(y=y||[]).push(U,null));for(U in h){var M=h[U];if(A=p!=null?p[U]:void 0,h.hasOwnProperty(U)&&M!==A&&(M!=null||A!=null))if(U==="style")if(A){for(x in A)!A.hasOwnProperty(x)||M&&M.hasOwnProperty(x)||(a||(a={}),a[x]="");for(x in M)M.hasOwnProperty(x)&&A[x]!==M[x]&&(a||(a={}),a[x]=M[x])}else a||(y||(y=[]),y.push(U,a)),a=M;else U==="dangerouslySetInnerHTML"?(M=M?M.__html:void 0,A=A?A.__html:void 0,M!=null&&A!==M&&(y=y||[]).push(U,M)):U==="children"?typeof M!="string"&&typeof M!="number"||(y=y||[]).push(U,""+M):U!=="suppressContentEditableWarning"&&U!=="suppressHydrationWarning"&&(o.hasOwnProperty(U)?(M!=null&&U==="onScroll"&&qe("scroll",r),y||A===M||(y=[])):(y=y||[]).push(U,M))}a&&(y=y||[]).push("style",a);var U=y;(i.updateQueue=U)&&(i.flags|=4)}},jm=function(r,i,a,h){a!==h&&(i.flags|=4)};function ko(r,i){if(!Ye)switch(r.tailMode){case"hidden":i=r.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?r.tail=null:a.sibling=null;break;case"collapsed":a=r.tail;for(var h=null;a!==null;)a.alternate!==null&&(h=a),a=a.sibling;h===null?i||r.tail===null?r.tail=null:r.tail.sibling=null:h.sibling=null}}function Ot(r){var i=r.alternate!==null&&r.alternate.child===r.child,a=0,h=0;if(i)for(var p=r.child;p!==null;)a|=p.lanes|p.childLanes,h|=p.subtreeFlags&14680064,h|=p.flags&14680064,p.return=r,p=p.sibling;else for(p=r.child;p!==null;)a|=p.lanes|p.childLanes,h|=p.subtreeFlags,h|=p.flags,p.return=r,p=p.sibling;return r.subtreeFlags|=h,r.childLanes=a,i}function Ux(r,i,a){var h=i.pendingProps;switch(Sc(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ot(i),null;case 1:return Yt(i.type)&&Ua(),Ot(i),null;case 3:return h=i.stateNode,ci(),He(Gt),He(Mt),Ic(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(r===null||r.child===null)&&(Ha(i)?i.flags|=4:r===null||r.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Vn!==null&&(hh(Vn),Vn=null))),eh(r,i),Ot(i),null;case 5:Dc(i);var p=Ts(wo.current);if(a=i.type,r!==null&&i.stateNode!=null)Lm(r,i,a,h,p),r.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!h){if(i.stateNode===null)throw Error(t(166));return Ot(i),null}if(r=Ts(Zn.current),Ha(i)){h=i.stateNode,a=i.type;var y=i.memoizedProps;switch(h[Kn]=i,h[mo]=y,r=(i.mode&1)!==0,a){case"dialog":qe("cancel",h),qe("close",h);break;case"iframe":case"object":case"embed":qe("load",h);break;case"video":case"audio":for(p=0;p<ho.length;p++)qe(ho[p],h);break;case"source":qe("error",h);break;case"img":case"image":case"link":qe("error",h),qe("load",h);break;case"details":qe("toggle",h);break;case"input":oe(h,y),qe("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!y.multiple},qe("invalid",h);break;case"textarea":se(h,y),qe("invalid",h)}yn(a,y),p=null;for(var x in y)if(y.hasOwnProperty(x)){var A=y[x];x==="children"?typeof A=="string"?h.textContent!==A&&(y.suppressHydrationWarning!==!0&&La(h.textContent,A,r),p=["children",A]):typeof A=="number"&&h.textContent!==""+A&&(y.suppressHydrationWarning!==!0&&La(h.textContent,A,r),p=["children",""+A]):o.hasOwnProperty(x)&&A!=null&&x==="onScroll"&&qe("scroll",h)}switch(a){case"input":lt(h),je(h,y,!0);break;case"textarea":lt(h),Ae(h);break;case"select":case"option":break;default:typeof y.onClick=="function"&&(h.onclick=ja)}h=p,i.updateQueue=h,h!==null&&(i.flags|=4)}else{x=p.nodeType===9?p:p.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=De(a)),r==="http://www.w3.org/1999/xhtml"?a==="script"?(r=x.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof h.is=="string"?r=x.createElement(a,{is:h.is}):(r=x.createElement(a),a==="select"&&(x=r,h.multiple?x.multiple=!0:h.size&&(x.size=h.size))):r=x.createElementNS(r,a),r[Kn]=i,r[mo]=h,Fm(r,i,!1,!1),i.stateNode=r;e:{switch(x=Dn(a,h),a){case"dialog":qe("cancel",r),qe("close",r),p=h;break;case"iframe":case"object":case"embed":qe("load",r),p=h;break;case"video":case"audio":for(p=0;p<ho.length;p++)qe(ho[p],r);p=h;break;case"source":qe("error",r),p=h;break;case"img":case"image":case"link":qe("error",r),qe("load",r),p=h;break;case"details":qe("toggle",r),p=h;break;case"input":oe(r,h),p=gs(r,h),qe("invalid",r);break;case"option":p=h;break;case"select":r._wrapperState={wasMultiple:!!h.multiple},p=q({},h,{value:void 0}),qe("invalid",r);break;case"textarea":se(r,h),p=jt(r,h),qe("invalid",r);break;default:p=h}yn(a,p),A=p;for(y in A)if(A.hasOwnProperty(y)){var M=A[y];y==="style"?ar(r,M):y==="dangerouslySetInnerHTML"?(M=M?M.__html:void 0,M!=null&&sn(r,M)):y==="children"?typeof M=="string"?(a!=="textarea"||M!=="")&&ct(r,M):typeof M=="number"&&ct(r,""+M):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(o.hasOwnProperty(y)?M!=null&&y==="onScroll"&&qe("scroll",r):M!=null&&k(r,y,M,x))}switch(a){case"input":lt(r),je(r,h,!1);break;case"textarea":lt(r),Ae(r);break;case"option":h.value!=null&&r.setAttribute("value",""+re(h.value));break;case"select":r.multiple=!!h.multiple,y=h.value,y!=null?ut(r,!!h.multiple,y,!1):h.defaultValue!=null&&ut(r,!!h.multiple,h.defaultValue,!0);break;default:typeof p.onClick=="function"&&(r.onclick=ja)}switch(a){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return Ot(i),null;case 6:if(r&&i.stateNode!=null)jm(r,i,r.memoizedProps,h);else{if(typeof h!="string"&&i.stateNode===null)throw Error(t(166));if(a=Ts(wo.current),Ts(Zn.current),Ha(i)){if(h=i.stateNode,a=i.memoizedProps,h[Kn]=i,(y=h.nodeValue!==a)&&(r=ln,r!==null))switch(r.tag){case 3:La(h.nodeValue,a,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&La(h.nodeValue,a,(r.mode&1)!==0)}y&&(i.flags|=4)}else h=(a.nodeType===9?a:a.ownerDocument).createTextNode(h),h[Kn]=i,i.stateNode=h}return Ot(i),null;case 13:if(He(tt),h=i.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(Ye&&un!==null&&(i.mode&1)!==0&&(i.flags&128)===0)Wp(),oi(),i.flags|=98560,y=!1;else if(y=Ha(i),h!==null&&h.dehydrated!==null){if(r===null){if(!y)throw Error(t(318));if(y=i.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(t(317));y[Kn]=i}else oi(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Ot(i),y=!1}else Vn!==null&&(hh(Vn),Vn=null),y=!0;if(!y)return i.flags&65536?i:null}return(i.flags&128)!==0?(i.lanes=a,i):(h=h!==null,h!==(r!==null&&r.memoizedState!==null)&&h&&(i.child.flags|=8192,(i.mode&1)!==0&&(r===null||(tt.current&1)!==0?xt===0&&(xt=3):ph())),i.updateQueue!==null&&(i.flags|=4),Ot(i),null);case 4:return ci(),eh(r,i),r===null&&fo(i.stateNode.containerInfo),Ot(i),null;case 10:return Nc(i.type._context),Ot(i),null;case 17:return Yt(i.type)&&Ua(),Ot(i),null;case 19:if(He(tt),y=i.memoizedState,y===null)return Ot(i),null;if(h=(i.flags&128)!==0,x=y.rendering,x===null)if(h)ko(y,!1);else{if(xt!==0||r!==null&&(r.flags&128)!==0)for(r=i.child;r!==null;){if(x=Za(r),x!==null){for(i.flags|=128,ko(y,!1),h=x.updateQueue,h!==null&&(i.updateQueue=h,i.flags|=4),i.subtreeFlags=0,h=a,a=i.child;a!==null;)y=a,r=h,y.flags&=14680066,x=y.alternate,x===null?(y.childLanes=0,y.lanes=r,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=x.childLanes,y.lanes=x.lanes,y.child=x.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=x.memoizedProps,y.memoizedState=x.memoizedState,y.updateQueue=x.updateQueue,y.type=x.type,r=x.dependencies,y.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),a=a.sibling;return We(tt,tt.current&1|2),i.child}r=r.sibling}y.tail!==null&&ht()>pi&&(i.flags|=128,h=!0,ko(y,!1),i.lanes=4194304)}else{if(!h)if(r=Za(x),r!==null){if(i.flags|=128,h=!0,a=r.updateQueue,a!==null&&(i.updateQueue=a,i.flags|=4),ko(y,!0),y.tail===null&&y.tailMode==="hidden"&&!x.alternate&&!Ye)return Ot(i),null}else 2*ht()-y.renderingStartTime>pi&&a!==1073741824&&(i.flags|=128,h=!0,ko(y,!1),i.lanes=4194304);y.isBackwards?(x.sibling=i.child,i.child=x):(a=y.last,a!==null?a.sibling=x:i.child=x,y.last=x)}return y.tail!==null?(i=y.tail,y.rendering=i,y.tail=i.sibling,y.renderingStartTime=ht(),i.sibling=null,a=tt.current,We(tt,h?a&1|2:a&1),i):(Ot(i),null);case 22:case 23:return fh(),h=i.memoizedState!==null,r!==null&&r.memoizedState!==null!==h&&(i.flags|=8192),h&&(i.mode&1)!==0?(cn&1073741824)!==0&&(Ot(i),i.subtreeFlags&6&&(i.flags|=8192)):Ot(i),null;case 24:return null;case 25:return null}throw Error(t(156,i.tag))}function Wx(r,i){switch(Sc(i),i.tag){case 1:return Yt(i.type)&&Ua(),r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 3:return ci(),He(Gt),He(Mt),Ic(),r=i.flags,(r&65536)!==0&&(r&128)===0?(i.flags=r&-65537|128,i):null;case 5:return Dc(i),null;case 13:if(He(tt),r=i.memoizedState,r!==null&&r.dehydrated!==null){if(i.alternate===null)throw Error(t(340));oi()}return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 19:return He(tt),null;case 4:return ci(),null;case 10:return Nc(i.type._context),null;case 22:case 23:return fh(),null;case 24:return null;default:return null}}var al=!1,It=!1,zx=typeof WeakSet=="function"?WeakSet:Set,ue=null;function di(r,i){var a=r.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(h){it(r,i,h)}else a.current=null}function th(r,i,a){try{a()}catch(h){it(r,i,h)}}var Bm=!1;function $x(r,i){if(fc=Aa,r=vp(),ic(r)){if("selectionStart"in r)var a={start:r.selectionStart,end:r.selectionEnd};else e:{a=(a=r.ownerDocument)&&a.defaultView||window;var h=a.getSelection&&a.getSelection();if(h&&h.rangeCount!==0){a=h.anchorNode;var p=h.anchorOffset,y=h.focusNode;h=h.focusOffset;try{a.nodeType,y.nodeType}catch{a=null;break e}var x=0,A=-1,M=-1,U=0,K=0,J=r,Q=null;t:for(;;){for(var le;J!==a||p!==0&&J.nodeType!==3||(A=x+p),J!==y||h!==0&&J.nodeType!==3||(M=x+h),J.nodeType===3&&(x+=J.nodeValue.length),(le=J.firstChild)!==null;)Q=J,J=le;for(;;){if(J===r)break t;if(Q===a&&++U===p&&(A=x),Q===y&&++K===h&&(M=x),(le=J.nextSibling)!==null)break;J=Q,Q=J.parentNode}J=le}a=A===-1||M===-1?null:{start:A,end:M}}else a=null}a=a||{start:0,end:0}}else a=null;for(pc={focusedElem:r,selectionRange:a},Aa=!1,ue=i;ue!==null;)if(i=ue,r=i.child,(i.subtreeFlags&1028)!==0&&r!==null)r.return=i,ue=r;else for(;ue!==null;){i=ue;try{var he=i.alternate;if((i.flags&1024)!==0)switch(i.tag){case 0:case 11:case 15:break;case 1:if(he!==null){var fe=he.memoizedProps,dt=he.memoizedState,L=i.stateNode,O=L.getSnapshotBeforeUpdate(i.elementType===i.type?fe:Fn(i.type,fe),dt);L.__reactInternalSnapshotBeforeUpdate=O}break;case 3:var B=i.stateNode.containerInfo;B.nodeType===1?B.textContent="":B.nodeType===9&&B.documentElement&&B.removeChild(B.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(ne){it(i,i.return,ne)}if(r=i.sibling,r!==null){r.return=i.return,ue=r;break}ue=i.return}return he=Bm,Bm=!1,he}function Eo(r,i,a){var h=i.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var p=h=h.next;do{if((p.tag&r)===r){var y=p.destroy;p.destroy=void 0,y!==void 0&&th(i,a,y)}p=p.next}while(p!==h)}}function ll(r,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var a=i=i.next;do{if((a.tag&r)===r){var h=a.create;a.destroy=h()}a=a.next}while(a!==i)}}function nh(r){var i=r.ref;if(i!==null){var a=r.stateNode;switch(r.tag){case 5:r=a;break;default:r=a}typeof i=="function"?i(r):i.current=r}}function Um(r){var i=r.alternate;i!==null&&(r.alternate=null,Um(i)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(i=r.stateNode,i!==null&&(delete i[Kn],delete i[mo],delete i[vc],delete i[Ex],delete i[Ax])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function Wm(r){return r.tag===5||r.tag===3||r.tag===4}function zm(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||Wm(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function rh(r,i,a){var h=r.tag;if(h===5||h===6)r=r.stateNode,i?a.nodeType===8?a.parentNode.insertBefore(r,i):a.insertBefore(r,i):(a.nodeType===8?(i=a.parentNode,i.insertBefore(r,a)):(i=a,i.appendChild(r)),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=ja));else if(h!==4&&(r=r.child,r!==null))for(rh(r,i,a),r=r.sibling;r!==null;)rh(r,i,a),r=r.sibling}function sh(r,i,a){var h=r.tag;if(h===5||h===6)r=r.stateNode,i?a.insertBefore(r,i):a.appendChild(r);else if(h!==4&&(r=r.child,r!==null))for(sh(r,i,a),r=r.sibling;r!==null;)sh(r,i,a),r=r.sibling}var Nt=null,Ln=!1;function Hr(r,i,a){for(a=a.child;a!==null;)$m(r,i,a),a=a.sibling}function $m(r,i,a){if(Qn&&typeof Qn.onCommitFiberUnmount=="function")try{Qn.onCommitFiberUnmount(xa,a)}catch{}switch(a.tag){case 5:It||di(a,i);case 6:var h=Nt,p=Ln;Nt=null,Hr(r,i,a),Nt=h,Ln=p,Nt!==null&&(Ln?(r=Nt,a=a.stateNode,r.nodeType===8?r.parentNode.removeChild(a):r.removeChild(a)):Nt.removeChild(a.stateNode));break;case 18:Nt!==null&&(Ln?(r=Nt,a=a.stateNode,r.nodeType===8?yc(r.parentNode,a):r.nodeType===1&&yc(r,a),ro(r)):yc(Nt,a.stateNode));break;case 4:h=Nt,p=Ln,Nt=a.stateNode.containerInfo,Ln=!0,Hr(r,i,a),Nt=h,Ln=p;break;case 0:case 11:case 14:case 15:if(!It&&(h=a.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){p=h=h.next;do{var y=p,x=y.destroy;y=y.tag,x!==void 0&&((y&2)!==0||(y&4)!==0)&&th(a,i,x),p=p.next}while(p!==h)}Hr(r,i,a);break;case 1:if(!It&&(di(a,i),h=a.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=a.memoizedProps,h.state=a.memoizedState,h.componentWillUnmount()}catch(A){it(a,i,A)}Hr(r,i,a);break;case 21:Hr(r,i,a);break;case 22:a.mode&1?(It=(h=It)||a.memoizedState!==null,Hr(r,i,a),It=h):Hr(r,i,a);break;default:Hr(r,i,a)}}function qm(r){var i=r.updateQueue;if(i!==null){r.updateQueue=null;var a=r.stateNode;a===null&&(a=r.stateNode=new zx),i.forEach(function(h){var p=Jx.bind(null,r,h);a.has(h)||(a.add(h),h.then(p,p))})}}function jn(r,i){var a=i.deletions;if(a!==null)for(var h=0;h<a.length;h++){var p=a[h];try{var y=r,x=i,A=x;e:for(;A!==null;){switch(A.tag){case 5:Nt=A.stateNode,Ln=!1;break e;case 3:Nt=A.stateNode.containerInfo,Ln=!0;break e;case 4:Nt=A.stateNode.containerInfo,Ln=!0;break e}A=A.return}if(Nt===null)throw Error(t(160));$m(y,x,p),Nt=null,Ln=!1;var M=p.alternate;M!==null&&(M.return=null),p.return=null}catch(U){it(p,i,U)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)Hm(i,r),i=i.sibling}function Hm(r,i){var a=r.alternate,h=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(jn(i,r),er(r),h&4){try{Eo(3,r,r.return),ll(3,r)}catch(fe){it(r,r.return,fe)}try{Eo(5,r,r.return)}catch(fe){it(r,r.return,fe)}}break;case 1:jn(i,r),er(r),h&512&&a!==null&&di(a,a.return);break;case 5:if(jn(i,r),er(r),h&512&&a!==null&&di(a,a.return),r.flags&32){var p=r.stateNode;try{ct(p,"")}catch(fe){it(r,r.return,fe)}}if(h&4&&(p=r.stateNode,p!=null)){var y=r.memoizedProps,x=a!==null?a.memoizedProps:y,A=r.type,M=r.updateQueue;if(r.updateQueue=null,M!==null)try{A==="input"&&y.type==="radio"&&y.name!=null&&ge(p,y),Dn(A,x);var U=Dn(A,y);for(x=0;x<M.length;x+=2){var K=M[x],J=M[x+1];K==="style"?ar(p,J):K==="dangerouslySetInnerHTML"?sn(p,J):K==="children"?ct(p,J):k(p,K,J,U)}switch(A){case"input":$e(p,y);break;case"textarea":we(p,y);break;case"select":var Q=p._wrapperState.wasMultiple;p._wrapperState.wasMultiple=!!y.multiple;var le=y.value;le!=null?ut(p,!!y.multiple,le,!1):Q!==!!y.multiple&&(y.defaultValue!=null?ut(p,!!y.multiple,y.defaultValue,!0):ut(p,!!y.multiple,y.multiple?[]:"",!1))}p[mo]=y}catch(fe){it(r,r.return,fe)}}break;case 6:if(jn(i,r),er(r),h&4){if(r.stateNode===null)throw Error(t(162));p=r.stateNode,y=r.memoizedProps;try{p.nodeValue=y}catch(fe){it(r,r.return,fe)}}break;case 3:if(jn(i,r),er(r),h&4&&a!==null&&a.memoizedState.isDehydrated)try{ro(i.containerInfo)}catch(fe){it(r,r.return,fe)}break;case 4:jn(i,r),er(r);break;case 13:jn(i,r),er(r),p=r.child,p.flags&8192&&(y=p.memoizedState!==null,p.stateNode.isHidden=y,!y||p.alternate!==null&&p.alternate.memoizedState!==null||(ah=ht())),h&4&&qm(r);break;case 22:if(K=a!==null&&a.memoizedState!==null,r.mode&1?(It=(U=It)||K,jn(i,r),It=U):jn(i,r),er(r),h&8192){if(U=r.memoizedState!==null,(r.stateNode.isHidden=U)&&!K&&(r.mode&1)!==0)for(ue=r,K=r.child;K!==null;){for(J=ue=K;ue!==null;){switch(Q=ue,le=Q.child,Q.tag){case 0:case 11:case 14:case 15:Eo(4,Q,Q.return);break;case 1:di(Q,Q.return);var he=Q.stateNode;if(typeof he.componentWillUnmount=="function"){h=Q,a=Q.return;try{i=h,he.props=i.memoizedProps,he.state=i.memoizedState,he.componentWillUnmount()}catch(fe){it(h,a,fe)}}break;case 5:di(Q,Q.return);break;case 22:if(Q.memoizedState!==null){Xm(J);continue}}le!==null?(le.return=Q,ue=le):Xm(J)}K=K.sibling}e:for(K=null,J=r;;){if(J.tag===5){if(K===null){K=J;try{p=J.stateNode,U?(y=p.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none"):(A=J.stateNode,M=J.memoizedProps.style,x=M!=null&&M.hasOwnProperty("display")?M.display:null,A.style.display=Mn("display",x))}catch(fe){it(r,r.return,fe)}}}else if(J.tag===6){if(K===null)try{J.stateNode.nodeValue=U?"":J.memoizedProps}catch(fe){it(r,r.return,fe)}}else if((J.tag!==22&&J.tag!==23||J.memoizedState===null||J===r)&&J.child!==null){J.child.return=J,J=J.child;continue}if(J===r)break e;for(;J.sibling===null;){if(J.return===null||J.return===r)break e;K===J&&(K=null),J=J.return}K===J&&(K=null),J.sibling.return=J.return,J=J.sibling}}break;case 19:jn(i,r),er(r),h&4&&qm(r);break;case 21:break;default:jn(i,r),er(r)}}function er(r){var i=r.flags;if(i&2){try{e:{for(var a=r.return;a!==null;){if(Wm(a)){var h=a;break e}a=a.return}throw Error(t(160))}switch(h.tag){case 5:var p=h.stateNode;h.flags&32&&(ct(p,""),h.flags&=-33);var y=zm(r);sh(r,y,p);break;case 3:case 4:var x=h.stateNode.containerInfo,A=zm(r);rh(r,A,x);break;default:throw Error(t(161))}}catch(M){it(r,r.return,M)}r.flags&=-3}i&4096&&(r.flags&=-4097)}function qx(r,i,a){ue=r,Gm(r)}function Gm(r,i,a){for(var h=(r.mode&1)!==0;ue!==null;){var p=ue,y=p.child;if(p.tag===22&&h){var x=p.memoizedState!==null||al;if(!x){var A=p.alternate,M=A!==null&&A.memoizedState!==null||It;A=al;var U=It;if(al=x,(It=M)&&!U)for(ue=p;ue!==null;)x=ue,M=x.child,x.tag===22&&x.memoizedState!==null?Qm(p):M!==null?(M.return=x,ue=M):Qm(p);for(;y!==null;)ue=y,Gm(y),y=y.sibling;ue=p,al=A,It=U}Ym(r)}else(p.subtreeFlags&8772)!==0&&y!==null?(y.return=p,ue=y):Ym(r)}}function Ym(r){for(;ue!==null;){var i=ue;if((i.flags&8772)!==0){var a=i.alternate;try{if((i.flags&8772)!==0)switch(i.tag){case 0:case 11:case 15:It||ll(5,i);break;case 1:var h=i.stateNode;if(i.flags&4&&!It)if(a===null)h.componentDidMount();else{var p=i.elementType===i.type?a.memoizedProps:Fn(i.type,a.memoizedProps);h.componentDidUpdate(p,a.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var y=i.updateQueue;y!==null&&Xp(i,y,h);break;case 3:var x=i.updateQueue;if(x!==null){if(a=null,i.child!==null)switch(i.child.tag){case 5:a=i.child.stateNode;break;case 1:a=i.child.stateNode}Xp(i,x,a)}break;case 5:var A=i.stateNode;if(a===null&&i.flags&4){a=A;var M=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":M.autoFocus&&a.focus();break;case"img":M.src&&(a.src=M.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var U=i.alternate;if(U!==null){var K=U.memoizedState;if(K!==null){var J=K.dehydrated;J!==null&&ro(J)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}It||i.flags&512&&nh(i)}catch(Q){it(i,i.return,Q)}}if(i===r){ue=null;break}if(a=i.sibling,a!==null){a.return=i.return,ue=a;break}ue=i.return}}function Xm(r){for(;ue!==null;){var i=ue;if(i===r){ue=null;break}var a=i.sibling;if(a!==null){a.return=i.return,ue=a;break}ue=i.return}}function Qm(r){for(;ue!==null;){var i=ue;try{switch(i.tag){case 0:case 11:case 15:var a=i.return;try{ll(4,i)}catch(M){it(i,a,M)}break;case 1:var h=i.stateNode;if(typeof h.componentDidMount=="function"){var p=i.return;try{h.componentDidMount()}catch(M){it(i,p,M)}}var y=i.return;try{nh(i)}catch(M){it(i,y,M)}break;case 5:var x=i.return;try{nh(i)}catch(M){it(i,x,M)}}}catch(M){it(i,i.return,M)}if(i===r){ue=null;break}var A=i.sibling;if(A!==null){A.return=i.return,ue=A;break}ue=i.return}}var Hx=Math.ceil,ul=V.ReactCurrentDispatcher,ih=V.ReactCurrentOwner,Tn=V.ReactCurrentBatchConfig,Me=0,Ct=null,mt=null,Pt=0,cn=0,fi=Ur(0),xt=0,Ao=null,ks=0,cl=0,oh=0,No=null,Qt=null,ah=0,pi=1/0,gr=null,hl=!1,lh=null,Gr=null,dl=!1,Yr=null,fl=0,Po=0,uh=null,pl=-1,ml=0;function Wt(){return(Me&6)!==0?ht():pl!==-1?pl:pl=ht()}function Xr(r){return(r.mode&1)===0?1:(Me&2)!==0&&Pt!==0?Pt&-Pt:Px.transition!==null?(ml===0&&(ml=zf()),ml):(r=Fe,r!==0||(r=window.event,r=r===void 0?16:Zf(r.type)),r)}function Bn(r,i,a,h){if(50<Po)throw Po=0,uh=null,Error(t(185));Zi(r,a,h),((Me&2)===0||r!==Ct)&&(r===Ct&&((Me&2)===0&&(cl|=a),xt===4&&Qr(r,Pt)),Kt(r,h),a===1&&Me===0&&(i.mode&1)===0&&(pi=ht()+500,za&&zr()))}function Kt(r,i){var a=r.callbackNode;Pw(r,i);var h=Ca(r,r===Ct?Pt:0);if(h===0)a!==null&&Bf(a),r.callbackNode=null,r.callbackPriority=0;else if(i=h&-h,r.callbackPriority!==i){if(a!=null&&Bf(a),i===1)r.tag===0?Nx(Zm.bind(null,r)):Fp(Zm.bind(null,r)),Cx(function(){(Me&6)===0&&zr()}),a=null;else{switch($f(h)){case 1:a=Wu;break;case 4:a=Uf;break;case 16:a=wa;break;case 536870912:a=Wf;break;default:a=wa}a=og(a,Km.bind(null,r))}r.callbackPriority=i,r.callbackNode=a}}function Km(r,i){if(pl=-1,ml=0,(Me&6)!==0)throw Error(t(327));var a=r.callbackNode;if(mi()&&r.callbackNode!==a)return null;var h=Ca(r,r===Ct?Pt:0);if(h===0)return null;if((h&30)!==0||(h&r.expiredLanes)!==0||i)i=gl(r,h);else{i=h;var p=Me;Me|=2;var y=eg();(Ct!==r||Pt!==i)&&(gr=null,pi=ht()+500,As(r,i));do try{Xx();break}catch(A){Jm(r,A)}while(!0);Ac(),ul.current=y,Me=p,mt!==null?i=0:(Ct=null,Pt=0,i=xt)}if(i!==0){if(i===2&&(p=zu(r),p!==0&&(h=p,i=ch(r,p))),i===1)throw a=Ao,As(r,0),Qr(r,h),Kt(r,ht()),a;if(i===6)Qr(r,h);else{if(p=r.current.alternate,(h&30)===0&&!Gx(p)&&(i=gl(r,h),i===2&&(y=zu(r),y!==0&&(h=y,i=ch(r,y))),i===1))throw a=Ao,As(r,0),Qr(r,h),Kt(r,ht()),a;switch(r.finishedWork=p,r.finishedLanes=h,i){case 0:case 1:throw Error(t(345));case 2:Ns(r,Qt,gr);break;case 3:if(Qr(r,h),(h&130023424)===h&&(i=ah+500-ht(),10<i)){if(Ca(r,0)!==0)break;if(p=r.suspendedLanes,(p&h)!==h){Wt(),r.pingedLanes|=r.suspendedLanes&p;break}r.timeoutHandle=gc(Ns.bind(null,r,Qt,gr),i);break}Ns(r,Qt,gr);break;case 4:if(Qr(r,h),(h&4194240)===h)break;for(i=r.eventTimes,p=-1;0<h;){var x=31-On(h);y=1<<x,x=i[x],x>p&&(p=x),h&=~y}if(h=p,h=ht()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*Hx(h/1960))-h,10<h){r.timeoutHandle=gc(Ns.bind(null,r,Qt,gr),h);break}Ns(r,Qt,gr);break;case 5:Ns(r,Qt,gr);break;default:throw Error(t(329))}}}return Kt(r,ht()),r.callbackNode===a?Km.bind(null,r):null}function ch(r,i){var a=No;return r.current.memoizedState.isDehydrated&&(As(r,i).flags|=256),r=gl(r,i),r!==2&&(i=Qt,Qt=a,i!==null&&hh(i)),r}function hh(r){Qt===null?Qt=r:Qt.push.apply(Qt,r)}function Gx(r){for(var i=r;;){if(i.flags&16384){var a=i.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var h=0;h<a.length;h++){var p=a[h],y=p.getSnapshot;p=p.value;try{if(!In(y(),p))return!1}catch{return!1}}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Qr(r,i){for(i&=~oh,i&=~cl,r.suspendedLanes|=i,r.pingedLanes&=~i,r=r.expirationTimes;0<i;){var a=31-On(i),h=1<<a;r[a]=-1,i&=~h}}function Zm(r){if((Me&6)!==0)throw Error(t(327));mi();var i=Ca(r,0);if((i&1)===0)return Kt(r,ht()),null;var a=gl(r,i);if(r.tag!==0&&a===2){var h=zu(r);h!==0&&(i=h,a=ch(r,h))}if(a===1)throw a=Ao,As(r,0),Qr(r,i),Kt(r,ht()),a;if(a===6)throw Error(t(345));return r.finishedWork=r.current.alternate,r.finishedLanes=i,Ns(r,Qt,gr),Kt(r,ht()),null}function dh(r,i){var a=Me;Me|=1;try{return r(i)}finally{Me=a,Me===0&&(pi=ht()+500,za&&zr())}}function Es(r){Yr!==null&&Yr.tag===0&&(Me&6)===0&&mi();var i=Me;Me|=1;var a=Tn.transition,h=Fe;try{if(Tn.transition=null,Fe=1,r)return r()}finally{Fe=h,Tn.transition=a,Me=i,(Me&6)===0&&zr()}}function fh(){cn=fi.current,He(fi)}function As(r,i){r.finishedWork=null,r.finishedLanes=0;var a=r.timeoutHandle;if(a!==-1&&(r.timeoutHandle=-1,Tx(a)),mt!==null)for(a=mt.return;a!==null;){var h=a;switch(Sc(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&Ua();break;case 3:ci(),He(Gt),He(Mt),Ic();break;case 5:Dc(h);break;case 4:ci();break;case 13:He(tt);break;case 19:He(tt);break;case 10:Nc(h.type._context);break;case 22:case 23:fh()}a=a.return}if(Ct=r,mt=r=Kr(r.current,null),Pt=cn=i,xt=0,Ao=null,oh=cl=ks=0,Qt=No=null,Ss!==null){for(i=0;i<Ss.length;i++)if(a=Ss[i],h=a.interleaved,h!==null){a.interleaved=null;var p=h.next,y=a.pending;if(y!==null){var x=y.next;y.next=p,h.next=x}a.pending=h}Ss=null}return r}function Jm(r,i){do{var a=mt;try{if(Ac(),Ja.current=rl,el){for(var h=nt.memoizedState;h!==null;){var p=h.queue;p!==null&&(p.pending=null),h=h.next}el=!1}if(Cs=0,Tt=wt=nt=null,xo=!1,So=0,ih.current=null,a===null||a.return===null){xt=1,Ao=i,mt=null;break}e:{var y=r,x=a.return,A=a,M=i;if(i=Pt,A.flags|=32768,M!==null&&typeof M=="object"&&typeof M.then=="function"){var U=M,K=A,J=K.tag;if((K.mode&1)===0&&(J===0||J===11||J===15)){var Q=K.alternate;Q?(K.updateQueue=Q.updateQueue,K.memoizedState=Q.memoizedState,K.lanes=Q.lanes):(K.updateQueue=null,K.memoizedState=null)}var le=Cm(x);if(le!==null){le.flags&=-257,km(le,x,A,y,i),le.mode&1&&Tm(y,U,i),i=le,M=U;var he=i.updateQueue;if(he===null){var fe=new Set;fe.add(M),i.updateQueue=fe}else he.add(M);break e}else{if((i&1)===0){Tm(y,U,i),ph();break e}M=Error(t(426))}}else if(Ye&&A.mode&1){var dt=Cm(x);if(dt!==null){(dt.flags&65536)===0&&(dt.flags|=256),km(dt,x,A,y,i),kc(hi(M,A));break e}}y=M=hi(M,A),xt!==4&&(xt=2),No===null?No=[y]:No.push(y),y=x;do{switch(y.tag){case 3:y.flags|=65536,i&=-i,y.lanes|=i;var L=xm(y,M,i);Yp(y,L);break e;case 1:A=M;var O=y.type,B=y.stateNode;if((y.flags&128)===0&&(typeof O.getDerivedStateFromError=="function"||B!==null&&typeof B.componentDidCatch=="function"&&(Gr===null||!Gr.has(B)))){y.flags|=65536,i&=-i,y.lanes|=i;var ne=Sm(y,A,i);Yp(y,ne);break e}}y=y.return}while(y!==null)}ng(a)}catch(pe){i=pe,mt===a&&a!==null&&(mt=a=a.return);continue}break}while(!0)}function eg(){var r=ul.current;return ul.current=rl,r===null?rl:r}function ph(){(xt===0||xt===3||xt===2)&&(xt=4),Ct===null||(ks&268435455)===0&&(cl&268435455)===0||Qr(Ct,Pt)}function gl(r,i){var a=Me;Me|=2;var h=eg();(Ct!==r||Pt!==i)&&(gr=null,As(r,i));do try{Yx();break}catch(p){Jm(r,p)}while(!0);if(Ac(),Me=a,ul.current=h,mt!==null)throw Error(t(261));return Ct=null,Pt=0,xt}function Yx(){for(;mt!==null;)tg(mt)}function Xx(){for(;mt!==null&&!ww();)tg(mt)}function tg(r){var i=ig(r.alternate,r,cn);r.memoizedProps=r.pendingProps,i===null?ng(r):mt=i,ih.current=null}function ng(r){var i=r;do{var a=i.alternate;if(r=i.return,(i.flags&32768)===0){if(a=Ux(a,i,cn),a!==null){mt=a;return}}else{if(a=Wx(a,i),a!==null){a.flags&=32767,mt=a;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{xt=6,mt=null;return}}if(i=i.sibling,i!==null){mt=i;return}mt=i=r}while(i!==null);xt===0&&(xt=5)}function Ns(r,i,a){var h=Fe,p=Tn.transition;try{Tn.transition=null,Fe=1,Qx(r,i,a,h)}finally{Tn.transition=p,Fe=h}return null}function Qx(r,i,a,h){do mi();while(Yr!==null);if((Me&6)!==0)throw Error(t(327));a=r.finishedWork;var p=r.finishedLanes;if(a===null)return null;if(r.finishedWork=null,r.finishedLanes=0,a===r.current)throw Error(t(177));r.callbackNode=null,r.callbackPriority=0;var y=a.lanes|a.childLanes;if(bw(r,y),r===Ct&&(mt=Ct=null,Pt=0),(a.subtreeFlags&2064)===0&&(a.flags&2064)===0||dl||(dl=!0,og(wa,function(){return mi(),null})),y=(a.flags&15990)!==0,(a.subtreeFlags&15990)!==0||y){y=Tn.transition,Tn.transition=null;var x=Fe;Fe=1;var A=Me;Me|=4,ih.current=null,$x(r,a),Hm(a,r),gx(pc),Aa=!!fc,pc=fc=null,r.current=a,qx(a),xw(),Me=A,Fe=x,Tn.transition=y}else r.current=a;if(dl&&(dl=!1,Yr=r,fl=p),y=r.pendingLanes,y===0&&(Gr=null),Cw(a.stateNode),Kt(r,ht()),i!==null)for(h=r.onRecoverableError,a=0;a<i.length;a++)p=i[a],h(p.value,{componentStack:p.stack,digest:p.digest});if(hl)throw hl=!1,r=lh,lh=null,r;return(fl&1)!==0&&r.tag!==0&&mi(),y=r.pendingLanes,(y&1)!==0?r===uh?Po++:(Po=0,uh=r):Po=0,zr(),null}function mi(){if(Yr!==null){var r=$f(fl),i=Tn.transition,a=Fe;try{if(Tn.transition=null,Fe=16>r?16:r,Yr===null)var h=!1;else{if(r=Yr,Yr=null,fl=0,(Me&6)!==0)throw Error(t(331));var p=Me;for(Me|=4,ue=r.current;ue!==null;){var y=ue,x=y.child;if((ue.flags&16)!==0){var A=y.deletions;if(A!==null){for(var M=0;M<A.length;M++){var U=A[M];for(ue=U;ue!==null;){var K=ue;switch(K.tag){case 0:case 11:case 15:Eo(8,K,y)}var J=K.child;if(J!==null)J.return=K,ue=J;else for(;ue!==null;){K=ue;var Q=K.sibling,le=K.return;if(Um(K),K===U){ue=null;break}if(Q!==null){Q.return=le,ue=Q;break}ue=le}}}var he=y.alternate;if(he!==null){var fe=he.child;if(fe!==null){he.child=null;do{var dt=fe.sibling;fe.sibling=null,fe=dt}while(fe!==null)}}ue=y}}if((y.subtreeFlags&2064)!==0&&x!==null)x.return=y,ue=x;else e:for(;ue!==null;){if(y=ue,(y.flags&2048)!==0)switch(y.tag){case 0:case 11:case 15:Eo(9,y,y.return)}var L=y.sibling;if(L!==null){L.return=y.return,ue=L;break e}ue=y.return}}var O=r.current;for(ue=O;ue!==null;){x=ue;var B=x.child;if((x.subtreeFlags&2064)!==0&&B!==null)B.return=x,ue=B;else e:for(x=O;ue!==null;){if(A=ue,(A.flags&2048)!==0)try{switch(A.tag){case 0:case 11:case 15:ll(9,A)}}catch(pe){it(A,A.return,pe)}if(A===x){ue=null;break e}var ne=A.sibling;if(ne!==null){ne.return=A.return,ue=ne;break e}ue=A.return}}if(Me=p,zr(),Qn&&typeof Qn.onPostCommitFiberRoot=="function")try{Qn.onPostCommitFiberRoot(xa,r)}catch{}h=!0}return h}finally{Fe=a,Tn.transition=i}}return!1}function rg(r,i,a){i=hi(a,i),i=xm(r,i,1),r=qr(r,i,1),i=Wt(),r!==null&&(Zi(r,1,i),Kt(r,i))}function it(r,i,a){if(r.tag===3)rg(r,r,a);else for(;i!==null;){if(i.tag===3){rg(i,r,a);break}else if(i.tag===1){var h=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Gr===null||!Gr.has(h))){r=hi(a,r),r=Sm(i,r,1),i=qr(i,r,1),r=Wt(),i!==null&&(Zi(i,1,r),Kt(i,r));break}}i=i.return}}function Kx(r,i,a){var h=r.pingCache;h!==null&&h.delete(i),i=Wt(),r.pingedLanes|=r.suspendedLanes&a,Ct===r&&(Pt&a)===a&&(xt===4||xt===3&&(Pt&130023424)===Pt&&500>ht()-ah?As(r,0):oh|=a),Kt(r,i)}function sg(r,i){i===0&&((r.mode&1)===0?i=1:(i=Ta,Ta<<=1,(Ta&130023424)===0&&(Ta=4194304)));var a=Wt();r=fr(r,i),r!==null&&(Zi(r,i,a),Kt(r,a))}function Zx(r){var i=r.memoizedState,a=0;i!==null&&(a=i.retryLane),sg(r,a)}function Jx(r,i){var a=0;switch(r.tag){case 13:var h=r.stateNode,p=r.memoizedState;p!==null&&(a=p.retryLane);break;case 19:h=r.stateNode;break;default:throw Error(t(314))}h!==null&&h.delete(i),sg(r,a)}var ig;ig=function(r,i,a){if(r!==null)if(r.memoizedProps!==i.pendingProps||Gt.current)Xt=!0;else{if((r.lanes&a)===0&&(i.flags&128)===0)return Xt=!1,Bx(r,i,a);Xt=(r.flags&131072)!==0}else Xt=!1,Ye&&(i.flags&1048576)!==0&&Lp(i,qa,i.index);switch(i.lanes=0,i.tag){case 2:var h=i.type;ol(r,i),r=i.pendingProps;var p=ri(i,Mt.current);ui(i,a),p=Lc(null,i,h,r,p,a);var y=jc();return i.flags|=1,typeof p=="object"&&p!==null&&typeof p.render=="function"&&p.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,Yt(h)?(y=!0,Wa(i)):y=!1,i.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,Rc(i),p.updater=sl,i.stateNode=p,p._reactInternals=i,qc(i,h,r,a),i=Xc(null,i,h,!0,y,a)):(i.tag=0,Ye&&y&&xc(i),Ut(null,i,p,a),i=i.child),i;case 16:h=i.elementType;e:{switch(ol(r,i),r=i.pendingProps,p=h._init,h=p(h._payload),i.type=h,p=i.tag=t1(h),r=Fn(h,r),p){case 0:i=Yc(null,i,h,r,a);break e;case 1:i=Rm(null,i,h,r,a);break e;case 11:i=Em(null,i,h,r,a);break e;case 14:i=Am(null,i,h,Fn(h.type,r),a);break e}throw Error(t(306,h,""))}return i;case 0:return h=i.type,p=i.pendingProps,p=i.elementType===h?p:Fn(h,p),Yc(r,i,h,p,a);case 1:return h=i.type,p=i.pendingProps,p=i.elementType===h?p:Fn(h,p),Rm(r,i,h,p,a);case 3:e:{if(Mm(i),r===null)throw Error(t(387));h=i.pendingProps,y=i.memoizedState,p=y.element,Gp(r,i),Ka(i,h,null,a);var x=i.memoizedState;if(h=x.element,y.isDehydrated)if(y={element:h,isDehydrated:!1,cache:x.cache,pendingSuspenseBoundaries:x.pendingSuspenseBoundaries,transitions:x.transitions},i.updateQueue.baseState=y,i.memoizedState=y,i.flags&256){p=hi(Error(t(423)),i),i=Dm(r,i,h,a,p);break e}else if(h!==p){p=hi(Error(t(424)),i),i=Dm(r,i,h,a,p);break e}else for(un=Br(i.stateNode.containerInfo.firstChild),ln=i,Ye=!0,Vn=null,a=qp(i,null,h,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(oi(),h===p){i=mr(r,i,a);break e}Ut(r,i,h,a)}i=i.child}return i;case 5:return Qp(i),r===null&&Cc(i),h=i.type,p=i.pendingProps,y=r!==null?r.memoizedProps:null,x=p.children,mc(h,p)?x=null:y!==null&&mc(h,y)&&(i.flags|=32),bm(r,i),Ut(r,i,x,a),i.child;case 6:return r===null&&Cc(i),null;case 13:return Om(r,i,a);case 4:return Mc(i,i.stateNode.containerInfo),h=i.pendingProps,r===null?i.child=ai(i,null,h,a):Ut(r,i,h,a),i.child;case 11:return h=i.type,p=i.pendingProps,p=i.elementType===h?p:Fn(h,p),Em(r,i,h,p,a);case 7:return Ut(r,i,i.pendingProps,a),i.child;case 8:return Ut(r,i,i.pendingProps.children,a),i.child;case 12:return Ut(r,i,i.pendingProps.children,a),i.child;case 10:e:{if(h=i.type._context,p=i.pendingProps,y=i.memoizedProps,x=p.value,We(Ya,h._currentValue),h._currentValue=x,y!==null)if(In(y.value,x)){if(y.children===p.children&&!Gt.current){i=mr(r,i,a);break e}}else for(y=i.child,y!==null&&(y.return=i);y!==null;){var A=y.dependencies;if(A!==null){x=y.child;for(var M=A.firstContext;M!==null;){if(M.context===h){if(y.tag===1){M=pr(-1,a&-a),M.tag=2;var U=y.updateQueue;if(U!==null){U=U.shared;var K=U.pending;K===null?M.next=M:(M.next=K.next,K.next=M),U.pending=M}}y.lanes|=a,M=y.alternate,M!==null&&(M.lanes|=a),Pc(y.return,a,i),A.lanes|=a;break}M=M.next}}else if(y.tag===10)x=y.type===i.type?null:y.child;else if(y.tag===18){if(x=y.return,x===null)throw Error(t(341));x.lanes|=a,A=x.alternate,A!==null&&(A.lanes|=a),Pc(x,a,i),x=y.sibling}else x=y.child;if(x!==null)x.return=y;else for(x=y;x!==null;){if(x===i){x=null;break}if(y=x.sibling,y!==null){y.return=x.return,x=y;break}x=x.return}y=x}Ut(r,i,p.children,a),i=i.child}return i;case 9:return p=i.type,h=i.pendingProps.children,ui(i,a),p=xn(p),h=h(p),i.flags|=1,Ut(r,i,h,a),i.child;case 14:return h=i.type,p=Fn(h,i.pendingProps),p=Fn(h.type,p),Am(r,i,h,p,a);case 15:return Nm(r,i,i.type,i.pendingProps,a);case 17:return h=i.type,p=i.pendingProps,p=i.elementType===h?p:Fn(h,p),ol(r,i),i.tag=1,Yt(h)?(r=!0,Wa(i)):r=!1,ui(i,a),_m(i,h,p),qc(i,h,p,a),Xc(null,i,h,!0,r,a);case 19:return Vm(r,i,a);case 22:return Pm(r,i,a)}throw Error(t(156,i.tag))};function og(r,i){return jf(r,i)}function e1(r,i,a,h){this.tag=r,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Cn(r,i,a,h){return new e1(r,i,a,h)}function mh(r){return r=r.prototype,!(!r||!r.isReactComponent)}function t1(r){if(typeof r=="function")return mh(r)?1:0;if(r!=null){if(r=r.$$typeof,r===z)return 11;if(r===ae)return 14}return 2}function Kr(r,i){var a=r.alternate;return a===null?(a=Cn(r.tag,i,r.key,r.mode),a.elementType=r.elementType,a.type=r.type,a.stateNode=r.stateNode,a.alternate=r,r.alternate=a):(a.pendingProps=i,a.type=r.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=r.flags&14680064,a.childLanes=r.childLanes,a.lanes=r.lanes,a.child=r.child,a.memoizedProps=r.memoizedProps,a.memoizedState=r.memoizedState,a.updateQueue=r.updateQueue,i=r.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=r.sibling,a.index=r.index,a.ref=r.ref,a}function yl(r,i,a,h,p,y){var x=2;if(h=r,typeof r=="function")mh(r)&&(x=1);else if(typeof r=="string")x=5;else e:switch(r){case F:return Ps(a.children,p,y,i);case R:x=8,p|=8;break;case W:return r=Cn(12,a,i,p|2),r.elementType=W,r.lanes=y,r;case ee:return r=Cn(13,a,i,p),r.elementType=ee,r.lanes=y,r;case X:return r=Cn(19,a,i,p),r.elementType=X,r.lanes=y,r;case te:return vl(a,p,y,i);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case $:x=10;break e;case Y:x=9;break e;case z:x=11;break e;case ae:x=14;break e;case Z:x=16,h=null;break e}throw Error(t(130,r==null?r:typeof r,""))}return i=Cn(x,a,i,p),i.elementType=r,i.type=h,i.lanes=y,i}function Ps(r,i,a,h){return r=Cn(7,r,h,i),r.lanes=a,r}function vl(r,i,a,h){return r=Cn(22,r,h,i),r.elementType=te,r.lanes=a,r.stateNode={isHidden:!1},r}function gh(r,i,a){return r=Cn(6,r,null,i),r.lanes=a,r}function yh(r,i,a){return i=Cn(4,r.children!==null?r.children:[],r.key,i),i.lanes=a,i.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},i}function n1(r,i,a,h,p){this.tag=i,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=$u(0),this.expirationTimes=$u(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$u(0),this.identifierPrefix=h,this.onRecoverableError=p,this.mutableSourceEagerHydrationData=null}function vh(r,i,a,h,p,y,x,A,M){return r=new n1(r,i,a,A,M),i===1?(i=1,y===!0&&(i|=8)):i=0,y=Cn(3,null,null,i),r.current=y,y.stateNode=r,y.memoizedState={element:h,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},Rc(y),r}function r1(r,i,a){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:I,key:h==null?null:""+h,children:r,containerInfo:i,implementation:a}}function ag(r){if(!r)return Wr;r=r._reactInternals;e:{if(ys(r)!==r||r.tag!==1)throw Error(t(170));var i=r;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(Yt(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(t(171))}if(r.tag===1){var a=r.type;if(Yt(a))return Ip(r,a,i)}return i}function lg(r,i,a,h,p,y,x,A,M){return r=vh(a,h,!0,r,p,y,x,A,M),r.context=ag(null),a=r.current,h=Wt(),p=Xr(a),y=pr(h,p),y.callback=i??null,qr(a,y,p),r.current.lanes=p,Zi(r,p,h),Kt(r,h),r}function _l(r,i,a,h){var p=i.current,y=Wt(),x=Xr(p);return a=ag(a),i.context===null?i.context=a:i.pendingContext=a,i=pr(y,x),i.payload={element:r},h=h===void 0?null:h,h!==null&&(i.callback=h),r=qr(p,i,x),r!==null&&(Bn(r,p,x,y),Qa(r,p,x)),x}function wl(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function ug(r,i){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var a=r.retryLane;r.retryLane=a!==0&&a<i?a:i}}function _h(r,i){ug(r,i),(r=r.alternate)&&ug(r,i)}function s1(){return null}var cg=typeof reportError=="function"?reportError:function(r){console.error(r)};function wh(r){this._internalRoot=r}xl.prototype.render=wh.prototype.render=function(r){var i=this._internalRoot;if(i===null)throw Error(t(409));_l(r,i,null,null)},xl.prototype.unmount=wh.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var i=r.containerInfo;Es(function(){_l(null,r,null,null)}),i[ur]=null}};function xl(r){this._internalRoot=r}xl.prototype.unstable_scheduleHydration=function(r){if(r){var i=Gf();r={blockedOn:null,target:r,priority:i};for(var a=0;a<Fr.length&&i!==0&&i<Fr[a].priority;a++);Fr.splice(a,0,r),a===0&&Qf(r)}};function xh(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function Sl(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function hg(){}function i1(r,i,a,h,p){if(p){if(typeof h=="function"){var y=h;h=function(){var U=wl(x);y.call(U)}}var x=lg(i,h,r,0,null,!1,!1,"",hg);return r._reactRootContainer=x,r[ur]=x.current,fo(r.nodeType===8?r.parentNode:r),Es(),x}for(;p=r.lastChild;)r.removeChild(p);if(typeof h=="function"){var A=h;h=function(){var U=wl(M);A.call(U)}}var M=vh(r,0,!1,null,null,!1,!1,"",hg);return r._reactRootContainer=M,r[ur]=M.current,fo(r.nodeType===8?r.parentNode:r),Es(function(){_l(i,M,a,h)}),M}function Tl(r,i,a,h,p){var y=a._reactRootContainer;if(y){var x=y;if(typeof p=="function"){var A=p;p=function(){var M=wl(x);A.call(M)}}_l(i,x,r,p)}else x=i1(a,i,r,p,h);return wl(x)}qf=function(r){switch(r.tag){case 3:var i=r.stateNode;if(i.current.memoizedState.isDehydrated){var a=Ki(i.pendingLanes);a!==0&&(qu(i,a|1),Kt(i,ht()),(Me&6)===0&&(pi=ht()+500,zr()))}break;case 13:Es(function(){var h=fr(r,1);if(h!==null){var p=Wt();Bn(h,r,1,p)}}),_h(r,1)}},Hu=function(r){if(r.tag===13){var i=fr(r,134217728);if(i!==null){var a=Wt();Bn(i,r,134217728,a)}_h(r,134217728)}},Hf=function(r){if(r.tag===13){var i=Xr(r),a=fr(r,i);if(a!==null){var h=Wt();Bn(a,r,i,h)}_h(r,i)}},Gf=function(){return Fe},Yf=function(r,i){var a=Fe;try{return Fe=r,i()}finally{Fe=a}},Gi=function(r,i,a){switch(i){case"input":if($e(r,a),i=a.name,a.type==="radio"&&i!=null){for(a=r;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<a.length;i++){var h=a[i];if(h!==r&&h.form===r.form){var p=Ba(h);if(!p)throw Error(t(90));rn(h),$e(h,p)}}}break;case"textarea":we(r,a);break;case"select":i=a.value,i!=null&&ut(r,!!a.multiple,i,!1)}},ya=dh,Df=Es;var o1={usingClientEntryPoint:!1,Events:[go,ti,Ba,lr,Dr,dh]},bo={findFiberByHostInstance:vs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},a1={bundleType:bo.bundleType,version:bo.version,rendererPackageName:bo.rendererPackageName,rendererConfig:bo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:V.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=Ff(r),r===null?null:r.stateNode},findFiberByHostInstance:bo.findFiberByHostInstance||s1,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Cl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Cl.isDisabled&&Cl.supportsFiber)try{xa=Cl.inject(a1),Qn=Cl}catch{}}return Zt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=o1,Zt.createPortal=function(r,i){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!xh(i))throw Error(t(200));return r1(r,i,null,a)},Zt.createRoot=function(r,i){if(!xh(r))throw Error(t(299));var a=!1,h="",p=cg;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(h=i.identifierPrefix),i.onRecoverableError!==void 0&&(p=i.onRecoverableError)),i=vh(r,1,!1,null,null,a,!1,h,p),r[ur]=i.current,fo(r.nodeType===8?r.parentNode:r),new wh(i)},Zt.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var i=r._reactInternals;if(i===void 0)throw typeof r.render=="function"?Error(t(188)):(r=Object.keys(r).join(","),Error(t(268,r)));return r=Ff(i),r=r===null?null:r.stateNode,r},Zt.flushSync=function(r){return Es(r)},Zt.hydrate=function(r,i,a){if(!Sl(i))throw Error(t(200));return Tl(null,r,i,!0,a)},Zt.hydrateRoot=function(r,i,a){if(!xh(r))throw Error(t(405));var h=a!=null&&a.hydratedSources||null,p=!1,y="",x=cg;if(a!=null&&(a.unstable_strictMode===!0&&(p=!0),a.identifierPrefix!==void 0&&(y=a.identifierPrefix),a.onRecoverableError!==void 0&&(x=a.onRecoverableError)),i=lg(i,null,r,1,a??null,p,!1,y,x),r[ur]=i.current,fo(r),h)for(r=0;r<h.length;r++)a=h[r],p=a._getVersion,p=p(a._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[a,p]:i.mutableSourceEagerHydrationData.push(a,p);return new xl(i)},Zt.render=function(r,i,a){if(!Sl(i))throw Error(t(200));return Tl(null,r,i,!1,a)},Zt.unmountComponentAtNode=function(r){if(!Sl(r))throw Error(t(40));return r._reactRootContainer?(Es(function(){Tl(null,null,r,!1,function(){r._reactRootContainer=null,r[ur]=null})}),!0):!1},Zt.unstable_batchedUpdates=dh,Zt.unstable_renderSubtreeIntoContainer=function(r,i,a,h){if(!Sl(a))throw Error(t(200));if(r==null||r._reactInternals===void 0)throw Error(t(38));return Tl(r,i,a,!1,h)},Zt.version="18.3.1-next-f1338f8080-20240426",Zt}var _g;function m1(){if(_g)return Ch.exports;_g=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Ch.exports=p1(),Ch.exports}var wg;function g1(){if(wg)return kl;wg=1;var n=m1();return kl.createRoot=n.createRoot,kl.hydrateRoot=n.hydrateRoot,kl}var y1=g1();const v1=cv(y1);/**
 * react-router v7.11.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var xg="popstate";function _1(n={}){function e(s,o){let{pathname:l,search:u,hash:c}=s.location;return $h("",{pathname:l,search:u,hash:c},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(s,o){return typeof o=="string"?o:Wo(o)}return x1(e,t,null,n)}function Je(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function bn(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function w1(){return Math.random().toString(36).substring(2,10)}function Sg(n,e){return{usr:n.state,key:n.key,idx:e}}function $h(n,e,t=null,s){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Ii(e):e,state:t,key:e&&e.key||s||w1()}}function Wo({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Ii(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let s=n.indexOf("?");s>=0&&(e.search=n.substring(s),n=n.substring(0,s)),n&&(e.pathname=n)}return e}function x1(n,e,t,s={}){let{window:o=document.defaultView,v5Compat:l=!1}=s,u=o.history,c="POP",d=null,f=m();f==null&&(f=0,u.replaceState({...u.state,idx:f},""));function m(){return(u.state||{idx:null}).idx}function g(){c="POP";let T=m(),C=T==null?null:T-f;f=T,d&&d({action:c,location:S.location,delta:C})}function v(T,C){c="PUSH";let P=$h(S.location,T,C);f=m()+1;let k=Sg(P,f),V=S.createHref(P);try{u.pushState(k,"",V)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;o.location.assign(V)}l&&d&&d({action:c,location:S.location,delta:1})}function _(T,C){c="REPLACE";let P=$h(S.location,T,C);f=m();let k=Sg(P,f),V=S.createHref(P);u.replaceState(k,"",V),l&&d&&d({action:c,location:S.location,delta:0})}function w(T){return S1(T)}let S={get action(){return c},get location(){return n(o,u)},listen(T){if(d)throw new Error("A history only accepts one active listener");return o.addEventListener(xg,g),d=T,()=>{o.removeEventListener(xg,g),d=null}},createHref(T){return e(o,T)},createURL:w,encodeLocation(T){let C=w(T);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:v,replace:_,go(T){return u.go(T)}};return S}function S1(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Je(t,"No window.location.(origin|href) available to create URL");let s=typeof n=="string"?n:Wo(n);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=t+s),new URL(s,t)}function hv(n,e,t="/"){return T1(n,e,t,!1)}function T1(n,e,t,s){let o=typeof e=="string"?Ii(e):e,l=kr(o.pathname||"/",t);if(l==null)return null;let u=dv(n);C1(u);let c=null;for(let d=0;c==null&&d<u.length;++d){let f=I1(l);c=D1(u[d],f,s)}return c}function dv(n,e=[],t=[],s="",o=!1){let l=(u,c,d=o,f)=>{let m={relativePath:f===void 0?u.path||"":f,caseSensitive:u.caseSensitive===!0,childrenIndex:c,route:u};if(m.relativePath.startsWith("/")){if(!m.relativePath.startsWith(s)&&d)return;Je(m.relativePath.startsWith(s),`Absolute route path "${m.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(s.length)}let g=wr([s,m.relativePath]),v=t.concat(m);u.children&&u.children.length>0&&(Je(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),dv(u.children,e,v,g,d)),!(u.path==null&&!u.index)&&e.push({path:g,score:R1(g,u.index),routesMeta:v})};return n.forEach((u,c)=>{var d;if(u.path===""||!((d=u.path)!=null&&d.includes("?")))l(u,c);else for(let f of fv(u.path))l(u,c,!0,f)}),e}function fv(n){let e=n.split("/");if(e.length===0)return[];let[t,...s]=e,o=t.endsWith("?"),l=t.replace(/\?$/,"");if(s.length===0)return o?[l,""]:[l];let u=fv(s.join("/")),c=[];return c.push(...u.map(d=>d===""?l:[l,d].join("/"))),o&&c.push(...u),c.map(d=>n.startsWith("/")&&d===""?"/":d)}function C1(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:M1(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}var k1=/^:[\w-]+$/,E1=3,A1=2,N1=1,P1=10,b1=-2,Tg=n=>n==="*";function R1(n,e){let t=n.split("/"),s=t.length;return t.some(Tg)&&(s+=b1),e&&(s+=A1),t.filter(o=>!Tg(o)).reduce((o,l)=>o+(k1.test(l)?E1:l===""?N1:P1),s)}function M1(n,e){return n.length===e.length&&n.slice(0,-1).every((s,o)=>s===e[o])?n[n.length-1]-e[e.length-1]:0}function D1(n,e,t=!1){let{routesMeta:s}=n,o={},l="/",u=[];for(let c=0;c<s.length;++c){let d=s[c],f=c===s.length-1,m=l==="/"?e:e.slice(l.length)||"/",g=zl({path:d.relativePath,caseSensitive:d.caseSensitive,end:f},m),v=d.route;if(!g&&f&&t&&!s[s.length-1].route.index&&(g=zl({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},m)),!g)return null;Object.assign(o,g.params),u.push({params:o,pathname:wr([l,g.pathname]),pathnameBase:j1(wr([l,g.pathnameBase])),route:v}),g.pathnameBase!=="/"&&(l=wr([l,g.pathnameBase]))}return u}function zl(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,s]=O1(n.path,n.caseSensitive,n.end),o=e.match(t);if(!o)return null;let l=o[0],u=l.replace(/(.)\/+$/,"$1"),c=o.slice(1);return{params:s.reduce((f,{paramName:m,isOptional:g},v)=>{if(m==="*"){let w=c[v]||"";u=l.slice(0,l.length-w.length).replace(/(.)\/+$/,"$1")}const _=c[v];return g&&!_?f[m]=void 0:f[m]=(_||"").replace(/%2F/g,"/"),f},{}),pathname:l,pathnameBase:u,pattern:n}}function O1(n,e=!1,t=!0){bn(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let s=[],o="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,c,d)=>(s.push({paramName:c,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(s.push({paramName:"*"}),o+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":n!==""&&n!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function I1(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return bn(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function kr(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=n.charAt(t);return s&&s!=="/"?null:n.slice(t)||"/"}var pv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,V1=n=>pv.test(n);function F1(n,e="/"){let{pathname:t,search:s="",hash:o=""}=typeof n=="string"?Ii(n):n,l;if(t)if(V1(t))l=t;else{if(t.includes("//")){let u=t;t=t.replace(/\/\/+/g,"/"),bn(!1,`Pathnames cannot have embedded double slashes - normalizing ${u} -> ${t}`)}t.startsWith("/")?l=Cg(t.substring(1),"/"):l=Cg(t,e)}else l=e;return{pathname:l,search:B1(s),hash:U1(o)}}function Cg(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function Ah(n,e,t,s){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function L1(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function vd(n){let e=L1(n);return e.map((t,s)=>s===e.length-1?t.pathname:t.pathnameBase)}function _d(n,e,t,s=!1){let o;typeof n=="string"?o=Ii(n):(o={...n},Je(!o.pathname||!o.pathname.includes("?"),Ah("?","pathname","search",o)),Je(!o.pathname||!o.pathname.includes("#"),Ah("#","pathname","hash",o)),Je(!o.search||!o.search.includes("#"),Ah("#","search","hash",o)));let l=n===""||o.pathname==="",u=l?"/":o.pathname,c;if(u==null)c=t;else{let g=e.length-1;if(!s&&u.startsWith("..")){let v=u.split("/");for(;v[0]==="..";)v.shift(),g-=1;o.pathname=v.join("/")}c=g>=0?e[g]:"/"}let d=F1(o,c),f=u&&u!=="/"&&u.endsWith("/"),m=(l||u===".")&&t.endsWith("/");return!d.pathname.endsWith("/")&&(f||m)&&(d.pathname+="/"),d}var wr=n=>n.join("/").replace(/\/\/+/g,"/"),j1=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),B1=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,U1=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,W1=class{constructor(n,e,t,s=!1){this.status=n,this.statusText=e||"",this.internal=s,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function z1(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}function $1(n){return n.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var mv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function gv(n,e){let t=n;if(typeof t!="string"||!pv.test(t))return{absoluteURL:void 0,isExternal:!1,to:t};let s=t,o=!1;if(mv)try{let l=new URL(window.location.href),u=t.startsWith("//")?new URL(l.protocol+t):new URL(t),c=kr(u.pathname,e);u.origin===l.origin&&c!=null?t=c+u.search+u.hash:o=!0}catch{bn(!1,`<Link to="${t}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:o,to:t}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var yv=["POST","PUT","PATCH","DELETE"];new Set(yv);var q1=["GET",...yv];new Set(q1);var Vi=b.createContext(null);Vi.displayName="DataRouter";var hu=b.createContext(null);hu.displayName="DataRouterState";var H1=b.createContext(!1),vv=b.createContext({isTransitioning:!1});vv.displayName="ViewTransition";var G1=b.createContext(new Map);G1.displayName="Fetchers";var Y1=b.createContext(null);Y1.displayName="Await";var gn=b.createContext(null);gn.displayName="Navigation";var Qo=b.createContext(null);Qo.displayName="Location";var qn=b.createContext({outlet:null,matches:[],isDataRoute:!1});qn.displayName="Route";var wd=b.createContext(null);wd.displayName="RouteError";var _v="REACT_ROUTER_ERROR",X1="REDIRECT",Q1="ROUTE_ERROR_RESPONSE";function K1(n){if(n.startsWith(`${_v}:${X1}:{`))try{let e=JSON.parse(n.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function Z1(n){if(n.startsWith(`${_v}:${Q1}:{`))try{let e=JSON.parse(n.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new W1(e.status,e.statusText,e.data)}catch{}}function J1(n,{relative:e}={}){Je(Fi(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:s}=b.useContext(gn),{hash:o,pathname:l,search:u}=Zo(n,{relative:e}),c=l;return t!=="/"&&(c=l==="/"?t:wr([t,l])),s.createHref({pathname:c,search:u,hash:o})}function Fi(){return b.useContext(Qo)!=null}function cs(){return Je(Fi(),"useLocation() may be used only in the context of a <Router> component."),b.useContext(Qo).location}var wv="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function xv(n){b.useContext(gn).static||b.useLayoutEffect(n)}function Ko(){let{isDataRoute:n}=b.useContext(qn);return n?fS():eS()}function eS(){Je(Fi(),"useNavigate() may be used only in the context of a <Router> component.");let n=b.useContext(Vi),{basename:e,navigator:t}=b.useContext(gn),{matches:s}=b.useContext(qn),{pathname:o}=cs(),l=JSON.stringify(vd(s)),u=b.useRef(!1);return xv(()=>{u.current=!0}),b.useCallback((d,f={})=>{if(bn(u.current,wv),!u.current)return;if(typeof d=="number"){t.go(d);return}let m=_d(d,JSON.parse(l),o,f.relative==="path");n==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:wr([e,m.pathname])),(f.replace?t.replace:t.push)(m,f.state,f)},[e,t,l,o,n])}b.createContext(null);function tS(){let{matches:n}=b.useContext(qn),e=n[n.length-1];return e?e.params:{}}function Zo(n,{relative:e}={}){let{matches:t}=b.useContext(qn),{pathname:s}=cs(),o=JSON.stringify(vd(t));return b.useMemo(()=>_d(n,JSON.parse(o),s,e==="path"),[n,o,s,e])}function nS(n,e){return Sv(n,e)}function Sv(n,e,t,s,o){var P;Je(Fi(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=b.useContext(gn),{matches:u}=b.useContext(qn),c=u[u.length-1],d=c?c.params:{},f=c?c.pathname:"/",m=c?c.pathnameBase:"/",g=c&&c.route;{let k=g&&g.path||"";Cv(f,!g||k.endsWith("*")||k.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${k}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${k}"> to <Route path="${k==="/"?"*":`${k}/*`}">.`)}let v=cs(),_;if(e){let k=typeof e=="string"?Ii(e):e;Je(m==="/"||((P=k.pathname)==null?void 0:P.startsWith(m)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${k.pathname}" was given in the \`location\` prop.`),_=k}else _=v;let w=_.pathname||"/",S=w;if(m!=="/"){let k=m.replace(/^\//,"").split("/");S="/"+w.replace(/^\//,"").split("/").slice(k.length).join("/")}let T=hv(n,{pathname:S});bn(g||T!=null,`No routes matched location "${_.pathname}${_.search}${_.hash}" `),bn(T==null||T[T.length-1].route.element!==void 0||T[T.length-1].route.Component!==void 0||T[T.length-1].route.lazy!==void 0,`Matched leaf route at location "${_.pathname}${_.search}${_.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let C=aS(T&&T.map(k=>Object.assign({},k,{params:Object.assign({},d,k.params),pathname:wr([m,l.encodeLocation?l.encodeLocation(k.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?m:wr([m,l.encodeLocation?l.encodeLocation(k.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:k.pathnameBase])})),u,t,s,o);return e&&C?b.createElement(Qo.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",..._},navigationType:"POP"}},C):C}function rS(){let n=dS(),e=z1(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},u=null;return console.error("Error handled by React Router default ErrorBoundary:",n),u=b.createElement(b.Fragment,null,b.createElement("p",null," Hey developer "),b.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",b.createElement("code",{style:l},"ErrorBoundary")," or"," ",b.createElement("code",{style:l},"errorElement")," prop on your route.")),b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},e),t?b.createElement("pre",{style:o},t):null,u)}var sS=b.createElement(rS,null),Tv=class extends b.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.onError?this.props.onError(n,e):console.error("React Router caught the following error during render",n)}render(){let n=this.state.error;if(this.context&&typeof n=="object"&&n&&"digest"in n&&typeof n.digest=="string"){const t=Z1(n.digest);t&&(n=t)}let e=n!==void 0?b.createElement(qn.Provider,{value:this.props.routeContext},b.createElement(wd.Provider,{value:n,children:this.props.component})):this.props.children;return this.context?b.createElement(iS,{error:n},e):e}};Tv.contextType=H1;var Nh=new WeakMap;function iS({children:n,error:e}){let{basename:t}=b.useContext(gn);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let s=K1(e.digest);if(s){let o=Nh.get(e);if(o)throw o;let l=gv(s.location,t);if(mv&&!Nh.get(e))if(l.isExternal||s.reloadDocument)window.location.href=l.absoluteURL||l.to;else{const u=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(l.to,{replace:s.replace}));throw Nh.set(e,u),u}return b.createElement("meta",{httpEquiv:"refresh",content:`0;url=${l.absoluteURL||l.to}`})}}return n}function oS({routeContext:n,match:e,children:t}){let s=b.useContext(Vi);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),b.createElement(qn.Provider,{value:n},t)}function aS(n,e=[],t=null,s=null,o=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let l=n,u=t==null?void 0:t.errors;if(u!=null){let m=l.findIndex(g=>g.route.id&&(u==null?void 0:u[g.route.id])!==void 0);Je(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),l=l.slice(0,Math.min(l.length,m+1))}let c=!1,d=-1;if(t)for(let m=0;m<l.length;m++){let g=l[m];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(d=m),g.route.id){let{loaderData:v,errors:_}=t,w=g.route.loader&&!v.hasOwnProperty(g.route.id)&&(!_||_[g.route.id]===void 0);if(g.route.lazy||w){c=!0,d>=0?l=l.slice(0,d+1):l=[l[0]];break}}}let f=t&&s?(m,g)=>{var v,_;s(m,{location:t.location,params:((_=(v=t.matches)==null?void 0:v[0])==null?void 0:_.params)??{},unstable_pattern:$1(t.matches),errorInfo:g})}:void 0;return l.reduceRight((m,g,v)=>{let _,w=!1,S=null,T=null;t&&(_=u&&g.route.id?u[g.route.id]:void 0,S=g.route.errorElement||sS,c&&(d<0&&v===0?(Cv("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,T=null):d===v&&(w=!0,T=g.route.hydrateFallbackElement||null)));let C=e.concat(l.slice(0,v+1)),P=()=>{let k;return _?k=S:w?k=T:g.route.Component?k=b.createElement(g.route.Component,null):g.route.element?k=g.route.element:k=m,b.createElement(oS,{match:g,routeContext:{outlet:m,matches:C,isDataRoute:t!=null},children:k})};return t&&(g.route.ErrorBoundary||g.route.errorElement||v===0)?b.createElement(Tv,{location:t.location,revalidation:t.revalidation,component:S,error:_,children:P(),routeContext:{outlet:null,matches:C,isDataRoute:!0},onError:f}):P()},null)}function xd(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function lS(n){let e=b.useContext(Vi);return Je(e,xd(n)),e}function uS(n){let e=b.useContext(hu);return Je(e,xd(n)),e}function cS(n){let e=b.useContext(qn);return Je(e,xd(n)),e}function Sd(n){let e=cS(n),t=e.matches[e.matches.length-1];return Je(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function hS(){return Sd("useRouteId")}function dS(){var s;let n=b.useContext(wd),e=uS("useRouteError"),t=Sd("useRouteError");return n!==void 0?n:(s=e.errors)==null?void 0:s[t]}function fS(){let{router:n}=lS("useNavigate"),e=Sd("useNavigate"),t=b.useRef(!1);return xv(()=>{t.current=!0}),b.useCallback(async(o,l={})=>{bn(t.current,wv),t.current&&(typeof o=="number"?await n.navigate(o):await n.navigate(o,{fromRouteId:e,...l}))},[n,e])}var kg={};function Cv(n,e,t){!e&&!kg[n]&&(kg[n]=!0,bn(!1,t))}b.memo(pS);function pS({routes:n,future:e,state:t,onError:s}){return Sv(n,void 0,t,s,e)}function kv({to:n,replace:e,state:t,relative:s}){Je(Fi(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=b.useContext(gn);bn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=b.useContext(qn),{pathname:u}=cs(),c=Ko(),d=_d(n,vd(l),u,s==="path"),f=JSON.stringify(d);return b.useEffect(()=>{c(JSON.parse(f),{replace:e,state:t,relative:s})},[c,f,s,e,t]),null}function Io(n){Je(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function mS({basename:n="/",children:e=null,location:t,navigationType:s="POP",navigator:o,static:l=!1,unstable_useTransitions:u}){Je(!Fi(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=n.replace(/^\/*/,"/"),d=b.useMemo(()=>({basename:c,navigator:o,static:l,unstable_useTransitions:u,future:{}}),[c,o,l,u]);typeof t=="string"&&(t=Ii(t));let{pathname:f="/",search:m="",hash:g="",state:v=null,key:_="default"}=t,w=b.useMemo(()=>{let S=kr(f,c);return S==null?null:{location:{pathname:S,search:m,hash:g,state:v,key:_},navigationType:s}},[c,f,m,g,v,_,s]);return bn(w!=null,`<Router basename="${c}"> is not able to match the URL "${f}${m}${g}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:b.createElement(gn.Provider,{value:d},b.createElement(Qo.Provider,{children:e,value:w}))}function gS({children:n,location:e}){return nS(qh(n),e)}function qh(n,e=[]){let t=[];return b.Children.forEach(n,(s,o)=>{if(!b.isValidElement(s))return;let l=[...e,o];if(s.type===b.Fragment){t.push.apply(t,qh(s.props.children,l));return}Je(s.type===Io,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Je(!s.props.index||!s.props.children,"An index route cannot have child routes.");let u={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(u.children=qh(s.props.children,l)),t.push(u)}),t}var Vl="get",Fl="application/x-www-form-urlencoded";function du(n){return typeof HTMLElement<"u"&&n instanceof HTMLElement}function yS(n){return du(n)&&n.tagName.toLowerCase()==="button"}function vS(n){return du(n)&&n.tagName.toLowerCase()==="form"}function _S(n){return du(n)&&n.tagName.toLowerCase()==="input"}function wS(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function xS(n,e){return n.button===0&&(!e||e==="_self")&&!wS(n)}var El=null;function SS(){if(El===null)try{new FormData(document.createElement("form"),0),El=!1}catch{El=!0}return El}var TS=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ph(n){return n!=null&&!TS.has(n)?(bn(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Fl}"`),null):n}function CS(n,e){let t,s,o,l,u;if(vS(n)){let c=n.getAttribute("action");s=c?kr(c,e):null,t=n.getAttribute("method")||Vl,o=Ph(n.getAttribute("enctype"))||Fl,l=new FormData(n)}else if(yS(n)||_S(n)&&(n.type==="submit"||n.type==="image")){let c=n.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=n.getAttribute("formaction")||c.getAttribute("action");if(s=d?kr(d,e):null,t=n.getAttribute("formmethod")||c.getAttribute("method")||Vl,o=Ph(n.getAttribute("formenctype"))||Ph(c.getAttribute("enctype"))||Fl,l=new FormData(c,n),!SS()){let{name:f,type:m,value:g}=n;if(m==="image"){let v=f?`${f}.`:"";l.append(`${v}x`,"0"),l.append(`${v}y`,"0")}else f&&l.append(f,g)}}else{if(du(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Vl,s=null,o=Fl,u=n}return l&&o==="text/plain"&&(u=l,l=void 0),{action:s,method:t.toLowerCase(),encType:o,formData:l,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Td(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function kS(n,e,t){let s=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return s.pathname==="/"?s.pathname=`_root.${t}`:e&&kr(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${t}`,s}async function ES(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function AS(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function NS(n,e,t){let s=await Promise.all(n.map(async o=>{let l=e.routes[o.route.id];if(l){let u=await ES(l,t);return u.links?u.links():[]}return[]}));return MS(s.flat(1).filter(AS).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Eg(n,e,t,s,o,l){let u=(d,f)=>t[f]?d.route.id!==t[f].route.id:!0,c=(d,f)=>{var m;return t[f].pathname!==d.pathname||((m=t[f].route.path)==null?void 0:m.endsWith("*"))&&t[f].params["*"]!==d.params["*"]};return l==="assets"?e.filter((d,f)=>u(d,f)||c(d,f)):l==="data"?e.filter((d,f)=>{var g;let m=s.routes[d.route.id];if(!m||!m.hasLoader)return!1;if(u(d,f)||c(d,f))return!0;if(d.route.shouldRevalidate){let v=d.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((g=t[0])==null?void 0:g.params)||{},nextUrl:new URL(n,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function PS(n,e,{includeHydrateFallback:t}={}){return bS(n.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let l=[o.module];return o.clientActionModule&&(l=l.concat(o.clientActionModule)),o.clientLoaderModule&&(l=l.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(l=l.concat(o.hydrateFallbackModule)),o.imports&&(l=l.concat(o.imports)),l}).flat(1))}function bS(n){return[...new Set(n)]}function RS(n){let e={},t=Object.keys(n).sort();for(let s of t)e[s]=n[s];return e}function MS(n,e){let t=new Set;return new Set(e),n.reduce((s,o)=>{let l=JSON.stringify(RS(o));return t.has(l)||(t.add(l),s.push({key:l,link:o})),s},[])}function Ev(){let n=b.useContext(Vi);return Td(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function DS(){let n=b.useContext(hu);return Td(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Cd=b.createContext(void 0);Cd.displayName="FrameworkContext";function Av(){let n=b.useContext(Cd);return Td(n,"You must render this element inside a <HydratedRouter> element"),n}function OS(n,e){let t=b.useContext(Cd),[s,o]=b.useState(!1),[l,u]=b.useState(!1),{onFocus:c,onBlur:d,onMouseEnter:f,onMouseLeave:m,onTouchStart:g}=e,v=b.useRef(null);b.useEffect(()=>{if(n==="render"&&u(!0),n==="viewport"){let S=C=>{C.forEach(P=>{u(P.isIntersecting)})},T=new IntersectionObserver(S,{threshold:.5});return v.current&&T.observe(v.current),()=>{T.disconnect()}}},[n]),b.useEffect(()=>{if(s){let S=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(S)}}},[s]);let _=()=>{o(!0)},w=()=>{o(!1),u(!1)};return t?n!=="intent"?[l,v,{}]:[l,v,{onFocus:Mo(c,_),onBlur:Mo(d,w),onMouseEnter:Mo(f,_),onMouseLeave:Mo(m,w),onTouchStart:Mo(g,_)}]:[!1,v,{}]}function Mo(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function IS({page:n,...e}){let{router:t}=Ev(),s=b.useMemo(()=>hv(t.routes,n,t.basename),[t.routes,n,t.basename]);return s?b.createElement(FS,{page:n,matches:s,...e}):null}function VS(n){let{manifest:e,routeModules:t}=Av(),[s,o]=b.useState([]);return b.useEffect(()=>{let l=!1;return NS(n,e,t).then(u=>{l||o(u)}),()=>{l=!0}},[n,e,t]),s}function FS({page:n,matches:e,...t}){let s=cs(),{manifest:o,routeModules:l}=Av(),{basename:u}=Ev(),{loaderData:c,matches:d}=DS(),f=b.useMemo(()=>Eg(n,e,d,o,s,"data"),[n,e,d,o,s]),m=b.useMemo(()=>Eg(n,e,d,o,s,"assets"),[n,e,d,o,s]),g=b.useMemo(()=>{if(n===s.pathname+s.search+s.hash)return[];let w=new Set,S=!1;if(e.forEach(C=>{var k;let P=o.routes[C.route.id];!P||!P.hasLoader||(!f.some(V=>V.route.id===C.route.id)&&C.route.id in c&&((k=l[C.route.id])!=null&&k.shouldRevalidate)||P.hasClientLoader?S=!0:w.add(C.route.id))}),w.size===0)return[];let T=kS(n,u,"data");return S&&w.size>0&&T.searchParams.set("_routes",e.filter(C=>w.has(C.route.id)).map(C=>C.route.id).join(",")),[T.pathname+T.search]},[u,c,s,o,f,e,n,l]),v=b.useMemo(()=>PS(m,o),[m,o]),_=VS(m);return b.createElement(b.Fragment,null,g.map(w=>b.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...t})),v.map(w=>b.createElement("link",{key:w,rel:"modulepreload",href:w,...t})),_.map(({key:w,link:S})=>b.createElement("link",{key:w,nonce:t.nonce,...S})))}function LS(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var jS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{jS&&(window.__reactRouterVersion="7.11.0")}catch{}function BS({basename:n,children:e,unstable_useTransitions:t,window:s}){let o=b.useRef();o.current==null&&(o.current=_1({window:s,v5Compat:!0}));let l=o.current,[u,c]=b.useState({action:l.action,location:l.location}),d=b.useCallback(f=>{t===!1?c(f):b.startTransition(()=>c(f))},[t]);return b.useLayoutEffect(()=>l.listen(d),[l,d]),b.createElement(mS,{basename:n,children:e,location:u.location,navigationType:u.action,navigator:l,unstable_useTransitions:t})}var Nv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Pv=b.forwardRef(function({onClick:e,discover:t="render",prefetch:s="none",relative:o,reloadDocument:l,replace:u,state:c,target:d,to:f,preventScrollReset:m,viewTransition:g,unstable_defaultShouldRevalidate:v,..._},w){let{basename:S,unstable_useTransitions:T}=b.useContext(gn),C=typeof f=="string"&&Nv.test(f),P=gv(f,S);f=P.to;let k=J1(f,{relative:o}),[V,E,I]=OS(s,_),F=$S(f,{replace:u,state:c,target:d,preventScrollReset:m,relative:o,viewTransition:g,unstable_defaultShouldRevalidate:v,unstable_useTransitions:T});function R($){e&&e($),$.defaultPrevented||F($)}let W=b.createElement("a",{..._,...I,href:P.absoluteURL||k,onClick:P.isExternal||l?e:R,ref:LS(w,E),target:d,"data-discover":!C&&t==="render"?"true":void 0});return V&&!C?b.createElement(b.Fragment,null,W,b.createElement(IS,{page:k})):W});Pv.displayName="Link";var US=b.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:s="",end:o=!1,style:l,to:u,viewTransition:c,children:d,...f},m){let g=Zo(u,{relative:f.relative}),v=cs(),_=b.useContext(hu),{navigator:w,basename:S}=b.useContext(gn),T=_!=null&&XS(g)&&c===!0,C=w.encodeLocation?w.encodeLocation(g).pathname:g.pathname,P=v.pathname,k=_&&_.navigation&&_.navigation.location?_.navigation.location.pathname:null;t||(P=P.toLowerCase(),k=k?k.toLowerCase():null,C=C.toLowerCase()),k&&S&&(k=kr(k,S)||k);const V=C!=="/"&&C.endsWith("/")?C.length-1:C.length;let E=P===C||!o&&P.startsWith(C)&&P.charAt(V)==="/",I=k!=null&&(k===C||!o&&k.startsWith(C)&&k.charAt(C.length)==="/"),F={isActive:E,isPending:I,isTransitioning:T},R=E?e:void 0,W;typeof s=="function"?W=s(F):W=[s,E?"active":null,I?"pending":null,T?"transitioning":null].filter(Boolean).join(" ");let $=typeof l=="function"?l(F):l;return b.createElement(Pv,{...f,"aria-current":R,className:W,ref:m,style:$,to:u,viewTransition:c},typeof d=="function"?d(F):d)});US.displayName="NavLink";var WS=b.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:s,replace:o,state:l,method:u=Vl,action:c,onSubmit:d,relative:f,preventScrollReset:m,viewTransition:g,unstable_defaultShouldRevalidate:v,..._},w)=>{let{unstable_useTransitions:S}=b.useContext(gn),T=GS(),C=YS(c,{relative:f}),P=u.toLowerCase()==="get"?"get":"post",k=typeof c=="string"&&Nv.test(c),V=E=>{if(d&&d(E),E.defaultPrevented)return;E.preventDefault();let I=E.nativeEvent.submitter,F=(I==null?void 0:I.getAttribute("formmethod"))||u,R=()=>T(I||E.currentTarget,{fetcherKey:e,method:F,navigate:t,replace:o,state:l,relative:f,preventScrollReset:m,viewTransition:g,unstable_defaultShouldRevalidate:v});S&&t!==!1?b.startTransition(()=>R()):R()};return b.createElement("form",{ref:w,method:P,action:C,onSubmit:s?d:V,..._,"data-discover":!k&&n==="render"?"true":void 0})});WS.displayName="Form";function zS(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function bv(n){let e=b.useContext(Vi);return Je(e,zS(n)),e}function $S(n,{target:e,replace:t,state:s,preventScrollReset:o,relative:l,viewTransition:u,unstable_defaultShouldRevalidate:c,unstable_useTransitions:d}={}){let f=Ko(),m=cs(),g=Zo(n,{relative:l});return b.useCallback(v=>{if(xS(v,e)){v.preventDefault();let _=t!==void 0?t:Wo(m)===Wo(g),w=()=>f(n,{replace:_,state:s,preventScrollReset:o,relative:l,viewTransition:u,unstable_defaultShouldRevalidate:c});d?b.startTransition(()=>w()):w()}},[m,f,g,t,s,e,n,o,l,u,c,d])}var qS=0,HS=()=>`__${String(++qS)}__`;function GS(){let{router:n}=bv("useSubmit"),{basename:e}=b.useContext(gn),t=hS(),s=n.fetch,o=n.navigate;return b.useCallback(async(l,u={})=>{let{action:c,method:d,encType:f,formData:m,body:g}=CS(l,e);if(u.navigate===!1){let v=u.fetcherKey||HS();await s(v,t,u.action||c,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:m,body:g,formMethod:u.method||d,formEncType:u.encType||f,flushSync:u.flushSync})}else await o(u.action||c,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:m,body:g,formMethod:u.method||d,formEncType:u.encType||f,replace:u.replace,state:u.state,fromRouteId:t,flushSync:u.flushSync,viewTransition:u.viewTransition})},[s,o,e,t])}function YS(n,{relative:e}={}){let{basename:t}=b.useContext(gn),s=b.useContext(qn);Je(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),l={...Zo(n||".",{relative:e})},u=cs();if(n==null){l.search=u.search;let c=new URLSearchParams(l.search),d=c.getAll("index");if(d.some(m=>m==="")){c.delete("index"),d.filter(g=>g).forEach(g=>c.append("index",g));let m=c.toString();l.search=m?`?${m}`:""}}return(!n||n===".")&&o.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:wr([t,l.pathname])),Wo(l)}function XS(n,{relative:e}={}){let t=b.useContext(vv);Je(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=bv("useViewTransitionState"),o=Zo(n,{relative:e});if(!t.isTransitioning)return!1;let l=kr(t.currentLocation.pathname,s)||t.currentLocation.pathname,u=kr(t.nextLocation.pathname,s)||t.nextLocation.pathname;return zl(o.pathname,u)!=null||zl(o.pathname,l)!=null}const QS="qira_db",KS=1,Ke={SURAHS_CACHE:"surahs_cache",METADATA:"metadata",USER_PROGRESS:"user_progress"};let Al=null;const hs=()=>new Promise((n,e)=>{if(Al){n(Al);return}const t=indexedDB.open(QS,KS);t.onerror=()=>{console.error("Failed to open IndexedDB:",t.error),e(t.error)},t.onsuccess=()=>{Al=t.result,n(Al)},t.onupgradeneeded=s=>{const o=s.target.result;o.objectStoreNames.contains(Ke.SURAHS_CACHE)||o.createObjectStore(Ke.SURAHS_CACHE,{keyPath:"id"}),o.objectStoreNames.contains(Ke.METADATA)||o.createObjectStore(Ke.METADATA,{keyPath:"id"}),o.objectStoreNames.contains(Ke.USER_PROGRESS)||o.createObjectStore(Ke.USER_PROGRESS,{keyPath:"surahId"})}}),ZS=async()=>{try{const n=await hs();return new Promise((e,t)=>{const l=n.transaction(Ke.SURAHS_CACHE,"readonly").objectStore(Ke.SURAHS_CACHE).getAll();l.onsuccess=()=>{const u=l.result;u.length>0?(u.sort((c,d)=>(c._index??0)-(d._index??0)),e(u)):e(null)},l.onerror=()=>{console.error("Failed to get surahs cache:",l.error),t(l.error)}})}catch(n){return console.error("Failed to access IndexedDB:",n),null}},Rv=async n=>{try{const e=await hs();return new Promise((t,s)=>{const o=e.transaction(Ke.SURAHS_CACHE,"readwrite"),l=o.objectStore(Ke.SURAHS_CACHE);l.clear(),n.forEach((u,c)=>{l.put({...u,_index:c})}),o.oncomplete=()=>{t()},o.onerror=()=>{console.error("Failed to save surahs cache:",o.error),s(o.error)}})}catch(e){console.error("Failed to save to IndexedDB:",e)}},JS=async()=>{try{const n=await hs();return new Promise((e,t)=>{const l=n.transaction(Ke.METADATA,"readonly").objectStore(Ke.METADATA).get("cache_metadata");l.onsuccess=()=>{e(l.result||null)},l.onerror=()=>{console.error("Failed to get metadata:",l.error),t(l.error)}})}catch(n){return console.error("Failed to access IndexedDB:",n),null}},Mv=async(n,e)=>{try{const t=await hs();return new Promise((s,o)=>{const u=t.transaction(Ke.METADATA,"readwrite").objectStore(Ke.METADATA),c={id:"cache_metadata",version:n,lastUpdated:new Date().toISOString(),url:e},d=u.put(c);d.onsuccess=()=>{s()},d.onerror=()=>{console.error("Failed to save metadata:",d.error),o(d.error)}})}catch(t){console.error("Failed to save to IndexedDB:",t)}},eT=async()=>{try{const n=await hs();return new Promise((e,t)=>{const l=n.transaction(Ke.USER_PROGRESS,"readonly").objectStore(Ke.USER_PROGRESS).getAll();l.onsuccess=()=>{const u=l.result,c={};u.forEach(d=>{c[d.surahId]=d}),e(c)},l.onerror=()=>{console.error("Failed to get user progress:",l.error),t(l.error)}})}catch(n){return console.error("Failed to access IndexedDB:",n),{}}},tT=async n=>{try{const e=await hs();return new Promise((t,s)=>{const u=e.transaction(Ke.USER_PROGRESS,"readwrite").objectStore(Ke.USER_PROGRESS).put(n);u.onsuccess=()=>{t()},u.onerror=()=>{console.error("Failed to save user progress:",u.error),s(u.error)}})}catch(e){console.error("Failed to save to IndexedDB:",e)}},nT=async n=>{try{const e=await hs();return new Promise((t,s)=>{const o=e.transaction(Ke.USER_PROGRESS,"readwrite"),l=o.objectStore(Ke.USER_PROGRESS);l.clear(),Object.values(n).forEach(u=>{l.put(u)}),o.oncomplete=()=>{t()},o.onerror=()=>{console.error("Failed to save all user progress:",o.error),s(o.error)}})}catch(e){console.error("Failed to save to IndexedDB:",e)}},rT=async()=>{try{const n=await hs();return new Promise((e,t)=>{const s=n.transaction([Ke.SURAHS_CACHE,Ke.METADATA],"readwrite");s.objectStore(Ke.SURAHS_CACHE).clear(),s.objectStore(Ke.METADATA).clear(),s.oncomplete=()=>{e()},s.onerror=()=>{console.error("Failed to clear cache:",s.error),t(s.error)}})}catch(n){console.error("Failed to clear IndexedDB:",n)}},Dv=()=>localStorage.getItem("surahs_cache")!==null||localStorage.getItem("quran_app_progress_v1")!==null,Ov=async()=>{try{const n=localStorage.getItem("surahs_cache"),e=localStorage.getItem("surahs_metadata");if(n){const s=JSON.parse(n);if(await Rv(s),e){const o=JSON.parse(e);await Mv(o.version,o.url)}localStorage.removeItem("surahs_cache"),localStorage.removeItem("surahs_metadata"),console.log("Migrated surahs cache from localStorage to IndexedDB")}const t=localStorage.getItem("quran_app_progress_v1");if(t){const s=JSON.parse(t);await nT(s),localStorage.removeItem("quran_app_progress_v1"),console.log("Migrated user progress from localStorage to IndexedDB")}}catch(n){console.error("Failed to migrate legacy data:",n)}},sT="https://raw.githubusercontent.com/r021n/qira/refs/heads/main/data/surahs.json",Iv=()=>localStorage.getItem("surahs_json_url")||sT,Ag=n=>{localStorage.setItem("surahs_json_url",n)},iT=async()=>await ZS(),oT=async()=>await JS(),Ng=async(n,e,t)=>{await Rv(n),await Mv(e,t)},aT=async()=>{await rT()},Pg=async n=>{const t=await fetch(n,{cache:"no-cache",headers:{Accept:"application/json"}});if(!t.ok)throw new Error(`Failed to fetch surahs: ${t.status}`);const s=await t.json();if(!s.surahs||!Array.isArray(s.surahs))throw new Error("Invalid surahs data format");return s},bg=async(n=!1)=>{Dv()&&await Ov();const e=Iv(),t=await iT(),s=await oT();if(n||!t)try{const o=await Pg(e);return await Ng(o.surahs,o.version,e),{surahs:o.surahs,loading:!1,error:null,isOffline:!1,version:o.version}}catch(o){return console.error("Failed to fetch from remote:",o),t?{surahs:t,loading:!1,error:null,isOffline:!0,version:(s==null?void 0:s.version)||null}:{surahs:[],loading:!1,error:o instanceof Error?o.message:"Failed to load surahs",isOffline:!0,version:null}}try{const o=await Pg(e);return o.version!==(s==null?void 0:s.version)?(await Ng(o.surahs,o.version,e),{surahs:o.surahs,loading:!1,error:null,isOffline:!1,version:o.version}):{surahs:t,loading:!1,error:null,isOffline:!1,version:(s==null?void 0:s.version)||null}}catch{return console.warn("Network unavailable, using cached data"),{surahs:t,loading:!1,error:null,isOffline:!0,version:(s==null?void 0:s.version)||null}}},lT=(n,e,t=2)=>n.flatMap(u=>u.verses.flatMap(c=>c.words)).filter(u=>!e.includes(u.id)).sort(()=>.5-Math.random()).slice(0,t),Vv=b.createContext(null),uT=({children:n,customUrl:e})=>{const[t,s]=b.useState({surahs:[],loading:!0,error:null,isOffline:!1,version:null});b.useEffect(()=>{e&&Ag(e)},[e]),b.useEffect(()=>{(async()=>{s(v=>({...v,loading:!0}));const g=await bg();s(g)})()},[]);const f={...t,refreshData:async(m=!1)=>{s(v=>({...v,loading:!0}));const g=await bg(m);s(g)},getDistractors:(m,g=2)=>lT(t.surahs,m,g),setDataUrl:m=>{Ag(m)},getDataUrl:()=>Iv(),clearCache:async()=>{await aT()}};return D.jsx(Vv.Provider,{value:f,children:n})},Jo=()=>{const n=b.useContext(Vv);if(!n)throw new Error("useSurahData must be used within a SurahDataProvider");return n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var cT={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hT=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Rn=(n,e)=>{const t=b.forwardRef(({color:s="currentColor",size:o=24,strokeWidth:l=2,absoluteStrokeWidth:u,className:c="",children:d,...f},m)=>b.createElement("svg",{ref:m,...cT,width:o,height:o,stroke:s,strokeWidth:u?Number(l)*24/Number(o):l,className:["lucide",`lucide-${hT(n)}`,c].join(" "),...f},[...e.map(([g,v])=>b.createElement(g,v)),...Array.isArray(d)?d:[d]]));return t.displayName=`${n}`,t};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fv=Rn("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dT=Rn("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rg=Rn("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fT=Rn("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mg=Rn("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lv=Rn("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pT=Rn("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jv=Rn("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dg=Rn("SkipForward",[["polygon",{points:"5 4 15 12 5 20 5 4",key:"16p6eg"}],["line",{x1:"19",x2:"19",y1:"5",y2:"19",key:"futhcm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bv=Rn("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mT=Rn("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gT=Rn("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),vr=(n,e=150)=>{setTimeout(()=>{n()},e)},Uv="15.1.22",Og=(n,e,t)=>({endTime:e,insertTime:t,type:"exponentialRampToValue",value:n}),Ig=(n,e,t)=>({endTime:e,insertTime:t,type:"linearRampToValue",value:n}),Hh=(n,e)=>({startTime:e,type:"setValue",value:n}),Wv=(n,e,t)=>({duration:t,startTime:e,type:"setValueCurve",values:n}),zv=(n,e,{startTime:t,target:s,timeConstant:o})=>s+(e-s)*Math.exp((t-n)/o),yi=n=>n.type==="exponentialRampToValue",$l=n=>n.type==="linearRampToValue",ts=n=>yi(n)||$l(n),kd=n=>n.type==="setValue",yr=n=>n.type==="setValueCurve",ql=(n,e,t,s)=>{const o=n[e];return o===void 0?s:ts(o)||kd(o)?o.value:yr(o)?o.values[o.values.length-1]:zv(t,ql(n,e-1,o.startTime,s),o)},Vg=(n,e,t,s,o)=>t===void 0?[s.insertTime,o]:ts(t)?[t.endTime,t.value]:kd(t)?[t.startTime,t.value]:yr(t)?[t.startTime+t.duration,t.values[t.values.length-1]]:[t.startTime,ql(n,e-1,t.startTime,o)],Gh=n=>n.type==="cancelAndHold",Yh=n=>n.type==="cancelScheduledValues",Jr=n=>Gh(n)||Yh(n)?n.cancelTime:yi(n)||$l(n)?n.endTime:n.startTime,Fg=(n,e,t,{endTime:s,value:o})=>t===o?o:0<t&&0<o||t<0&&o<0?t*(o/t)**((n-e)/(s-e)):0,Lg=(n,e,t,{endTime:s,value:o})=>t+(n-e)/(s-e)*(o-t),yT=(n,e)=>{const t=Math.floor(e),s=Math.ceil(e);return t===s?n[t]:(1-(e-t))*n[t]+(1-(s-e))*n[s]},vT=(n,{duration:e,startTime:t,values:s})=>{const o=(n-t)/e*(s.length-1);return yT(s,o)},Nl=n=>n.type==="setTarget";class _T{constructor(e){this._automationEvents=[],this._currenTime=0,this._defaultValue=e}[Symbol.iterator](){return this._automationEvents[Symbol.iterator]()}add(e){const t=Jr(e);if(Gh(e)||Yh(e)){const s=this._automationEvents.findIndex(l=>Yh(e)&&yr(l)?l.startTime+l.duration>=t:Jr(l)>=t),o=this._automationEvents[s];if(s!==-1&&(this._automationEvents=this._automationEvents.slice(0,s)),Gh(e)){const l=this._automationEvents[this._automationEvents.length-1];if(o!==void 0&&ts(o)){if(l!==void 0&&Nl(l))throw new Error("The internal list is malformed.");const u=l===void 0?o.insertTime:yr(l)?l.startTime+l.duration:Jr(l),c=l===void 0?this._defaultValue:yr(l)?l.values[l.values.length-1]:l.value,d=yi(o)?Fg(t,u,c,o):Lg(t,u,c,o),f=yi(o)?Og(d,t,this._currenTime):Ig(d,t,this._currenTime);this._automationEvents.push(f)}if(l!==void 0&&Nl(l)&&this._automationEvents.push(Hh(this.getValue(t),t)),l!==void 0&&yr(l)&&l.startTime+l.duration>t){const u=t-l.startTime,c=(l.values.length-1)/l.duration,d=Math.max(2,1+Math.ceil(u*c)),f=u/(d-1)*c,m=l.values.slice(0,d);if(f<1)for(let g=1;g<d;g+=1){const v=f*g%1;m[g]=l.values[g-1]*(1-v)+l.values[g]*v}this._automationEvents[this._automationEvents.length-1]=Wv(m,l.startTime,u)}}}else{const s=this._automationEvents.findIndex(u=>Jr(u)>t),o=s===-1?this._automationEvents[this._automationEvents.length-1]:this._automationEvents[s-1];if(o!==void 0&&yr(o)&&Jr(o)+o.duration>t)return!1;const l=yi(e)?Og(e.value,e.endTime,this._currenTime):$l(e)?Ig(e.value,t,this._currenTime):e;if(s===-1)this._automationEvents.push(l);else{if(yr(e)&&t+e.duration>Jr(this._automationEvents[s]))return!1;this._automationEvents.splice(s,0,l)}}return!0}flush(e){const t=this._automationEvents.findIndex(s=>Jr(s)>e);if(t>1){const s=this._automationEvents.slice(t-1),o=s[0];Nl(o)&&s.unshift(Hh(ql(this._automationEvents,t-2,o.startTime,this._defaultValue),o.startTime)),this._automationEvents=s}}getValue(e){if(this._automationEvents.length===0)return this._defaultValue;const t=this._automationEvents.findIndex(u=>Jr(u)>e),s=this._automationEvents[t],o=(t===-1?this._automationEvents.length:t)-1,l=this._automationEvents[o];if(l!==void 0&&Nl(l)&&(s===void 0||!ts(s)||s.insertTime>e))return zv(e,ql(this._automationEvents,o-1,l.startTime,this._defaultValue),l);if(l!==void 0&&kd(l)&&(s===void 0||!ts(s)))return l.value;if(l!==void 0&&yr(l)&&(s===void 0||!ts(s)||l.startTime+l.duration>e))return e<l.startTime+l.duration?vT(e,l):l.values[l.values.length-1];if(l!==void 0&&ts(l)&&(s===void 0||!ts(s)))return l.value;if(s!==void 0&&yi(s)){const[u,c]=Vg(this._automationEvents,o,l,s,this._defaultValue);return Fg(e,u,c,s)}if(s!==void 0&&$l(s)){const[u,c]=Vg(this._automationEvents,o,l,s,this._defaultValue);return Lg(e,u,c,s)}return this._defaultValue}}const wT=n=>({cancelTime:n,type:"cancelAndHold"}),xT=n=>({cancelTime:n,type:"cancelScheduledValues"}),ST=(n,e)=>({endTime:e,type:"exponentialRampToValue",value:n}),TT=(n,e)=>({endTime:e,type:"linearRampToValue",value:n}),CT=(n,e,t)=>({startTime:e,target:n,timeConstant:t,type:"setTarget"}),kT=()=>new DOMException("","AbortError"),ET=n=>(e,t,[s,o,l],u)=>{n(e[o],[t,s,l],c=>c[0]===t&&c[1]===s,u)},AT=n=>(e,t,s)=>{const o=[];for(let l=0;l<s.numberOfInputs;l+=1)o.push(new Set);n.set(e,{activeInputs:o,outputs:new Set,passiveInputs:new WeakMap,renderer:t})},NT=n=>(e,t)=>{n.set(e,{activeInputs:new Set,passiveInputs:new WeakMap,renderer:t})},Ei=new WeakSet,$v=new WeakMap,Ed=new WeakMap,qv=new WeakMap,Ad=new WeakMap,fu=new WeakMap,Hv=new WeakMap,Xh=new WeakMap,Qh=new WeakMap,Kh=new WeakMap,Gv={construct(){return Gv}},PT=n=>{try{const e=new Proxy(n,Gv);new e}catch{return!1}return!0},jg=/^import(?:(?:[\s]+[\w]+|(?:[\s]+[\w]+[\s]*,)?[\s]*\{[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?(?:[\s]*,[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?)*[\s]*}|(?:[\s]+[\w]+[\s]*,)?[\s]*\*[\s]+as[\s]+[\w]+)[\s]+from)?(?:[\s]*)("([^"\\]|\\.)+"|'([^'\\]|\\.)+')(?:[\s]*);?/,Bg=(n,e)=>{const t=[];let s=n.replace(/^[\s]+/,""),o=s.match(jg);for(;o!==null;){const l=o[1].slice(1,-1),u=o[0].replace(/([\s]+)?;?$/,"").replace(l,new URL(l,e).toString());t.push(u),s=s.slice(o[0].length).replace(/^[\s]+/,""),o=s.match(jg)}return[t.join(";"),s]},Ug=n=>{if(n!==void 0&&!Array.isArray(n))throw new TypeError("The parameterDescriptors property of given value for processorCtor is not an array.")},Wg=n=>{if(!PT(n))throw new TypeError("The given value for processorCtor should be a constructor.");if(n.prototype===null||typeof n.prototype!="object")throw new TypeError("The given value for processorCtor should have a prototype.")},bT=(n,e,t,s,o,l,u,c,d,f,m,g,v)=>{let _=0;return(w,S,T={credentials:"omit"})=>{const C=m.get(w);if(C!==void 0&&C.has(S))return Promise.resolve();const P=f.get(w);if(P!==void 0){const E=P.get(S);if(E!==void 0)return E}const k=l(w),V=k.audioWorklet===void 0?o(S).then(([E,I])=>{const[F,R]=Bg(E,I),W=`${F};((a,b)=>{(a[b]=a[b]||[]).push((AudioWorkletProcessor,global,registerProcessor,sampleRate,self,window)=>{${R}
})})(window,'_AWGS')`;return t(W)}).then(()=>{const E=v._AWGS.pop();if(E===void 0)throw new SyntaxError;s(k.currentTime,k.sampleRate,()=>E(class{},void 0,(I,F)=>{if(I.trim()==="")throw e();const R=Qh.get(k);if(R!==void 0){if(R.has(I))throw e();Wg(F),Ug(F.parameterDescriptors),R.set(I,F)}else Wg(F),Ug(F.parameterDescriptors),Qh.set(k,new Map([[I,F]]))},k.sampleRate,void 0,void 0))}):Promise.all([o(S),Promise.resolve(n(g,g))]).then(([[E,I],F])=>{const R=_+1;_=R;const[W,$]=Bg(E,I),X=`${W};((AudioWorkletProcessor,registerProcessor)=>{${$}
})(${F?"AudioWorkletProcessor":"class extends AudioWorkletProcessor {__b=new WeakSet();constructor(){super();(p=>p.postMessage=(q=>(m,t)=>q.call(p,m,t?t.filter(u=>!this.__b.has(u)):t))(p.postMessage))(this.port)}}"},(n,p)=>registerProcessor(n,class extends p{${F?"":"__c = (a) => a.forEach(e=>this.__b.add(e.buffer));"}process(i,o,p){${F?"":"i.forEach(this.__c);o.forEach(this.__c);this.__c(Object.values(p));"}return super.process(i.map(j=>j.some(k=>k.length===0)?[]:j),o,p)}}));registerProcessor('__sac${R}',class extends AudioWorkletProcessor{process(){return !1}})`,ae=new Blob([X],{type:"application/javascript; charset=utf-8"}),Z=URL.createObjectURL(ae);return k.audioWorklet.addModule(Z,T).then(()=>{if(c(k))return k;const te=u(k);return te.audioWorklet.addModule(Z,T).then(()=>te)}).then(te=>{if(d===null)throw new SyntaxError;try{new d(te,`__sac${R}`)}catch{throw new SyntaxError}}).finally(()=>URL.revokeObjectURL(Z))});return P===void 0?f.set(w,new Map([[S,V]])):P.set(S,V),V.then(()=>{const E=m.get(w);E===void 0?m.set(w,new Set([S])):E.add(S)}).finally(()=>{const E=f.get(w);E!==void 0&&E.delete(S)}),V}},$n=(n,e)=>{const t=n.get(e);if(t===void 0)throw new Error("A value with the given key could not be found.");return t},pu=(n,e)=>{const t=Array.from(n).filter(e);if(t.length>1)throw Error("More than one element was found.");if(t.length===0)throw Error("No element was found.");const[s]=t;return n.delete(s),s},Yv=(n,e,t,s)=>{const o=$n(n,e),l=pu(o,u=>u[0]===t&&u[1]===s);return o.size===0&&n.delete(e),l},ea=n=>$n(Hv,n),Ai=n=>{if(Ei.has(n))throw new Error("The AudioNode is already stored.");Ei.add(n),ea(n).forEach(e=>e(!0))},Xv=n=>"port"in n,ta=n=>{if(!Ei.has(n))throw new Error("The AudioNode is not stored.");Ei.delete(n),ea(n).forEach(e=>e(!1))},Zh=(n,e)=>{!Xv(n)&&e.every(t=>t.size===0)&&ta(n)},RT=(n,e,t,s,o,l,u,c,d,f,m,g,v)=>{const _=new WeakMap;return(w,S,T,C,P)=>{const{activeInputs:k,passiveInputs:V}=l(S),{outputs:E}=l(w),I=c(w),F=R=>{const W=d(S),$=d(w);if(R){const Y=Yv(V,w,T,C);n(k,w,Y,!1),!P&&!g(w)&&t($,W,T,C),v(S)&&Ai(S)}else{const Y=s(k,w,T,C);e(V,C,Y,!1),!P&&!g(w)&&o($,W,T,C);const z=u(S);if(z===0)m(S)&&Zh(S,k);else{const ee=_.get(S);ee!==void 0&&clearTimeout(ee),_.set(S,setTimeout(()=>{m(S)&&Zh(S,k)},z*1e3))}}};return f(E,[S,T,C],R=>R[0]===S&&R[1]===T&&R[2]===C,!0)?(I.add(F),m(w)?n(k,w,[T,C,F],!0):e(V,C,[w,T,F],!0),!0):!1}},MT=n=>(e,t,[s,o,l],u)=>{const c=e.get(s);c===void 0?e.set(s,new Set([[o,t,l]])):n(c,[o,t,l],d=>d[0]===o&&d[1]===t,u)},DT=n=>(e,t)=>{const s=n(e,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});t.connect(s).connect(e.destination);const o=()=>{t.removeEventListener("ended",o),t.disconnect(s),s.disconnect()};t.addEventListener("ended",o)},OT=n=>(e,t)=>{n(e).add(t)},IT={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",fftSize:2048,maxDecibels:-30,minDecibels:-100,smoothingTimeConstant:.8},VT=(n,e,t,s,o,l)=>class extends n{constructor(c,d){const f=o(c),m={...IT,...d},g=s(f,m),v=l(f)?e():null;super(c,!1,g,v),this._nativeAnalyserNode=g}get fftSize(){return this._nativeAnalyserNode.fftSize}set fftSize(c){this._nativeAnalyserNode.fftSize=c}get frequencyBinCount(){return this._nativeAnalyserNode.frequencyBinCount}get maxDecibels(){return this._nativeAnalyserNode.maxDecibels}set maxDecibels(c){const d=this._nativeAnalyserNode.maxDecibels;if(this._nativeAnalyserNode.maxDecibels=c,!(c>this._nativeAnalyserNode.minDecibels))throw this._nativeAnalyserNode.maxDecibels=d,t()}get minDecibels(){return this._nativeAnalyserNode.minDecibels}set minDecibels(c){const d=this._nativeAnalyserNode.minDecibels;if(this._nativeAnalyserNode.minDecibels=c,!(this._nativeAnalyserNode.maxDecibels>c))throw this._nativeAnalyserNode.minDecibels=d,t()}get smoothingTimeConstant(){return this._nativeAnalyserNode.smoothingTimeConstant}set smoothingTimeConstant(c){this._nativeAnalyserNode.smoothingTimeConstant=c}getByteFrequencyData(c){this._nativeAnalyserNode.getByteFrequencyData(c)}getByteTimeDomainData(c){this._nativeAnalyserNode.getByteTimeDomainData(c)}getFloatFrequencyData(c){this._nativeAnalyserNode.getFloatFrequencyData(c)}getFloatTimeDomainData(c){this._nativeAnalyserNode.getFloatTimeDomainData(c)}},Lt=(n,e)=>n.context===e,FT=(n,e,t)=>()=>{const s=new WeakMap,o=async(l,u)=>{let c=e(l);if(!Lt(c,u)){const f={channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,fftSize:c.fftSize,maxDecibels:c.maxDecibels,minDecibels:c.minDecibels,smoothingTimeConstant:c.smoothingTimeConstant};c=n(u,f)}return s.set(u,c),await t(l,u,c),c};return{render(l,u){const c=s.get(u);return c!==void 0?Promise.resolve(c):o(l,u)}}},Hl=n=>{try{n.copyToChannel(new Float32Array(1),0,-1)}catch{return!1}return!0},sr=()=>new DOMException("","IndexSizeError"),Nd=n=>{n.getChannelData=(e=>t=>{try{return e.call(n,t)}catch(s){throw s.code===12?sr():s}})(n.getChannelData)},LT={numberOfChannels:1},jT=(n,e,t,s,o,l,u,c)=>{let d=null;return class Qv{constructor(m){if(o===null)throw new Error("Missing the native OfflineAudioContext constructor.");const{length:g,numberOfChannels:v,sampleRate:_}={...LT,...m};d===null&&(d=new o(1,1,44100));const w=s!==null&&e(l,l)?new s({length:g,numberOfChannels:v,sampleRate:_}):d.createBuffer(v,g,_);if(w.numberOfChannels===0)throw t();return typeof w.copyFromChannel!="function"?(u(w),Nd(w)):e(Hl,()=>Hl(w))||c(w),n.add(w),w}static[Symbol.hasInstance](m){return m!==null&&typeof m=="object"&&Object.getPrototypeOf(m)===Qv.prototype||n.has(m)}}},Jt=-34028234663852886e22,zt=-Jt,xr=n=>Ei.has(n),BT={buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1},UT=(n,e,t,s,o,l,u,c)=>class extends n{constructor(f,m){const g=l(f),v={...BT,...m},_=o(g,v),w=u(g),S=w?e():null;super(f,!1,_,S),this._audioBufferSourceNodeRenderer=S,this._isBufferNullified=!1,this._isBufferSet=v.buffer!==null,this._nativeAudioBufferSourceNode=_,this._onended=null,this._playbackRate=t(this,w,_.playbackRate,zt,Jt)}get buffer(){return this._isBufferNullified?null:this._nativeAudioBufferSourceNode.buffer}set buffer(f){if(this._nativeAudioBufferSourceNode.buffer=f,f!==null){if(this._isBufferSet)throw s();this._isBufferSet=!0}}get loop(){return this._nativeAudioBufferSourceNode.loop}set loop(f){this._nativeAudioBufferSourceNode.loop=f}get loopEnd(){return this._nativeAudioBufferSourceNode.loopEnd}set loopEnd(f){this._nativeAudioBufferSourceNode.loopEnd=f}get loopStart(){return this._nativeAudioBufferSourceNode.loopStart}set loopStart(f){this._nativeAudioBufferSourceNode.loopStart=f}get onended(){return this._onended}set onended(f){const m=typeof f=="function"?c(this,f):null;this._nativeAudioBufferSourceNode.onended=m;const g=this._nativeAudioBufferSourceNode.onended;this._onended=g!==null&&g===m?f:g}get playbackRate(){return this._playbackRate}start(f=0,m=0,g){if(this._nativeAudioBufferSourceNode.start(f,m,g),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.start=g===void 0?[f,m]:[f,m,g]),this.context.state!=="closed"){Ai(this);const v=()=>{this._nativeAudioBufferSourceNode.removeEventListener("ended",v),xr(this)&&ta(this)};this._nativeAudioBufferSourceNode.addEventListener("ended",v)}}stop(f=0){this._nativeAudioBufferSourceNode.stop(f),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.stop=f)}},WT=(n,e,t,s,o)=>()=>{const l=new WeakMap;let u=null,c=null;const d=async(f,m)=>{let g=t(f);const v=Lt(g,m);if(!v){const _={buffer:g.buffer,channelCount:g.channelCount,channelCountMode:g.channelCountMode,channelInterpretation:g.channelInterpretation,loop:g.loop,loopEnd:g.loopEnd,loopStart:g.loopStart,playbackRate:g.playbackRate.value};g=e(m,_),u!==null&&g.start(...u),c!==null&&g.stop(c)}return l.set(m,g),v?await n(m,f.playbackRate,g.playbackRate):await s(m,f.playbackRate,g.playbackRate),await o(f,m,g),g};return{set start(f){u=f},set stop(f){c=f},render(f,m){const g=l.get(m);return g!==void 0?Promise.resolve(g):d(f,m)}}},zT=n=>"playbackRate"in n,$T=n=>"frequency"in n&&"gain"in n,qT=n=>"offset"in n,HT=n=>!("frequency"in n)&&"gain"in n,GT=n=>"detune"in n&&"frequency"in n&&!("gain"in n),YT=n=>"pan"in n,$t=n=>$n($v,n),na=n=>$n(qv,n),Jh=(n,e)=>{const{activeInputs:t}=$t(n);t.forEach(o=>o.forEach(([l])=>{e.includes(n)||Jh(l,[...e,n])}));const s=zT(n)?[n.playbackRate]:Xv(n)?Array.from(n.parameters.values()):$T(n)?[n.Q,n.detune,n.frequency,n.gain]:qT(n)?[n.offset]:HT(n)?[n.gain]:GT(n)?[n.detune,n.frequency]:YT(n)?[n.pan]:[];for(const o of s){const l=na(o);l!==void 0&&l.activeInputs.forEach(([u])=>Jh(u,e))}xr(n)&&ta(n)},Kv=n=>{Jh(n.destination,[])},XT=n=>n===void 0||typeof n=="number"||typeof n=="string"&&(n==="balanced"||n==="interactive"||n==="playback"),QT=(n,e,t,s,o,l,u,c,d)=>class extends n{constructor(m={}){if(d===null)throw new Error("Missing the native AudioContext constructor.");let g;try{g=new d(m)}catch(w){throw w.code===12&&w.message==="sampleRate is not in range"?t():w}if(g===null)throw s();if(!XT(m.latencyHint))throw new TypeError(`The provided value '${m.latencyHint}' is not a valid enum value of type AudioContextLatencyCategory.`);if(m.sampleRate!==void 0&&g.sampleRate!==m.sampleRate)throw t();super(g,2);const{latencyHint:v}=m,{sampleRate:_}=g;if(this._baseLatency=typeof g.baseLatency=="number"?g.baseLatency:v==="balanced"?512/_:v==="interactive"||v===void 0?256/_:v==="playback"?1024/_:Math.max(2,Math.min(128,Math.round(v*_/128)))*128/_,this._nativeAudioContext=g,d.name==="webkitAudioContext"?(this._nativeGainNode=g.createGain(),this._nativeOscillatorNode=g.createOscillator(),this._nativeGainNode.gain.value=1e-37,this._nativeOscillatorNode.connect(this._nativeGainNode).connect(g.destination),this._nativeOscillatorNode.start()):(this._nativeGainNode=null,this._nativeOscillatorNode=null),this._state=null,g.state==="running"){this._state="suspended";const w=()=>{this._state==="suspended"&&(this._state=null),g.removeEventListener("statechange",w)};g.addEventListener("statechange",w)}}get baseLatency(){return this._baseLatency}get state(){return this._state!==null?this._state:this._nativeAudioContext.state}close(){return this.state==="closed"?this._nativeAudioContext.close().then(()=>{throw e()}):(this._state==="suspended"&&(this._state=null),this._nativeAudioContext.close().then(()=>{this._nativeGainNode!==null&&this._nativeOscillatorNode!==null&&(this._nativeOscillatorNode.stop(),this._nativeGainNode.disconnect(),this._nativeOscillatorNode.disconnect()),Kv(this)}))}createMediaElementSource(m){return new o(this,{mediaElement:m})}createMediaStreamDestination(){return new l(this)}createMediaStreamSource(m){return new u(this,{mediaStream:m})}createMediaStreamTrackSource(m){return new c(this,{mediaStreamTrack:m})}resume(){return this._state==="suspended"?new Promise((m,g)=>{const v=()=>{this._nativeAudioContext.removeEventListener("statechange",v),this._nativeAudioContext.state==="running"?m():this.resume().then(m,g)};this._nativeAudioContext.addEventListener("statechange",v)}):this._nativeAudioContext.resume().catch(m=>{throw m===void 0||m.code===15?e():m})}suspend(){return this._nativeAudioContext.suspend().catch(m=>{throw m===void 0?e():m})}},KT=(n,e,t,s,o,l,u,c)=>class extends n{constructor(f,m){const g=l(f),v=u(g),_=o(g,m,v),w=v?e(c):null;super(f,!1,_,w),this._isNodeOfNativeOfflineAudioContext=v,this._nativeAudioDestinationNode=_}get channelCount(){return this._nativeAudioDestinationNode.channelCount}set channelCount(f){if(this._isNodeOfNativeOfflineAudioContext)throw s();if(f>this._nativeAudioDestinationNode.maxChannelCount)throw t();this._nativeAudioDestinationNode.channelCount=f}get channelCountMode(){return this._nativeAudioDestinationNode.channelCountMode}set channelCountMode(f){if(this._isNodeOfNativeOfflineAudioContext)throw s();this._nativeAudioDestinationNode.channelCountMode=f}get maxChannelCount(){return this._nativeAudioDestinationNode.maxChannelCount}},ZT=n=>{const e=new WeakMap,t=async(s,o)=>{const l=o.destination;return e.set(o,l),await n(s,o,l),l};return{render(s,o){const l=e.get(o);return l!==void 0?Promise.resolve(l):t(s,o)}}},JT=(n,e,t,s,o,l,u,c)=>(d,f)=>{const m=f.listener,g=()=>{const E=new Float32Array(1),I=e(f,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:9}),F=u(f);let R=!1,W=[0,0,-1,0,1,0],$=[0,0,0];const Y=()=>{if(R)return;R=!0;const ae=s(f,256,9,0);ae.onaudioprocess=({inputBuffer:Z})=>{const te=[l(Z,E,0),l(Z,E,1),l(Z,E,2),l(Z,E,3),l(Z,E,4),l(Z,E,5)];te.some((G,q)=>G!==W[q])&&(m.setOrientation(...te),W=te);const H=[l(Z,E,6),l(Z,E,7),l(Z,E,8)];H.some((G,q)=>G!==$[q])&&(m.setPosition(...H),$=H)},I.connect(ae)},z=ae=>Z=>{Z!==W[ae]&&(W[ae]=Z,m.setOrientation(...W))},ee=ae=>Z=>{Z!==$[ae]&&($[ae]=Z,m.setPosition(...$))},X=(ae,Z,te)=>{const H=t(f,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:Z});H.connect(I,0,ae),H.start(),Object.defineProperty(H.offset,"defaultValue",{get(){return Z}});const G=n({context:d},F,H.offset,zt,Jt);return c(G,"value",q=>()=>q.call(G),q=>N=>{try{q.call(G,N)}catch(j){if(j.code!==9)throw j}Y(),F&&te(N)}),G.cancelAndHoldAtTime=(q=>F?()=>{throw o()}:(...N)=>{const j=q.apply(G,N);return Y(),j})(G.cancelAndHoldAtTime),G.cancelScheduledValues=(q=>F?()=>{throw o()}:(...N)=>{const j=q.apply(G,N);return Y(),j})(G.cancelScheduledValues),G.exponentialRampToValueAtTime=(q=>F?()=>{throw o()}:(...N)=>{const j=q.apply(G,N);return Y(),j})(G.exponentialRampToValueAtTime),G.linearRampToValueAtTime=(q=>F?()=>{throw o()}:(...N)=>{const j=q.apply(G,N);return Y(),j})(G.linearRampToValueAtTime),G.setTargetAtTime=(q=>F?()=>{throw o()}:(...N)=>{const j=q.apply(G,N);return Y(),j})(G.setTargetAtTime),G.setValueAtTime=(q=>F?()=>{throw o()}:(...N)=>{const j=q.apply(G,N);return Y(),j})(G.setValueAtTime),G.setValueCurveAtTime=(q=>F?()=>{throw o()}:(...N)=>{const j=q.apply(G,N);return Y(),j})(G.setValueCurveAtTime),G};return{forwardX:X(0,0,z(0)),forwardY:X(1,0,z(1)),forwardZ:X(2,-1,z(2)),positionX:X(6,0,ee(0)),positionY:X(7,0,ee(1)),positionZ:X(8,0,ee(2)),upX:X(3,0,z(3)),upY:X(4,1,z(4)),upZ:X(5,0,z(5))}},{forwardX:v,forwardY:_,forwardZ:w,positionX:S,positionY:T,positionZ:C,upX:P,upY:k,upZ:V}=m.forwardX===void 0?g():m;return{get forwardX(){return v},get forwardY(){return _},get forwardZ(){return w},get positionX(){return S},get positionY(){return T},get positionZ(){return C},get upX(){return P},get upY(){return k},get upZ(){return V}}},Gl=n=>"context"in n,ra=n=>Gl(n[0]),$s=(n,e,t,s)=>{for(const o of n)if(t(o)){if(s)return!1;throw Error("The set contains at least one similar element.")}return n.add(e),!0},zg=(n,e,[t,s],o)=>{$s(n,[e,t,s],l=>l[0]===e&&l[1]===t,o)},$g=(n,[e,t,s],o)=>{const l=n.get(e);l===void 0?n.set(e,new Set([[t,s]])):$s(l,[t,s],u=>u[0]===t,o)},Li=n=>"inputs"in n,Yl=(n,e,t,s)=>{if(Li(e)){const o=e.inputs[s];return n.connect(o,t,0),[o,t,0]}return n.connect(e,t,s),[e,t,s]},Zv=(n,e,t)=>{for(const s of n)if(s[0]===e&&s[1]===t)return n.delete(s),s;return null},eC=(n,e,t)=>pu(n,s=>s[0]===e&&s[1]===t),Jv=(n,e)=>{if(!ea(n).delete(e))throw new Error("Missing the expected event listener.")},e0=(n,e,t)=>{const s=$n(n,e),o=pu(s,l=>l[0]===t);return s.size===0&&n.delete(e),o},Xl=(n,e,t,s)=>{Li(e)?n.disconnect(e.inputs[s],t,0):n.disconnect(e,t,s)},Ge=n=>$n(Ed,n),zo=n=>$n(Ad,n),Us=n=>Xh.has(n),Ll=n=>!Ei.has(n),qg=(n,e)=>new Promise(t=>{if(e!==null)t(!0);else{const s=n.createScriptProcessor(256,1,1),o=n.createGain(),l=n.createBuffer(1,2,44100),u=l.getChannelData(0);u[0]=1,u[1]=1;const c=n.createBufferSource();c.buffer=l,c.loop=!0,c.connect(s).connect(n.destination),c.connect(o),c.disconnect(o),s.onaudioprocess=d=>{const f=d.inputBuffer.getChannelData(0);Array.prototype.some.call(f,m=>m===1)?t(!0):t(!1),c.stop(),s.onaudioprocess=null,c.disconnect(s),s.disconnect(n.destination)},c.start()}}),bh=(n,e)=>{const t=new Map;for(const s of n)for(const o of s){const l=t.get(o);t.set(o,l===void 0?1:l+1)}t.forEach((s,o)=>e(o,s))},Ql=n=>"context"in n,tC=n=>{const e=new Map;n.connect=(t=>(s,o=0,l=0)=>{const u=Ql(s)?t(s,o,l):t(s,o),c=e.get(s);return c===void 0?e.set(s,[{input:l,output:o}]):c.every(d=>d.input!==l||d.output!==o)&&c.push({input:l,output:o}),u})(n.connect.bind(n)),n.disconnect=(t=>(s,o,l)=>{if(t.apply(n),s===void 0)e.clear();else if(typeof s=="number")for(const[u,c]of e){const d=c.filter(f=>f.output!==s);d.length===0?e.delete(u):e.set(u,d)}else if(e.has(s))if(o===void 0)e.delete(s);else{const u=e.get(s);if(u!==void 0){const c=u.filter(d=>d.output!==o&&(d.input!==l||l===void 0));c.length===0?e.delete(s):e.set(s,c)}}for(const[u,c]of e)c.forEach(d=>{Ql(u)?n.connect(u,d.output,d.input):n.connect(u,d.output)})})(n.disconnect)},nC=(n,e,t,s)=>{const{activeInputs:o,passiveInputs:l}=na(e),{outputs:u}=$t(n),c=ea(n),d=f=>{const m=Ge(n),g=zo(e);if(f){const v=e0(l,n,t);zg(o,n,v,!1),!s&&!Us(n)&&m.connect(g,t)}else{const v=eC(o,n,t);$g(l,v,!1),!s&&!Us(n)&&m.disconnect(g,t)}};return $s(u,[e,t],f=>f[0]===e&&f[1]===t,!0)?(c.add(d),xr(n)?zg(o,n,[t,d],!0):$g(l,[n,t,d],!0),!0):!1},rC=(n,e,t,s)=>{const{activeInputs:o,passiveInputs:l}=$t(e),u=Zv(o[s],n,t);return u===null?[Yv(l,n,t,s)[2],!1]:[u[2],!0]},sC=(n,e,t)=>{const{activeInputs:s,passiveInputs:o}=na(e),l=Zv(s,n,t);return l===null?[e0(o,n,t)[1],!1]:[l[2],!0]},Pd=(n,e,t,s,o)=>{const[l,u]=rC(n,t,s,o);if(l!==null&&(Jv(n,l),u&&!e&&!Us(n)&&Xl(Ge(n),Ge(t),s,o)),xr(t)){const{activeInputs:c}=$t(t);Zh(t,c)}},bd=(n,e,t,s)=>{const[o,l]=sC(n,t,s);o!==null&&(Jv(n,o),l&&!e&&!Us(n)&&Ge(n).disconnect(zo(t),s))},iC=(n,e)=>{const t=$t(n),s=[];for(const o of t.outputs)ra(o)?Pd(n,e,...o):bd(n,e,...o),s.push(o[0]);return t.outputs.clear(),s},oC=(n,e,t)=>{const s=$t(n),o=[];for(const l of s.outputs)l[1]===t&&(ra(l)?Pd(n,e,...l):bd(n,e,...l),o.push(l[0]),s.outputs.delete(l));return o},aC=(n,e,t,s,o)=>{const l=$t(n);return Array.from(l.outputs).filter(u=>u[0]===t&&(s===void 0||u[1]===s)&&(o===void 0||u[2]===o)).map(u=>(ra(u)?Pd(n,e,...u):bd(n,e,...u),l.outputs.delete(u),u[0]))},lC=(n,e,t,s,o,l,u,c,d,f,m,g,v,_,w,S)=>class extends f{constructor(C,P,k,V){super(k),this._context=C,this._nativeAudioNode=k;const E=m(C);g(E)&&t(qg,()=>qg(E,S))!==!0&&tC(k),Ed.set(this,k),Hv.set(this,new Set),C.state!=="closed"&&P&&Ai(this),n(this,V,k)}get channelCount(){return this._nativeAudioNode.channelCount}set channelCount(C){this._nativeAudioNode.channelCount=C}get channelCountMode(){return this._nativeAudioNode.channelCountMode}set channelCountMode(C){this._nativeAudioNode.channelCountMode=C}get channelInterpretation(){return this._nativeAudioNode.channelInterpretation}set channelInterpretation(C){this._nativeAudioNode.channelInterpretation=C}get context(){return this._context}get numberOfInputs(){return this._nativeAudioNode.numberOfInputs}get numberOfOutputs(){return this._nativeAudioNode.numberOfOutputs}connect(C,P=0,k=0){if(P<0||P>=this._nativeAudioNode.numberOfOutputs)throw o();const V=m(this._context),E=w(V);if(v(C)||_(C))throw l();if(Gl(C)){const R=Ge(C);try{const $=Yl(this._nativeAudioNode,R,P,k),Y=Ll(this);(E||Y)&&this._nativeAudioNode.disconnect(...$),this.context.state!=="closed"&&!Y&&Ll(C)&&Ai(C)}catch($){throw $.code===12?l():$}if(e(this,C,P,k,E)){const $=d([this],C);bh($,s(E))}return C}const I=zo(C);if(I.name==="playbackRate"&&I.maxValue===1024)throw u();try{this._nativeAudioNode.connect(I,P),(E||Ll(this))&&this._nativeAudioNode.disconnect(I,P)}catch(R){throw R.code===12?l():R}if(nC(this,C,P,E)){const R=d([this],C);bh(R,s(E))}}disconnect(C,P,k){let V;const E=m(this._context),I=w(E);if(C===void 0)V=iC(this,I);else if(typeof C=="number"){if(C<0||C>=this.numberOfOutputs)throw o();V=oC(this,I,C)}else{if(P!==void 0&&(P<0||P>=this.numberOfOutputs)||Gl(C)&&k!==void 0&&(k<0||k>=C.numberOfInputs))throw o();if(V=aC(this,I,C,P,k),V.length===0)throw l()}for(const F of V){const R=d([this],F);bh(R,c)}}},uC=(n,e,t,s,o,l,u,c,d,f,m,g,v)=>(_,w,S,T=null,C=null)=>{const P=S.value,k=new _T(P),V=w?s(k):null,E={get defaultValue(){return P},get maxValue(){return T===null?S.maxValue:T},get minValue(){return C===null?S.minValue:C},get value(){return S.value},set value(I){S.value=I,E.setValueAtTime(I,_.context.currentTime)},cancelAndHoldAtTime(I){if(typeof S.cancelAndHoldAtTime=="function")V===null&&k.flush(_.context.currentTime),k.add(o(I)),S.cancelAndHoldAtTime(I);else{const F=Array.from(k).pop();V===null&&k.flush(_.context.currentTime),k.add(o(I));const R=Array.from(k).pop();S.cancelScheduledValues(I),F!==R&&R!==void 0&&(R.type==="exponentialRampToValue"?S.exponentialRampToValueAtTime(R.value,R.endTime):R.type==="linearRampToValue"?S.linearRampToValueAtTime(R.value,R.endTime):R.type==="setValue"?S.setValueAtTime(R.value,R.startTime):R.type==="setValueCurve"&&S.setValueCurveAtTime(R.values,R.startTime,R.duration))}return E},cancelScheduledValues(I){return V===null&&k.flush(_.context.currentTime),k.add(l(I)),S.cancelScheduledValues(I),E},exponentialRampToValueAtTime(I,F){if(I===0)throw new RangeError;if(!Number.isFinite(F)||F<0)throw new RangeError;const R=_.context.currentTime;return V===null&&k.flush(R),Array.from(k).length===0&&(k.add(f(P,R)),S.setValueAtTime(P,R)),k.add(u(I,F)),S.exponentialRampToValueAtTime(I,F),E},linearRampToValueAtTime(I,F){const R=_.context.currentTime;return V===null&&k.flush(R),Array.from(k).length===0&&(k.add(f(P,R)),S.setValueAtTime(P,R)),k.add(c(I,F)),S.linearRampToValueAtTime(I,F),E},setTargetAtTime(I,F,R){return V===null&&k.flush(_.context.currentTime),k.add(d(I,F,R)),S.setTargetAtTime(I,F,R),E},setValueAtTime(I,F){return V===null&&k.flush(_.context.currentTime),k.add(f(I,F)),S.setValueAtTime(I,F),E},setValueCurveAtTime(I,F,R){const W=I instanceof Float32Array?I:new Float32Array(I);if(g!==null&&g.name==="webkitAudioContext"){const $=F+R,Y=_.context.sampleRate,z=Math.ceil(F*Y),ee=Math.floor($*Y),X=ee-z,ae=new Float32Array(X);for(let te=0;te<X;te+=1){const H=(W.length-1)/R*((z+te)/Y-F),G=Math.floor(H),q=Math.ceil(H);ae[te]=G===q?W[G]:(1-(H-G))*W[G]+(1-(q-H))*W[q]}V===null&&k.flush(_.context.currentTime),k.add(m(ae,F,R)),S.setValueCurveAtTime(ae,F,R);const Z=ee/Y;Z<$&&v(E,ae[ae.length-1],Z),v(E,W[W.length-1],$)}else V===null&&k.flush(_.context.currentTime),k.add(m(W,F,R)),S.setValueCurveAtTime(W,F,R);return E}};return t.set(E,S),e.set(E,_),n(E,V),E},cC=n=>({replay(e){for(const t of n)if(t.type==="exponentialRampToValue"){const{endTime:s,value:o}=t;e.exponentialRampToValueAtTime(o,s)}else if(t.type==="linearRampToValue"){const{endTime:s,value:o}=t;e.linearRampToValueAtTime(o,s)}else if(t.type==="setTarget"){const{startTime:s,target:o,timeConstant:l}=t;e.setTargetAtTime(o,s,l)}else if(t.type==="setValue"){const{startTime:s,value:o}=t;e.setValueAtTime(o,s)}else if(t.type==="setValueCurve"){const{duration:s,startTime:o,values:l}=t;e.setValueCurveAtTime(l,o,s)}else throw new Error("Can't apply an unknown automation.")}});class t0{constructor(e){this._map=new Map(e)}get size(){return this._map.size}entries(){return this._map.entries()}forEach(e,t=null){return this._map.forEach((s,o)=>e.call(t,s,o,this))}get(e){return this._map.get(e)}has(e){return this._map.has(e)}keys(){return this._map.keys()}values(){return this._map.values()}}const hC={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:1,numberOfOutputs:1,parameterData:{},processorOptions:{}},dC=(n,e,t,s,o,l,u,c,d,f,m,g,v,_)=>class extends e{constructor(S,T,C){var P;const k=c(S),V=d(k),E=m({...hC,...C});v(E);const I=Qh.get(k),F=I==null?void 0:I.get(T),R=V||k.state!=="closed"?k:(P=u(k))!==null&&P!==void 0?P:k,W=o(R,V?null:S.baseLatency,f,T,F,E),$=V?s(T,E,F):null;super(S,!0,W,$);const Y=[];W.parameters.forEach((ee,X)=>{const ae=t(this,V,ee);Y.push([X,ae])}),this._nativeAudioWorkletNode=W,this._onprocessorerror=null,this._parameters=new t0(Y),V&&n(k,this);const{activeInputs:z}=l(this);g(W,z)}get onprocessorerror(){return this._onprocessorerror}set onprocessorerror(S){const T=typeof S=="function"?_(this,S):null;this._nativeAudioWorkletNode.onprocessorerror=T;const C=this._nativeAudioWorkletNode.onprocessorerror;this._onprocessorerror=C!==null&&C===T?S:C}get parameters(){return this._parameters===null?this._nativeAudioWorkletNode.parameters:this._parameters}get port(){return this._nativeAudioWorkletNode.port}};function Kl(n,e,t,s,o){if(typeof n.copyFromChannel=="function")e[t].byteLength===0&&(e[t]=new Float32Array(128)),n.copyFromChannel(e[t],s,o);else{const l=n.getChannelData(s);if(e[t].byteLength===0)e[t]=l.slice(o,o+128);else{const u=new Float32Array(l.buffer,o*Float32Array.BYTES_PER_ELEMENT,128);e[t].set(u)}}}const n0=(n,e,t,s,o)=>{typeof n.copyToChannel=="function"?e[t].byteLength!==0&&n.copyToChannel(e[t],s,o):e[t].byteLength!==0&&n.getChannelData(s).set(e[t],o)},Zl=(n,e)=>{const t=[];for(let s=0;s<n;s+=1){const o=[],l=typeof e=="number"?e:e[s];for(let u=0;u<l;u+=1)o.push(new Float32Array(128));t.push(o)}return t},fC=(n,e)=>{const t=$n(Kh,n),s=Ge(e);return $n(t,s)},pC=async(n,e,t,s,o,l,u)=>{const c=e===null?Math.ceil(n.context.length/128)*128:e.length,d=s.channelCount*s.numberOfInputs,f=o.reduce((T,C)=>T+C,0),m=f===0?null:t.createBuffer(f,c,t.sampleRate);if(l===void 0)throw new Error("Missing the processor constructor.");const g=$t(n),v=await fC(t,n),_=Zl(s.numberOfInputs,s.channelCount),w=Zl(s.numberOfOutputs,o),S=Array.from(n.parameters.keys()).reduce((T,C)=>({...T,[C]:new Float32Array(128)}),{});for(let T=0;T<c;T+=128){if(s.numberOfInputs>0&&e!==null)for(let C=0;C<s.numberOfInputs;C+=1)for(let P=0;P<s.channelCount;P+=1)Kl(e,_[C],P,P,T);l.parameterDescriptors!==void 0&&e!==null&&l.parameterDescriptors.forEach(({name:C},P)=>{Kl(e,S,C,d+P,T)});for(let C=0;C<s.numberOfInputs;C+=1)for(let P=0;P<o[C];P+=1)w[C][P].byteLength===0&&(w[C][P]=new Float32Array(128));try{const C=_.map((k,V)=>g.activeInputs[V].size===0?[]:k),P=u(T/t.sampleRate,t.sampleRate,()=>v.process(C,w,S));if(m!==null)for(let k=0,V=0;k<s.numberOfOutputs;k+=1){for(let E=0;E<o[k];E+=1)n0(m,w[k],E,V+E,T);V+=o[k]}if(!P)break}catch(C){n.dispatchEvent(new ErrorEvent("processorerror",{colno:C.colno,filename:C.filename,lineno:C.lineno,message:C.message}));break}}return m},mC=(n,e,t,s,o,l,u,c,d,f,m,g,v,_,w,S)=>(T,C,P)=>{const k=new WeakMap;let V=null;const E=async(I,F)=>{let R=m(I),W=null;const $=Lt(R,F),Y=Array.isArray(C.outputChannelCount)?C.outputChannelCount:Array.from(C.outputChannelCount);if(g===null){const z=Y.reduce((Z,te)=>Z+te,0),ee=o(F,{channelCount:Math.max(1,z),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,z)}),X=[];for(let Z=0;Z<I.numberOfOutputs;Z+=1)X.push(s(F,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Y[Z]}));const ae=u(F,{channelCount:C.channelCount,channelCountMode:C.channelCountMode,channelInterpretation:C.channelInterpretation,gain:1});ae.connect=e.bind(null,X),ae.disconnect=d.bind(null,X),W=[ee,X,ae]}else $||(R=new g(F,T));if(k.set(F,W===null?R:W[2]),W!==null){if(V===null){if(P===void 0)throw new Error("Missing the processor constructor.");if(v===null)throw new Error("Missing the native OfflineAudioContext constructor.");const te=I.channelCount*I.numberOfInputs,H=P.parameterDescriptors===void 0?0:P.parameterDescriptors.length,G=te+H;V=pC(I,G===0?null:await(async()=>{const N=new v(G,Math.ceil(I.context.length/128)*128,F.sampleRate),j=[],me=[];for(let ce=0;ce<C.numberOfInputs;ce+=1)j.push(u(N,{channelCount:C.channelCount,channelCountMode:C.channelCountMode,channelInterpretation:C.channelInterpretation,gain:1})),me.push(o(N,{channelCount:C.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:C.channelCount}));const de=await Promise.all(Array.from(I.parameters.values()).map(async ce=>{const _e=l(N,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:ce.value});return await _(N,ce,_e.offset),_e})),ie=s(N,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,te+H)});for(let ce=0;ce<C.numberOfInputs;ce+=1){j[ce].connect(me[ce]);for(let _e=0;_e<C.channelCount;_e+=1)me[ce].connect(ie,_e,ce*C.channelCount+_e)}for(const[ce,_e]of de.entries())_e.connect(ie,0,te+ce),_e.start(0);return ie.connect(N.destination),await Promise.all(j.map(ce=>w(I,N,ce))),S(N)})(),F,C,Y,P,f)}const z=await V,ee=t(F,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),[X,ae,Z]=W;z!==null&&(ee.buffer=z,ee.start(0)),ee.connect(X);for(let te=0,H=0;te<I.numberOfOutputs;te+=1){const G=ae[te];for(let q=0;q<Y[te];q+=1)X.connect(G,H+q,q);H+=Y[te]}return Z}if($)for(const[z,ee]of I.parameters.entries())await n(F,ee,R.parameters.get(z));else for(const[z,ee]of I.parameters.entries())await _(F,ee,R.parameters.get(z));return await w(I,F,R),R};return{render(I,F){c(F,I);const R=k.get(F);return R!==void 0?Promise.resolve(R):E(I,F)}}},gC=(n,e,t,s,o,l,u,c,d,f,m,g,v,_,w,S,T,C,P,k)=>class extends w{constructor(E,I){super(E,I),this._nativeContext=E,this._audioWorklet=n===void 0?void 0:{addModule:(F,R)=>n(this,F,R)}}get audioWorklet(){return this._audioWorklet}createAnalyser(){return new e(this)}createBiquadFilter(){return new o(this)}createBuffer(E,I,F){return new t({length:I,numberOfChannels:E,sampleRate:F})}createBufferSource(){return new s(this)}createChannelMerger(E=6){return new l(this,{numberOfInputs:E})}createChannelSplitter(E=6){return new u(this,{numberOfOutputs:E})}createConstantSource(){return new c(this)}createConvolver(){return new d(this)}createDelay(E=1){return new m(this,{maxDelayTime:E})}createDynamicsCompressor(){return new g(this)}createGain(){return new v(this)}createIIRFilter(E,I){return new _(this,{feedback:I,feedforward:E})}createOscillator(){return new S(this)}createPanner(){return new T(this)}createPeriodicWave(E,I,F={disableNormalization:!1}){return new C(this,{...F,imag:I,real:E})}createStereoPanner(){return new P(this)}createWaveShaper(){return new k(this)}decodeAudioData(E,I,F){return f(this._nativeContext,E).then(R=>(typeof I=="function"&&I(R),R),R=>{throw typeof F=="function"&&F(R),R})}},yC={Q:1,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:350,gain:0,type:"lowpass"},vC=(n,e,t,s,o,l,u,c)=>class extends n{constructor(f,m){const g=l(f),v={...yC,...m},_=o(g,v),w=u(g),S=w?t():null;super(f,!1,_,S),this._Q=e(this,w,_.Q,zt,Jt),this._detune=e(this,w,_.detune,1200*Math.log2(zt),-1200*Math.log2(zt)),this._frequency=e(this,w,_.frequency,f.sampleRate/2,0),this._gain=e(this,w,_.gain,40*Math.log10(zt),Jt),this._nativeBiquadFilterNode=_,c(this,1)}get detune(){return this._detune}get frequency(){return this._frequency}get gain(){return this._gain}get Q(){return this._Q}get type(){return this._nativeBiquadFilterNode.type}set type(f){this._nativeBiquadFilterNode.type=f}getFrequencyResponse(f,m,g){try{this._nativeBiquadFilterNode.getFrequencyResponse(f,m,g)}catch(v){throw v.code===11?s():v}if(f.length!==m.length||m.length!==g.length)throw s()}},_C=(n,e,t,s,o)=>()=>{const l=new WeakMap,u=async(c,d)=>{let f=t(c);const m=Lt(f,d);if(!m){const g={Q:f.Q.value,channelCount:f.channelCount,channelCountMode:f.channelCountMode,channelInterpretation:f.channelInterpretation,detune:f.detune.value,frequency:f.frequency.value,gain:f.gain.value,type:f.type};f=e(d,g)}return l.set(d,f),m?(await n(d,c.Q,f.Q),await n(d,c.detune,f.detune),await n(d,c.frequency,f.frequency),await n(d,c.gain,f.gain)):(await s(d,c.Q,f.Q),await s(d,c.detune,f.detune),await s(d,c.frequency,f.frequency),await s(d,c.gain,f.gain)),await o(c,d,f),f};return{render(c,d){const f=l.get(d);return f!==void 0?Promise.resolve(f):u(c,d)}}},wC=(n,e)=>(t,s)=>{const o=e.get(t);if(o!==void 0)return o;const l=n.get(t);if(l!==void 0)return l;try{const u=s();return u instanceof Promise?(n.set(t,u),u.catch(()=>!1).then(c=>(n.delete(t),e.set(t,c),c))):(e.set(t,u),u)}catch{return e.set(t,!1),!1}},xC={channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6},SC=(n,e,t,s,o)=>class extends n{constructor(u,c){const d=s(u),f={...xC,...c},m=t(d,f),g=o(d)?e():null;super(u,!1,m,g)}},TC=(n,e,t)=>()=>{const s=new WeakMap,o=async(l,u)=>{let c=e(l);if(!Lt(c,u)){const f={channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,numberOfInputs:c.numberOfInputs};c=n(u,f)}return s.set(u,c),await t(l,u,c),c};return{render(l,u){const c=s.get(u);return c!==void 0?Promise.resolve(c):o(l,u)}}},CC={channelCount:6,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:6},kC=(n,e,t,s,o,l)=>class extends n{constructor(c,d){const f=s(c),m=l({...CC,...d}),g=t(f,m),v=o(f)?e():null;super(c,!1,g,v)}},EC=(n,e,t)=>()=>{const s=new WeakMap,o=async(l,u)=>{let c=e(l);if(!Lt(c,u)){const f={channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,numberOfOutputs:c.numberOfOutputs};c=n(u,f)}return s.set(u,c),await t(l,u,c),c};return{render(l,u){const c=s.get(u);return c!==void 0?Promise.resolve(c):o(l,u)}}},AC=n=>(e,t,s)=>n(t,e,s),NC=n=>(e,t,s=0,o=0)=>{const l=e[s];if(l===void 0)throw n();return Ql(t)?l.connect(t,0,o):l.connect(t,0)},PC=n=>(e,t)=>{const s=n(e,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),o=e.createBuffer(1,2,44100);return s.buffer=o,s.loop=!0,s.connect(t),s.start(),()=>{s.stop(),s.disconnect(t)}},bC={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",offset:1},RC=(n,e,t,s,o,l,u)=>class extends n{constructor(d,f){const m=o(d),g={...bC,...f},v=s(m,g),_=l(m),w=_?t():null;super(d,!1,v,w),this._constantSourceNodeRenderer=w,this._nativeConstantSourceNode=v,this._offset=e(this,_,v.offset,zt,Jt),this._onended=null}get offset(){return this._offset}get onended(){return this._onended}set onended(d){const f=typeof d=="function"?u(this,d):null;this._nativeConstantSourceNode.onended=f;const m=this._nativeConstantSourceNode.onended;this._onended=m!==null&&m===f?d:m}start(d=0){if(this._nativeConstantSourceNode.start(d),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.start=d),this.context.state!=="closed"){Ai(this);const f=()=>{this._nativeConstantSourceNode.removeEventListener("ended",f),xr(this)&&ta(this)};this._nativeConstantSourceNode.addEventListener("ended",f)}}stop(d=0){this._nativeConstantSourceNode.stop(d),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.stop=d)}},MC=(n,e,t,s,o)=>()=>{const l=new WeakMap;let u=null,c=null;const d=async(f,m)=>{let g=t(f);const v=Lt(g,m);if(!v){const _={channelCount:g.channelCount,channelCountMode:g.channelCountMode,channelInterpretation:g.channelInterpretation,offset:g.offset.value};g=e(m,_),u!==null&&g.start(u),c!==null&&g.stop(c)}return l.set(m,g),v?await n(m,f.offset,g.offset):await s(m,f.offset,g.offset),await o(f,m,g),g};return{set start(f){u=f},set stop(f){c=f},render(f,m){const g=l.get(m);return g!==void 0?Promise.resolve(g):d(f,m)}}},DC=n=>e=>(n[0]=e,n[0]),OC={buffer:null,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",disableNormalization:!1},IC=(n,e,t,s,o,l)=>class extends n{constructor(c,d){const f=s(c),m={...OC,...d},g=t(f,m),_=o(f)?e():null;super(c,!1,g,_),this._isBufferNullified=!1,this._nativeConvolverNode=g,m.buffer!==null&&l(this,m.buffer.duration)}get buffer(){return this._isBufferNullified?null:this._nativeConvolverNode.buffer}set buffer(c){if(this._nativeConvolverNode.buffer=c,c===null&&this._nativeConvolverNode.buffer!==null){const d=this._nativeConvolverNode.context;this._nativeConvolverNode.buffer=d.createBuffer(1,1,d.sampleRate),this._isBufferNullified=!0,l(this,0)}else this._isBufferNullified=!1,l(this,this._nativeConvolverNode.buffer===null?0:this._nativeConvolverNode.buffer.duration)}get normalize(){return this._nativeConvolverNode.normalize}set normalize(c){this._nativeConvolverNode.normalize=c}},VC=(n,e,t)=>()=>{const s=new WeakMap,o=async(l,u)=>{let c=e(l);if(!Lt(c,u)){const f={buffer:c.buffer,channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,disableNormalization:!c.normalize};c=n(u,f)}return s.set(u,c),Li(c)?await t(l,u,c.inputs[0]):await t(l,u,c),c};return{render(l,u){const c=s.get(u);return c!==void 0?Promise.resolve(c):o(l,u)}}},FC=(n,e)=>(t,s,o)=>{if(e===null)throw new Error("Missing the native OfflineAudioContext constructor.");try{return new e(t,s,o)}catch(l){throw l.name==="SyntaxError"?n():l}},LC=()=>new DOMException("","DataCloneError"),Hg=n=>{const{port1:e,port2:t}=new MessageChannel;return new Promise(s=>{const o=()=>{t.onmessage=null,e.close(),t.close(),s()};t.onmessage=()=>o();try{e.postMessage(n,[n])}catch{}finally{o()}})},jC=(n,e,t,s,o,l,u,c,d,f,m)=>(g,v)=>{const _=u(g)?g:l(g);if(o.has(v)){const w=t();return Promise.reject(w)}try{o.add(v)}catch{}return e(d,()=>d(_))?_.decodeAudioData(v).then(w=>(Hg(v).catch(()=>{}),e(c,()=>c(w))||m(w),n.add(w),w)):new Promise((w,S)=>{const T=async()=>{try{await Hg(v)}catch{}},C=P=>{S(P),T()};try{_.decodeAudioData(v,P=>{typeof P.copyFromChannel!="function"&&(f(P),Nd(P)),n.add(P),T().then(()=>w(P))},P=>{C(P===null?s():P)})}catch(P){C(P)}})},BC=(n,e,t,s,o,l,u,c)=>(d,f)=>{const m=e.get(d);if(m===void 0)throw new Error("Missing the expected cycle count.");const g=l(d.context),v=c(g);if(m===f){if(e.delete(d),!v&&u(d)){const _=s(d),{outputs:w}=t(d);for(const S of w)if(ra(S)){const T=s(S[0]);n(_,T,S[1],S[2])}else{const T=o(S[0]);_.connect(T,S[1])}}}else e.set(d,m-f)},UC={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",delayTime:0,maxDelayTime:1},WC=(n,e,t,s,o,l,u)=>class extends n{constructor(d,f){const m=o(d),g={...UC,...f},v=s(m,g),_=l(m),w=_?t(g.maxDelayTime):null;super(d,!1,v,w),this._delayTime=e(this,_,v.delayTime),u(this,g.maxDelayTime)}get delayTime(){return this._delayTime}},zC=(n,e,t,s,o)=>l=>{const u=new WeakMap,c=async(d,f)=>{let m=t(d);const g=Lt(m,f);if(!g){const v={channelCount:m.channelCount,channelCountMode:m.channelCountMode,channelInterpretation:m.channelInterpretation,delayTime:m.delayTime.value,maxDelayTime:l};m=e(f,v)}return u.set(f,m),g?await n(f,d.delayTime,m.delayTime):await s(f,d.delayTime,m.delayTime),await o(d,f,m),m};return{render(d,f){const m=u.get(f);return m!==void 0?Promise.resolve(m):c(d,f)}}},$C=n=>(e,t,s,o)=>n(e[o],l=>l[0]===t&&l[1]===s),qC=n=>(e,t)=>{n(e).delete(t)},HC=n=>"delayTime"in n,GC=(n,e,t)=>function s(o,l){const u=Gl(l)?l:t(n,l);if(HC(u))return[];if(o[0]===u)return[o];if(o.includes(u))return[];const{outputs:c}=e(u);return Array.from(c).map(d=>s([...o,u],d[0])).reduce((d,f)=>d.concat(f),[])},Pl=(n,e,t)=>{const s=e[t];if(s===void 0)throw n();return s},YC=n=>(e,t=void 0,s=void 0,o=0)=>t===void 0?e.forEach(l=>l.disconnect()):typeof t=="number"?Pl(n,e,t).disconnect():Ql(t)?s===void 0?e.forEach(l=>l.disconnect(t)):o===void 0?Pl(n,e,s).disconnect(t,0):Pl(n,e,s).disconnect(t,0,o):s===void 0?e.forEach(l=>l.disconnect(t)):Pl(n,e,s).disconnect(t,0),XC={attack:.003,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",knee:30,ratio:12,release:.25,threshold:-24},QC=(n,e,t,s,o,l,u,c)=>class extends n{constructor(f,m){const g=l(f),v={...XC,...m},_=s(g,v),w=u(g),S=w?t():null;super(f,!1,_,S),this._attack=e(this,w,_.attack),this._knee=e(this,w,_.knee),this._nativeDynamicsCompressorNode=_,this._ratio=e(this,w,_.ratio),this._release=e(this,w,_.release),this._threshold=e(this,w,_.threshold),c(this,.006)}get attack(){return this._attack}get channelCount(){return this._nativeDynamicsCompressorNode.channelCount}set channelCount(f){const m=this._nativeDynamicsCompressorNode.channelCount;if(this._nativeDynamicsCompressorNode.channelCount=f,f>2)throw this._nativeDynamicsCompressorNode.channelCount=m,o()}get channelCountMode(){return this._nativeDynamicsCompressorNode.channelCountMode}set channelCountMode(f){const m=this._nativeDynamicsCompressorNode.channelCountMode;if(this._nativeDynamicsCompressorNode.channelCountMode=f,f==="max")throw this._nativeDynamicsCompressorNode.channelCountMode=m,o()}get knee(){return this._knee}get ratio(){return this._ratio}get reduction(){return typeof this._nativeDynamicsCompressorNode.reduction.value=="number"?this._nativeDynamicsCompressorNode.reduction.value:this._nativeDynamicsCompressorNode.reduction}get release(){return this._release}get threshold(){return this._threshold}},KC=(n,e,t,s,o)=>()=>{const l=new WeakMap,u=async(c,d)=>{let f=t(c);const m=Lt(f,d);if(!m){const g={attack:f.attack.value,channelCount:f.channelCount,channelCountMode:f.channelCountMode,channelInterpretation:f.channelInterpretation,knee:f.knee.value,ratio:f.ratio.value,release:f.release.value,threshold:f.threshold.value};f=e(d,g)}return l.set(d,f),m?(await n(d,c.attack,f.attack),await n(d,c.knee,f.knee),await n(d,c.ratio,f.ratio),await n(d,c.release,f.release),await n(d,c.threshold,f.threshold)):(await s(d,c.attack,f.attack),await s(d,c.knee,f.knee),await s(d,c.ratio,f.ratio),await s(d,c.release,f.release),await s(d,c.threshold,f.threshold)),await o(c,d,f),f};return{render(c,d){const f=l.get(d);return f!==void 0?Promise.resolve(f):u(c,d)}}},ZC=()=>new DOMException("","EncodingError"),JC=n=>e=>new Promise((t,s)=>{if(n===null){s(new SyntaxError);return}const o=n.document.head;if(o===null)s(new SyntaxError);else{const l=n.document.createElement("script"),u=new Blob([e],{type:"application/javascript"}),c=URL.createObjectURL(u),d=n.onerror,f=()=>{n.onerror=d,URL.revokeObjectURL(c)};n.onerror=(m,g,v,_,w)=>{if(g===c||g===n.location.href&&v===1&&_===1)return f(),s(w),!1;if(d!==null)return d(m,g,v,_,w)},l.onerror=()=>{f(),s(new SyntaxError)},l.onload=()=>{f(),t()},l.src=c,l.type="module",o.appendChild(l)}}),ek=n=>class{constructor(t){this._nativeEventTarget=t,this._listeners=new WeakMap}addEventListener(t,s,o){if(s!==null){let l=this._listeners.get(s);l===void 0&&(l=n(this,s),typeof s=="function"&&this._listeners.set(s,l)),this._nativeEventTarget.addEventListener(t,l,o)}}dispatchEvent(t){return this._nativeEventTarget.dispatchEvent(t)}removeEventListener(t,s,o){const l=s===null?void 0:this._listeners.get(s);this._nativeEventTarget.removeEventListener(t,l===void 0?null:l,o)}},tk=n=>(e,t,s)=>{Object.defineProperties(n,{currentFrame:{configurable:!0,get(){return Math.round(e*t)}},currentTime:{configurable:!0,get(){return e}}});try{return s()}finally{n!==null&&(delete n.currentFrame,delete n.currentTime)}},nk=n=>async e=>{try{const t=await fetch(e);if(t.ok)return[await t.text(),t.url]}catch{}throw n()},rk={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",gain:1},sk=(n,e,t,s,o,l)=>class extends n{constructor(c,d){const f=o(c),m={...rk,...d},g=s(f,m),v=l(f),_=v?t():null;super(c,!1,g,_),this._gain=e(this,v,g.gain,zt,Jt)}get gain(){return this._gain}},ik=(n,e,t,s,o)=>()=>{const l=new WeakMap,u=async(c,d)=>{let f=t(c);const m=Lt(f,d);if(!m){const g={channelCount:f.channelCount,channelCountMode:f.channelCountMode,channelInterpretation:f.channelInterpretation,gain:f.gain.value};f=e(d,g)}return l.set(d,f),m?await n(d,c.gain,f.gain):await s(d,c.gain,f.gain),await o(c,d,f),f};return{render(c,d){const f=l.get(d);return f!==void 0?Promise.resolve(f):u(c,d)}}},ok=(n,e)=>t=>e(n,t),ak=n=>e=>{const t=n(e);if(t.renderer===null)throw new Error("Missing the renderer of the given AudioNode in the audio graph.");return t.renderer},lk=n=>e=>{var t;return(t=n.get(e))!==null&&t!==void 0?t:0},uk=n=>e=>{const t=n(e);if(t.renderer===null)throw new Error("Missing the renderer of the given AudioParam in the audio graph.");return t.renderer},ck=n=>e=>n.get(e),Et=()=>new DOMException("","InvalidStateError"),hk=n=>e=>{const t=n.get(e);if(t===void 0)throw Et();return t},dk=(n,e)=>t=>{let s=n.get(t);if(s!==void 0)return s;if(e===null)throw new Error("Missing the native OfflineAudioContext constructor.");return s=new e(1,1,44100),n.set(t,s),s},fk=n=>e=>{const t=n.get(e);if(t===void 0)throw new Error("The context has no set of AudioWorkletNodes.");return t},mu=()=>new DOMException("","InvalidAccessError"),pk=n=>{n.getFrequencyResponse=(e=>(t,s,o)=>{if(t.length!==s.length||s.length!==o.length)throw mu();return e.call(n,t,s,o)})(n.getFrequencyResponse)},mk={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers"},gk=(n,e,t,s,o,l)=>class extends n{constructor(c,d){const f=s(c),m=o(f),g={...mk,...d},v=e(f,m?null:c.baseLatency,g),_=m?t(g.feedback,g.feedforward):null;super(c,!1,v,_),pk(v),this._nativeIIRFilterNode=v,l(this,1)}getFrequencyResponse(c,d,f){return this._nativeIIRFilterNode.getFrequencyResponse(c,d,f)}},r0=(n,e,t,s,o,l,u,c,d,f,m)=>{const g=f.length;let v=c;for(let _=0;_<g;_+=1){let w=t[0]*f[_];for(let S=1;S<o;S+=1){const T=v-S&d-1;w+=t[S]*l[T],w-=n[S]*u[T]}for(let S=o;S<s;S+=1)w+=t[S]*l[v-S&d-1];for(let S=o;S<e;S+=1)w-=n[S]*u[v-S&d-1];l[v]=f[_],u[v]=w,v=v+1&d-1,m[_]=w}return v},yk=(n,e,t,s)=>{const o=t instanceof Float64Array?t:new Float64Array(t),l=s instanceof Float64Array?s:new Float64Array(s),u=o.length,c=l.length,d=Math.min(u,c);if(o[0]!==1){for(let w=0;w<u;w+=1)l[w]/=o[0];for(let w=1;w<c;w+=1)o[w]/=o[0]}const f=32,m=new Float32Array(f),g=new Float32Array(f),v=e.createBuffer(n.numberOfChannels,n.length,n.sampleRate),_=n.numberOfChannels;for(let w=0;w<_;w+=1){const S=n.getChannelData(w),T=v.getChannelData(w);m.fill(0),g.fill(0),r0(o,u,l,c,d,m,g,0,f,S,T)}return v},vk=(n,e,t,s,o)=>(l,u)=>{const c=new WeakMap;let d=null;const f=async(m,g)=>{let v=null,_=e(m);const w=Lt(_,g);if(g.createIIRFilter===void 0?v=n(g,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}):w||(_=g.createIIRFilter(u,l)),c.set(g,v===null?_:v),v!==null){if(d===null){if(t===null)throw new Error("Missing the native OfflineAudioContext constructor.");const T=new t(m.context.destination.channelCount,m.context.length,g.sampleRate);d=(async()=>{await s(m,T,T.destination);const C=await o(T);return yk(C,g,l,u)})()}const S=await d;return v.buffer=S,v.start(0),v}return await s(m,g,_),_};return{render(m,g){const v=c.get(g);return v!==void 0?Promise.resolve(v):f(m,g)}}},_k=(n,e,t,s,o,l)=>u=>(c,d)=>{const f=n.get(c);if(f===void 0){if(!u&&l(c)){const m=s(c),{outputs:g}=t(c);for(const v of g)if(ra(v)){const _=s(v[0]);e(m,_,v[1],v[2])}else{const _=o(v[0]);m.disconnect(_,v[1])}}n.set(c,d)}else n.set(c,f+d)},wk=(n,e)=>t=>{const s=n.get(t);return e(s)||e(t)},xk=(n,e)=>t=>n.has(t)||e(t),Sk=(n,e)=>t=>n.has(t)||e(t),Tk=(n,e)=>t=>{const s=n.get(t);return e(s)||e(t)},Ck=n=>e=>n!==null&&e instanceof n,kk=n=>e=>n!==null&&typeof n.AudioNode=="function"&&e instanceof n.AudioNode,Ek=n=>e=>n!==null&&typeof n.AudioParam=="function"&&e instanceof n.AudioParam,Ak=(n,e)=>t=>n(t)||e(t),Nk=n=>e=>n!==null&&e instanceof n,Pk=n=>n!==null&&n.isSecureContext,bk=(n,e,t,s)=>class extends n{constructor(l,u){const c=t(l),d=e(c,u);if(s(c))throw TypeError();super(l,!0,d,null),this._nativeMediaElementAudioSourceNode=d}get mediaElement(){return this._nativeMediaElementAudioSourceNode.mediaElement}},Rk={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers"},Mk=(n,e,t,s)=>class extends n{constructor(l,u){const c=t(l);if(s(c))throw new TypeError;const d={...Rk,...u},f=e(c,d);super(l,!1,f,null),this._nativeMediaStreamAudioDestinationNode=f}get stream(){return this._nativeMediaStreamAudioDestinationNode.stream}},Dk=(n,e,t,s)=>class extends n{constructor(l,u){const c=t(l),d=e(c,u);if(s(c))throw new TypeError;super(l,!0,d,null),this._nativeMediaStreamAudioSourceNode=d}get mediaStream(){return this._nativeMediaStreamAudioSourceNode.mediaStream}},Ok=(n,e,t)=>class extends n{constructor(o,l){const u=t(o),c=e(u,l);super(o,!0,c,null)}},Ik=(n,e,t,s,o,l)=>class extends t{constructor(c,d){super(c),this._nativeContext=c,fu.set(this,c),s(c)&&o.set(c,new Set),this._destination=new n(this,d),this._listener=e(this,c),this._onstatechange=null}get currentTime(){return this._nativeContext.currentTime}get destination(){return this._destination}get listener(){return this._listener}get onstatechange(){return this._onstatechange}set onstatechange(c){const d=typeof c=="function"?l(this,c):null;this._nativeContext.onstatechange=d;const f=this._nativeContext.onstatechange;this._onstatechange=f!==null&&f===d?c:f}get sampleRate(){return this._nativeContext.sampleRate}get state(){return this._nativeContext.state}},$o=n=>{const e=new Uint32Array([1179011410,40,1163280727,544501094,16,131073,44100,176400,1048580,1635017060,4,0]);try{const t=n.decodeAudioData(e.buffer,()=>{});return t===void 0?!1:(t.catch(()=>{}),!0)}catch{}return!1},Vk=(n,e)=>(t,s,o)=>{const l=new Set;return t.connect=(u=>(c,d=0,f=0)=>{const m=l.size===0;if(e(c))return u.call(t,c,d,f),n(l,[c,d,f],g=>g[0]===c&&g[1]===d&&g[2]===f,!0),m&&s(),c;u.call(t,c,d),n(l,[c,d],g=>g[0]===c&&g[1]===d,!0),m&&s()})(t.connect),t.disconnect=(u=>(c,d,f)=>{const m=l.size>0;if(c===void 0)u.apply(t),l.clear();else if(typeof c=="number"){u.call(t,c);for(const v of l)v[1]===c&&l.delete(v)}else{e(c)?u.call(t,c,d,f):u.call(t,c,d);for(const v of l)v[0]===c&&(d===void 0||v[1]===d)&&(f===void 0||v[2]===f)&&l.delete(v)}const g=l.size===0;m&&g&&o()})(t.disconnect),t},Qe=(n,e,t)=>{const s=e[t];s!==void 0&&s!==n[t]&&(n[t]=s)},St=(n,e)=>{Qe(n,e,"channelCount"),Qe(n,e,"channelCountMode"),Qe(n,e,"channelInterpretation")},Gg=n=>typeof n.getFloatTimeDomainData=="function",Fk=n=>{n.getFloatTimeDomainData=e=>{const t=new Uint8Array(e.length);n.getByteTimeDomainData(t);const s=Math.max(t.length,n.fftSize);for(let o=0;o<s;o+=1)e[o]=(t[o]-128)*.0078125;return e}},Lk=(n,e)=>(t,s)=>{const o=t.createAnalyser();if(St(o,s),!(s.maxDecibels>s.minDecibels))throw e();return Qe(o,s,"fftSize"),Qe(o,s,"maxDecibels"),Qe(o,s,"minDecibels"),Qe(o,s,"smoothingTimeConstant"),n(Gg,()=>Gg(o))||Fk(o),o},jk=n=>n===null?null:n.hasOwnProperty("AudioBuffer")?n.AudioBuffer:null,ot=(n,e,t)=>{const s=e[t];s!==void 0&&s!==n[t].value&&(n[t].value=s)},Bk=n=>{n.start=(e=>{let t=!1;return(s=0,o=0,l)=>{if(t)throw Et();e.call(n,s,o,l),t=!0}})(n.start)},Rd=n=>{n.start=(e=>(t=0,s=0,o)=>{if(typeof o=="number"&&o<0||s<0||t<0)throw new RangeError("The parameters can't be negative.");e.call(n,t,s,o)})(n.start)},Md=n=>{n.stop=(e=>(t=0)=>{if(t<0)throw new RangeError("The parameter can't be negative.");e.call(n,t)})(n.stop)},Uk=(n,e,t,s,o,l,u,c,d,f,m)=>(g,v)=>{const _=g.createBufferSource();return St(_,v),ot(_,v,"playbackRate"),Qe(_,v,"buffer"),Qe(_,v,"loop"),Qe(_,v,"loopEnd"),Qe(_,v,"loopStart"),e(t,()=>t(g))||Bk(_),e(s,()=>s(g))||d(_),e(o,()=>o(g))||f(_,g),e(l,()=>l(g))||Rd(_),e(u,()=>u(g))||m(_,g),e(c,()=>c(g))||Md(_),n(g,_),_},Wk=n=>n===null?null:n.hasOwnProperty("AudioContext")?n.AudioContext:n.hasOwnProperty("webkitAudioContext")?n.webkitAudioContext:null,zk=(n,e)=>(t,s,o)=>{const l=t.destination;if(l.channelCount!==s)try{l.channelCount=s}catch{}o&&l.channelCountMode!=="explicit"&&(l.channelCountMode="explicit"),l.maxChannelCount===0&&Object.defineProperty(l,"maxChannelCount",{value:s});const u=n(t,{channelCount:s,channelCountMode:l.channelCountMode,channelInterpretation:l.channelInterpretation,gain:1});return e(u,"channelCount",c=>()=>c.call(u),c=>d=>{c.call(u,d);try{l.channelCount=d}catch(f){if(d>l.maxChannelCount)throw f}}),e(u,"channelCountMode",c=>()=>c.call(u),c=>d=>{c.call(u,d),l.channelCountMode=d}),e(u,"channelInterpretation",c=>()=>c.call(u),c=>d=>{c.call(u,d),l.channelInterpretation=d}),Object.defineProperty(u,"maxChannelCount",{get:()=>l.maxChannelCount}),u.connect(l),u},$k=n=>n===null?null:n.hasOwnProperty("AudioWorkletNode")?n.AudioWorkletNode:null,qk=n=>{const{port1:e}=new MessageChannel;try{e.postMessage(n)}finally{e.close()}},Hk=(n,e,t,s,o)=>(l,u,c,d,f,m)=>{if(c!==null)try{const g=new c(l,d,m),v=new Map;let _=null;if(Object.defineProperties(g,{channelCount:{get:()=>m.channelCount,set:()=>{throw n()}},channelCountMode:{get:()=>"explicit",set:()=>{throw n()}},onprocessorerror:{get:()=>_,set:w=>{typeof _=="function"&&g.removeEventListener("processorerror",_),_=typeof w=="function"?w:null,typeof _=="function"&&g.addEventListener("processorerror",_)}}}),g.addEventListener=(w=>(...S)=>{if(S[0]==="processorerror"){const T=typeof S[1]=="function"?S[1]:typeof S[1]=="object"&&S[1]!==null&&typeof S[1].handleEvent=="function"?S[1].handleEvent:null;if(T!==null){const C=v.get(S[1]);C!==void 0?S[1]=C:(S[1]=P=>{P.type==="error"?(Object.defineProperties(P,{type:{value:"processorerror"}}),T(P)):T(new ErrorEvent(S[0],{...P}))},v.set(T,S[1]))}}return w.call(g,"error",S[1],S[2]),w.call(g,...S)})(g.addEventListener),g.removeEventListener=(w=>(...S)=>{if(S[0]==="processorerror"){const T=v.get(S[1]);T!==void 0&&(v.delete(S[1]),S[1]=T)}return w.call(g,"error",S[1],S[2]),w.call(g,S[0],S[1],S[2])})(g.removeEventListener),m.numberOfOutputs!==0){const w=t(l,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return g.connect(w).connect(l.destination),o(g,()=>w.disconnect(),()=>w.connect(l.destination))}return g}catch(g){throw g.code===11?s():g}if(f===void 0)throw s();return qk(m),e(l,u,f,m)},s0=(n,e)=>n===null?512:Math.max(512,Math.min(16384,Math.pow(2,Math.round(Math.log2(n*e))))),Gk=n=>new Promise((e,t)=>{const{port1:s,port2:o}=new MessageChannel;s.onmessage=({data:l})=>{s.close(),o.close(),e(l)},s.onmessageerror=({data:l})=>{s.close(),o.close(),t(l)},o.postMessage(n)}),Yk=async(n,e)=>{const t=await Gk(e);return new n(t)},Xk=(n,e,t,s)=>{let o=Kh.get(n);o===void 0&&(o=new WeakMap,Kh.set(n,o));const l=Yk(t,s);return o.set(e,l),l},Qk=(n,e,t,s,o,l,u,c,d,f,m,g,v)=>(_,w,S,T)=>{if(T.numberOfInputs===0&&T.numberOfOutputs===0)throw d();const C=Array.isArray(T.outputChannelCount)?T.outputChannelCount:Array.from(T.outputChannelCount);if(C.some(oe=>oe<1))throw d();if(C.length!==T.numberOfOutputs)throw e();if(T.channelCountMode!=="explicit")throw d();const P=T.channelCount*T.numberOfInputs,k=C.reduce((oe,ge)=>oe+ge,0),V=S.parameterDescriptors===void 0?0:S.parameterDescriptors.length;if(P+V>6||k>6)throw d();const E=new MessageChannel,I=[],F=[];for(let oe=0;oe<T.numberOfInputs;oe+=1)I.push(u(_,{channelCount:T.channelCount,channelCountMode:T.channelCountMode,channelInterpretation:T.channelInterpretation,gain:1})),F.push(o(_,{channelCount:T.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:T.channelCount}));const R=[];if(S.parameterDescriptors!==void 0)for(const{defaultValue:oe,maxValue:ge,minValue:$e,name:je}of S.parameterDescriptors){const Pe=l(_,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:T.parameterData[je]!==void 0?T.parameterData[je]:oe===void 0?0:oe});Object.defineProperties(Pe.offset,{defaultValue:{get:()=>oe===void 0?0:oe},maxValue:{get:()=>ge===void 0?zt:ge},minValue:{get:()=>$e===void 0?Jt:$e}}),R.push(Pe)}const W=s(_,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,P+V)}),$=s0(w,_.sampleRate),Y=c(_,$,P+V,Math.max(1,k)),z=o(_,{channelCount:Math.max(1,k),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,k)}),ee=[];for(let oe=0;oe<T.numberOfOutputs;oe+=1)ee.push(s(_,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:C[oe]}));for(let oe=0;oe<T.numberOfInputs;oe+=1){I[oe].connect(F[oe]);for(let ge=0;ge<T.channelCount;ge+=1)F[oe].connect(W,ge,oe*T.channelCount+ge)}const X=new t0(S.parameterDescriptors===void 0?[]:S.parameterDescriptors.map(({name:oe},ge)=>{const $e=R[ge];return $e.connect(W,0,P+ge),$e.start(0),[oe,$e.offset]}));W.connect(Y);let ae=T.channelInterpretation,Z=null;const te=T.numberOfOutputs===0?[Y]:ee,H={get bufferSize(){return $},get channelCount(){return T.channelCount},set channelCount(oe){throw t()},get channelCountMode(){return T.channelCountMode},set channelCountMode(oe){throw t()},get channelInterpretation(){return ae},set channelInterpretation(oe){for(const ge of I)ge.channelInterpretation=oe;ae=oe},get context(){return Y.context},get inputs(){return I},get numberOfInputs(){return T.numberOfInputs},get numberOfOutputs(){return T.numberOfOutputs},get onprocessorerror(){return Z},set onprocessorerror(oe){typeof Z=="function"&&H.removeEventListener("processorerror",Z),Z=typeof oe=="function"?oe:null,typeof Z=="function"&&H.addEventListener("processorerror",Z)},get parameters(){return X},get port(){return E.port2},addEventListener(...oe){return Y.addEventListener(oe[0],oe[1],oe[2])},connect:n.bind(null,te),disconnect:f.bind(null,te),dispatchEvent(...oe){return Y.dispatchEvent(oe[0])},removeEventListener(...oe){return Y.removeEventListener(oe[0],oe[1],oe[2])}},G=new Map;E.port1.addEventListener=(oe=>(...ge)=>{if(ge[0]==="message"){const $e=typeof ge[1]=="function"?ge[1]:typeof ge[1]=="object"&&ge[1]!==null&&typeof ge[1].handleEvent=="function"?ge[1].handleEvent:null;if($e!==null){const je=G.get(ge[1]);je!==void 0?ge[1]=je:(ge[1]=Pe=>{m(_.currentTime,_.sampleRate,()=>$e(Pe))},G.set($e,ge[1]))}}return oe.call(E.port1,ge[0],ge[1],ge[2])})(E.port1.addEventListener),E.port1.removeEventListener=(oe=>(...ge)=>{if(ge[0]==="message"){const $e=G.get(ge[1]);$e!==void 0&&(G.delete(ge[1]),ge[1]=$e)}return oe.call(E.port1,ge[0],ge[1],ge[2])})(E.port1.removeEventListener);let q=null;Object.defineProperty(E.port1,"onmessage",{get:()=>q,set:oe=>{typeof q=="function"&&E.port1.removeEventListener("message",q),q=typeof oe=="function"?oe:null,typeof q=="function"&&(E.port1.addEventListener("message",q),E.port1.start())}}),S.prototype.port=E.port1;let N=null;Xk(_,H,S,T).then(oe=>N=oe);const me=Zl(T.numberOfInputs,T.channelCount),de=Zl(T.numberOfOutputs,C),ie=S.parameterDescriptors===void 0?[]:S.parameterDescriptors.reduce((oe,{name:ge})=>({...oe,[ge]:new Float32Array(128)}),{});let ce=!0;const _e=()=>{T.numberOfOutputs>0&&Y.disconnect(z);for(let oe=0,ge=0;oe<T.numberOfOutputs;oe+=1){const $e=ee[oe];for(let je=0;je<C[oe];je+=1)z.disconnect($e,ge+je,je);ge+=C[oe]}},re=new Map;Y.onaudioprocess=({inputBuffer:oe,outputBuffer:ge})=>{if(N!==null){const $e=g(H);for(let je=0;je<$;je+=128){for(let Pe=0;Pe<T.numberOfInputs;Pe+=1)for(let Ve=0;Ve<T.channelCount;Ve+=1)Kl(oe,me[Pe],Ve,Ve,je);S.parameterDescriptors!==void 0&&S.parameterDescriptors.forEach(({name:Pe},Ve)=>{Kl(oe,ie,Pe,P+Ve,je)});for(let Pe=0;Pe<T.numberOfInputs;Pe+=1)for(let Ve=0;Ve<C[Pe];Ve+=1)de[Pe][Ve].byteLength===0&&(de[Pe][Ve]=new Float32Array(128));try{const Pe=me.map((ut,jt)=>{if($e[jt].size>0)return re.set(jt,$/128),ut;const we=re.get(jt);return we===void 0?[]:(ut.every(Ae=>Ae.every(De=>De===0))&&(we===1?re.delete(jt):re.set(jt,we-1)),ut)});ce=m(_.currentTime+je/_.sampleRate,_.sampleRate,()=>N.process(Pe,de,ie));for(let ut=0,jt=0;ut<T.numberOfOutputs;ut+=1){for(let se=0;se<C[ut];se+=1)n0(ge,de[ut],se,jt+se,je);jt+=C[ut]}}catch(Pe){ce=!1,H.dispatchEvent(new ErrorEvent("processorerror",{colno:Pe.colno,filename:Pe.filename,lineno:Pe.lineno,message:Pe.message}))}if(!ce){for(let Pe=0;Pe<T.numberOfInputs;Pe+=1){I[Pe].disconnect(F[Pe]);for(let Ve=0;Ve<T.channelCount;Ve+=1)F[je].disconnect(W,Ve,Pe*T.channelCount+Ve)}if(S.parameterDescriptors!==void 0){const Pe=S.parameterDescriptors.length;for(let Ve=0;Ve<Pe;Ve+=1){const ut=R[Ve];ut.disconnect(W,0,P+Ve),ut.stop()}}W.disconnect(Y),Y.onaudioprocess=null,Ee?_e():rn();break}}}};let Ee=!1;const Le=u(_,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0}),lt=()=>Y.connect(Le).connect(_.destination),rn=()=>{Y.disconnect(Le),Le.disconnect()},Rr=()=>{if(ce){rn(),T.numberOfOutputs>0&&Y.connect(z);for(let oe=0,ge=0;oe<T.numberOfOutputs;oe+=1){const $e=ee[oe];for(let je=0;je<C[oe];je+=1)z.connect($e,ge+je,je);ge+=C[oe]}}Ee=!0},gs=()=>{ce&&(lt(),_e()),Ee=!1};return lt(),v(H,Rr,gs)},i0=(n,e)=>{const t=n.createBiquadFilter();return St(t,e),ot(t,e,"Q"),ot(t,e,"detune"),ot(t,e,"frequency"),ot(t,e,"gain"),Qe(t,e,"type"),t},Kk=(n,e)=>(t,s)=>{const o=t.createChannelMerger(s.numberOfInputs);return n!==null&&n.name==="webkitAudioContext"&&e(t,o),St(o,s),o},Zk=n=>{const e=n.numberOfOutputs;Object.defineProperty(n,"channelCount",{get:()=>e,set:t=>{if(t!==e)throw Et()}}),Object.defineProperty(n,"channelCountMode",{get:()=>"explicit",set:t=>{if(t!=="explicit")throw Et()}}),Object.defineProperty(n,"channelInterpretation",{get:()=>"discrete",set:t=>{if(t!=="discrete")throw Et()}})},sa=(n,e)=>{const t=n.createChannelSplitter(e.numberOfOutputs);return St(t,e),Zk(t),t},Jk=(n,e,t,s,o)=>(l,u)=>{if(l.createConstantSource===void 0)return t(l,u);const c=l.createConstantSource();return St(c,u),ot(c,u,"offset"),e(s,()=>s(l))||Rd(c),e(o,()=>o(l))||Md(c),n(l,c),c},ji=(n,e)=>(n.connect=e.connect.bind(e),n.disconnect=e.disconnect.bind(e),n),eE=(n,e,t,s)=>(o,{offset:l,...u})=>{const c=o.createBuffer(1,2,44100),d=e(o,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),f=t(o,{...u,gain:l}),m=c.getChannelData(0);m[0]=1,m[1]=1,d.buffer=c,d.loop=!0;const g={get bufferSize(){},get channelCount(){return f.channelCount},set channelCount(w){f.channelCount=w},get channelCountMode(){return f.channelCountMode},set channelCountMode(w){f.channelCountMode=w},get channelInterpretation(){return f.channelInterpretation},set channelInterpretation(w){f.channelInterpretation=w},get context(){return f.context},get inputs(){return[]},get numberOfInputs(){return d.numberOfInputs},get numberOfOutputs(){return f.numberOfOutputs},get offset(){return f.gain},get onended(){return d.onended},set onended(w){d.onended=w},addEventListener(...w){return d.addEventListener(w[0],w[1],w[2])},dispatchEvent(...w){return d.dispatchEvent(w[0])},removeEventListener(...w){return d.removeEventListener(w[0],w[1],w[2])},start(w=0){d.start.call(d,w)},stop(w=0){d.stop.call(d,w)}},v=()=>d.connect(f),_=()=>d.disconnect(f);return n(o,d),s(ji(g,f),v,_)},tE=(n,e)=>(t,s)=>{const o=t.createConvolver();if(St(o,s),s.disableNormalization===o.normalize&&(o.normalize=!s.disableNormalization),Qe(o,s,"buffer"),s.channelCount>2||(e(o,"channelCount",l=>()=>l.call(o),l=>u=>{if(u>2)throw n();return l.call(o,u)}),s.channelCountMode==="max"))throw n();return e(o,"channelCountMode",l=>()=>l.call(o),l=>u=>{if(u==="max")throw n();return l.call(o,u)}),o},o0=(n,e)=>{const t=n.createDelay(e.maxDelayTime);return St(t,e),ot(t,e,"delayTime"),t},nE=n=>(e,t)=>{const s=e.createDynamicsCompressor();if(St(s,t),t.channelCount>2||t.channelCountMode==="max")throw n();return ot(s,t,"attack"),ot(s,t,"knee"),ot(s,t,"ratio"),ot(s,t,"release"),ot(s,t,"threshold"),s},tn=(n,e)=>{const t=n.createGain();return St(t,e),ot(t,e,"gain"),t},rE=n=>(e,t,s)=>{if(e.createIIRFilter===void 0)return n(e,t,s);const o=e.createIIRFilter(s.feedforward,s.feedback);return St(o,s),o};function sE(n,e){const t=e[0]*e[0]+e[1]*e[1];return[(n[0]*e[0]+n[1]*e[1])/t,(n[1]*e[0]-n[0]*e[1])/t]}function iE(n,e){return[n[0]*e[0]-n[1]*e[1],n[0]*e[1]+n[1]*e[0]]}function Yg(n,e){let t=[0,0];for(let s=n.length-1;s>=0;s-=1)t=iE(t,e),t[0]+=n[s];return t}const oE=(n,e,t,s)=>(o,l,{channelCount:u,channelCountMode:c,channelInterpretation:d,feedback:f,feedforward:m})=>{const g=s0(l,o.sampleRate),v=f instanceof Float64Array?f:new Float64Array(f),_=m instanceof Float64Array?m:new Float64Array(m),w=v.length,S=_.length,T=Math.min(w,S);if(w===0||w>20)throw s();if(v[0]===0)throw e();if(S===0||S>20)throw s();if(_[0]===0)throw e();if(v[0]!==1){for(let R=0;R<S;R+=1)_[R]/=v[0];for(let R=1;R<w;R+=1)v[R]/=v[0]}const C=t(o,g,u,u);C.channelCount=u,C.channelCountMode=c,C.channelInterpretation=d;const P=32,k=[],V=[],E=[];for(let R=0;R<u;R+=1){k.push(0);const W=new Float32Array(P),$=new Float32Array(P);W.fill(0),$.fill(0),V.push(W),E.push($)}C.onaudioprocess=R=>{const W=R.inputBuffer,$=R.outputBuffer,Y=W.numberOfChannels;for(let z=0;z<Y;z+=1){const ee=W.getChannelData(z),X=$.getChannelData(z);k[z]=r0(v,w,_,S,T,V[z],E[z],k[z],P,ee,X)}};const I=o.sampleRate/2;return ji({get bufferSize(){return g},get channelCount(){return C.channelCount},set channelCount(R){C.channelCount=R},get channelCountMode(){return C.channelCountMode},set channelCountMode(R){C.channelCountMode=R},get channelInterpretation(){return C.channelInterpretation},set channelInterpretation(R){C.channelInterpretation=R},get context(){return C.context},get inputs(){return[C]},get numberOfInputs(){return C.numberOfInputs},get numberOfOutputs(){return C.numberOfOutputs},addEventListener(...R){return C.addEventListener(R[0],R[1],R[2])},dispatchEvent(...R){return C.dispatchEvent(R[0])},getFrequencyResponse(R,W,$){if(R.length!==W.length||W.length!==$.length)throw n();const Y=R.length;for(let z=0;z<Y;z+=1){const ee=-Math.PI*(R[z]/I),X=[Math.cos(ee),Math.sin(ee)],ae=Yg(_,X),Z=Yg(v,X),te=sE(ae,Z);W[z]=Math.sqrt(te[0]*te[0]+te[1]*te[1]),$[z]=Math.atan2(te[1],te[0])}},removeEventListener(...R){return C.removeEventListener(R[0],R[1],R[2])}},C)},aE=(n,e)=>n.createMediaElementSource(e.mediaElement),lE=(n,e)=>{const t=n.createMediaStreamDestination();return St(t,e),t.numberOfOutputs===1&&Object.defineProperty(t,"numberOfOutputs",{get:()=>0}),t},uE=(n,{mediaStream:e})=>{const t=e.getAudioTracks();t.sort((l,u)=>l.id<u.id?-1:l.id>u.id?1:0);const s=t.slice(0,1),o=n.createMediaStreamSource(new MediaStream(s));return Object.defineProperty(o,"mediaStream",{value:e}),o},cE=(n,e)=>(t,{mediaStreamTrack:s})=>{if(typeof t.createMediaStreamTrackSource=="function")return t.createMediaStreamTrackSource(s);const o=new MediaStream([s]),l=t.createMediaStreamSource(o);if(s.kind!=="audio")throw n();if(e(t))throw new TypeError;return l},hE=n=>n===null?null:n.hasOwnProperty("OfflineAudioContext")?n.OfflineAudioContext:n.hasOwnProperty("webkitOfflineAudioContext")?n.webkitOfflineAudioContext:null,dE=(n,e,t,s,o,l)=>(u,c)=>{const d=u.createOscillator();return St(d,c),ot(d,c,"detune"),ot(d,c,"frequency"),c.periodicWave!==void 0?d.setPeriodicWave(c.periodicWave):Qe(d,c,"type"),e(t,()=>t(u))||Rd(d),e(s,()=>s(u))||l(d,u),e(o,()=>o(u))||Md(d),n(u,d),d},fE=n=>(e,t)=>{const s=e.createPanner();return s.orientationX===void 0?n(e,t):(St(s,t),ot(s,t,"orientationX"),ot(s,t,"orientationY"),ot(s,t,"orientationZ"),ot(s,t,"positionX"),ot(s,t,"positionY"),ot(s,t,"positionZ"),Qe(s,t,"coneInnerAngle"),Qe(s,t,"coneOuterAngle"),Qe(s,t,"coneOuterGain"),Qe(s,t,"distanceModel"),Qe(s,t,"maxDistance"),Qe(s,t,"panningModel"),Qe(s,t,"refDistance"),Qe(s,t,"rolloffFactor"),s)},pE=(n,e,t,s,o,l,u,c,d,f)=>(m,{coneInnerAngle:g,coneOuterAngle:v,coneOuterGain:_,distanceModel:w,maxDistance:S,orientationX:T,orientationY:C,orientationZ:P,panningModel:k,positionX:V,positionY:E,positionZ:I,refDistance:F,rolloffFactor:R,...W})=>{const $=m.createPanner();if(W.channelCount>2||W.channelCountMode==="max")throw u();St($,W);const Y={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},z=t(m,{...Y,channelInterpretation:"speakers",numberOfInputs:6}),ee=s(m,{...W,gain:1}),X=s(m,{...Y,gain:1}),ae=s(m,{...Y,gain:0}),Z=s(m,{...Y,gain:0}),te=s(m,{...Y,gain:0}),H=s(m,{...Y,gain:0}),G=s(m,{...Y,gain:0}),q=o(m,256,6,1),N=l(m,{...Y,curve:new Float32Array([1,1]),oversample:"none"});let j=[T,C,P],me=[V,E,I];const de=new Float32Array(1);q.onaudioprocess=({inputBuffer:re})=>{const Ee=[d(re,de,0),d(re,de,1),d(re,de,2)];Ee.some((lt,rn)=>lt!==j[rn])&&($.setOrientation(...Ee),j=Ee);const Le=[d(re,de,3),d(re,de,4),d(re,de,5)];Le.some((lt,rn)=>lt!==me[rn])&&($.setPosition(...Le),me=Le)},Object.defineProperty(ae.gain,"defaultValue",{get:()=>0}),Object.defineProperty(Z.gain,"defaultValue",{get:()=>0}),Object.defineProperty(te.gain,"defaultValue",{get:()=>0}),Object.defineProperty(H.gain,"defaultValue",{get:()=>0}),Object.defineProperty(G.gain,"defaultValue",{get:()=>0});const ie={get bufferSize(){},get channelCount(){return $.channelCount},set channelCount(re){if(re>2)throw u();ee.channelCount=re,$.channelCount=re},get channelCountMode(){return $.channelCountMode},set channelCountMode(re){if(re==="max")throw u();ee.channelCountMode=re,$.channelCountMode=re},get channelInterpretation(){return $.channelInterpretation},set channelInterpretation(re){ee.channelInterpretation=re,$.channelInterpretation=re},get coneInnerAngle(){return $.coneInnerAngle},set coneInnerAngle(re){$.coneInnerAngle=re},get coneOuterAngle(){return $.coneOuterAngle},set coneOuterAngle(re){$.coneOuterAngle=re},get coneOuterGain(){return $.coneOuterGain},set coneOuterGain(re){if(re<0||re>1)throw e();$.coneOuterGain=re},get context(){return $.context},get distanceModel(){return $.distanceModel},set distanceModel(re){$.distanceModel=re},get inputs(){return[ee]},get maxDistance(){return $.maxDistance},set maxDistance(re){if(re<0)throw new RangeError;$.maxDistance=re},get numberOfInputs(){return $.numberOfInputs},get numberOfOutputs(){return $.numberOfOutputs},get orientationX(){return X.gain},get orientationY(){return ae.gain},get orientationZ(){return Z.gain},get panningModel(){return $.panningModel},set panningModel(re){$.panningModel=re},get positionX(){return te.gain},get positionY(){return H.gain},get positionZ(){return G.gain},get refDistance(){return $.refDistance},set refDistance(re){if(re<0)throw new RangeError;$.refDistance=re},get rolloffFactor(){return $.rolloffFactor},set rolloffFactor(re){if(re<0)throw new RangeError;$.rolloffFactor=re},addEventListener(...re){return ee.addEventListener(re[0],re[1],re[2])},dispatchEvent(...re){return ee.dispatchEvent(re[0])},removeEventListener(...re){return ee.removeEventListener(re[0],re[1],re[2])}};g!==ie.coneInnerAngle&&(ie.coneInnerAngle=g),v!==ie.coneOuterAngle&&(ie.coneOuterAngle=v),_!==ie.coneOuterGain&&(ie.coneOuterGain=_),w!==ie.distanceModel&&(ie.distanceModel=w),S!==ie.maxDistance&&(ie.maxDistance=S),T!==ie.orientationX.value&&(ie.orientationX.value=T),C!==ie.orientationY.value&&(ie.orientationY.value=C),P!==ie.orientationZ.value&&(ie.orientationZ.value=P),k!==ie.panningModel&&(ie.panningModel=k),V!==ie.positionX.value&&(ie.positionX.value=V),E!==ie.positionY.value&&(ie.positionY.value=E),I!==ie.positionZ.value&&(ie.positionZ.value=I),F!==ie.refDistance&&(ie.refDistance=F),R!==ie.rolloffFactor&&(ie.rolloffFactor=R),(j[0]!==1||j[1]!==0||j[2]!==0)&&$.setOrientation(...j),(me[0]!==0||me[1]!==0||me[2]!==0)&&$.setPosition(...me);const ce=()=>{ee.connect($),n(ee,N,0,0),N.connect(X).connect(z,0,0),N.connect(ae).connect(z,0,1),N.connect(Z).connect(z,0,2),N.connect(te).connect(z,0,3),N.connect(H).connect(z,0,4),N.connect(G).connect(z,0,5),z.connect(q).connect(m.destination)},_e=()=>{ee.disconnect($),c(ee,N,0,0),N.disconnect(X),X.disconnect(z),N.disconnect(ae),ae.disconnect(z),N.disconnect(Z),Z.disconnect(z),N.disconnect(te),te.disconnect(z),N.disconnect(H),H.disconnect(z),N.disconnect(G),G.disconnect(z),z.disconnect(q),q.disconnect(m.destination)};return f(ji(ie,$),ce,_e)},mE=n=>(e,{disableNormalization:t,imag:s,real:o})=>{const l=s instanceof Float32Array?s:new Float32Array(s),u=o instanceof Float32Array?o:new Float32Array(o),c=e.createPeriodicWave(u,l,{disableNormalization:t});if(Array.from(s).length<2)throw n();return c},ia=(n,e,t,s)=>n.createScriptProcessor(e,t,s),gE=(n,e)=>(t,s)=>{const o=s.channelCountMode;if(o==="clamped-max")throw e();if(t.createStereoPanner===void 0)return n(t,s);const l=t.createStereoPanner();return St(l,s),ot(l,s,"pan"),Object.defineProperty(l,"channelCountMode",{get:()=>o,set:u=>{if(u!==o)throw e()}}),l},yE=(n,e,t,s,o,l)=>{const c=new Float32Array([1,1]),d=Math.PI/2,f={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},m={...f,oversample:"none"},g=(w,S,T,C)=>{const P=new Float32Array(16385),k=new Float32Array(16385);for(let W=0;W<16385;W+=1){const $=W/16384*d;P[W]=Math.cos($),k[W]=Math.sin($)}const V=t(w,{...f,gain:0}),E=s(w,{...m,curve:P}),I=s(w,{...m,curve:c}),F=t(w,{...f,gain:0}),R=s(w,{...m,curve:k});return{connectGraph(){S.connect(V),S.connect(I.inputs===void 0?I:I.inputs[0]),S.connect(F),I.connect(T),T.connect(E.inputs===void 0?E:E.inputs[0]),T.connect(R.inputs===void 0?R:R.inputs[0]),E.connect(V.gain),R.connect(F.gain),V.connect(C,0,0),F.connect(C,0,1)},disconnectGraph(){S.disconnect(V),S.disconnect(I.inputs===void 0?I:I.inputs[0]),S.disconnect(F),I.disconnect(T),T.disconnect(E.inputs===void 0?E:E.inputs[0]),T.disconnect(R.inputs===void 0?R:R.inputs[0]),E.disconnect(V.gain),R.disconnect(F.gain),V.disconnect(C,0,0),F.disconnect(C,0,1)}}},v=(w,S,T,C)=>{const P=new Float32Array(16385),k=new Float32Array(16385),V=new Float32Array(16385),E=new Float32Array(16385),I=Math.floor(16385/2);for(let te=0;te<16385;te+=1)if(te>I){const H=(te-I)/(16384-I)*d;P[te]=Math.cos(H),k[te]=Math.sin(H),V[te]=0,E[te]=1}else{const H=te/(16384-I)*d;P[te]=1,k[te]=0,V[te]=Math.cos(H),E[te]=Math.sin(H)}const F=e(w,{channelCount:2,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:2}),R=t(w,{...f,gain:0}),W=s(w,{...m,curve:P}),$=t(w,{...f,gain:0}),Y=s(w,{...m,curve:k}),z=s(w,{...m,curve:c}),ee=t(w,{...f,gain:0}),X=s(w,{...m,curve:V}),ae=t(w,{...f,gain:0}),Z=s(w,{...m,curve:E});return{connectGraph(){S.connect(F),S.connect(z.inputs===void 0?z:z.inputs[0]),F.connect(R,0),F.connect($,0),F.connect(ee,1),F.connect(ae,1),z.connect(T),T.connect(W.inputs===void 0?W:W.inputs[0]),T.connect(Y.inputs===void 0?Y:Y.inputs[0]),T.connect(X.inputs===void 0?X:X.inputs[0]),T.connect(Z.inputs===void 0?Z:Z.inputs[0]),W.connect(R.gain),Y.connect($.gain),X.connect(ee.gain),Z.connect(ae.gain),R.connect(C,0,0),ee.connect(C,0,0),$.connect(C,0,1),ae.connect(C,0,1)},disconnectGraph(){S.disconnect(F),S.disconnect(z.inputs===void 0?z:z.inputs[0]),F.disconnect(R,0),F.disconnect($,0),F.disconnect(ee,1),F.disconnect(ae,1),z.disconnect(T),T.disconnect(W.inputs===void 0?W:W.inputs[0]),T.disconnect(Y.inputs===void 0?Y:Y.inputs[0]),T.disconnect(X.inputs===void 0?X:X.inputs[0]),T.disconnect(Z.inputs===void 0?Z:Z.inputs[0]),W.disconnect(R.gain),Y.disconnect($.gain),X.disconnect(ee.gain),Z.disconnect(ae.gain),R.disconnect(C,0,0),ee.disconnect(C,0,0),$.disconnect(C,0,1),ae.disconnect(C,0,1)}}},_=(w,S,T,C,P)=>{if(S===1)return g(w,T,C,P);if(S===2)return v(w,T,C,P);throw o()};return(w,{channelCount:S,channelCountMode:T,pan:C,...P})=>{if(T==="max")throw o();const k=n(w,{...P,channelCount:1,channelCountMode:T,numberOfInputs:2}),V=t(w,{...P,channelCount:S,channelCountMode:T,gain:1}),E=t(w,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:C});let{connectGraph:I,disconnectGraph:F}=_(w,S,V,E,k);Object.defineProperty(E.gain,"defaultValue",{get:()=>0}),Object.defineProperty(E.gain,"maxValue",{get:()=>1}),Object.defineProperty(E.gain,"minValue",{get:()=>-1});const R={get bufferSize(){},get channelCount(){return V.channelCount},set channelCount(z){V.channelCount!==z&&(W&&F(),{connectGraph:I,disconnectGraph:F}=_(w,z,V,E,k),W&&I()),V.channelCount=z},get channelCountMode(){return V.channelCountMode},set channelCountMode(z){if(z==="clamped-max"||z==="max")throw o();V.channelCountMode=z},get channelInterpretation(){return V.channelInterpretation},set channelInterpretation(z){V.channelInterpretation=z},get context(){return V.context},get inputs(){return[V]},get numberOfInputs(){return V.numberOfInputs},get numberOfOutputs(){return V.numberOfOutputs},get pan(){return E.gain},addEventListener(...z){return V.addEventListener(z[0],z[1],z[2])},dispatchEvent(...z){return V.dispatchEvent(z[0])},removeEventListener(...z){return V.removeEventListener(z[0],z[1],z[2])}};let W=!1;const $=()=>{I(),W=!0},Y=()=>{F(),W=!1};return l(ji(R,k),$,Y)}},vE=(n,e,t,s,o,l,u)=>(c,d)=>{const f=c.createWaveShaper();if(l!==null&&l.name==="webkitAudioContext"&&c.createGain().gain.automationRate===void 0)return t(c,d);St(f,d);const m=d.curve===null||d.curve instanceof Float32Array?d.curve:new Float32Array(d.curve);if(m!==null&&m.length<2)throw e();Qe(f,{curve:m},"curve"),Qe(f,d,"oversample");let g=null,v=!1;return u(f,"curve",S=>()=>S.call(f),S=>T=>(S.call(f,T),v&&(s(T)&&g===null?g=n(c,f):!s(T)&&g!==null&&(g(),g=null)),T)),o(f,()=>{v=!0,s(f.curve)&&(g=n(c,f))},()=>{v=!1,g!==null&&(g(),g=null)})},_E=(n,e,t,s,o)=>(l,{curve:u,oversample:c,...d})=>{const f=l.createWaveShaper(),m=l.createWaveShaper();St(f,d),St(m,d);const g=t(l,{...d,gain:1}),v=t(l,{...d,gain:-1}),_=t(l,{...d,gain:1}),w=t(l,{...d,gain:-1});let S=null,T=!1,C=null;const P={get bufferSize(){},get channelCount(){return f.channelCount},set channelCount(E){g.channelCount=E,v.channelCount=E,f.channelCount=E,_.channelCount=E,m.channelCount=E,w.channelCount=E},get channelCountMode(){return f.channelCountMode},set channelCountMode(E){g.channelCountMode=E,v.channelCountMode=E,f.channelCountMode=E,_.channelCountMode=E,m.channelCountMode=E,w.channelCountMode=E},get channelInterpretation(){return f.channelInterpretation},set channelInterpretation(E){g.channelInterpretation=E,v.channelInterpretation=E,f.channelInterpretation=E,_.channelInterpretation=E,m.channelInterpretation=E,w.channelInterpretation=E},get context(){return f.context},get curve(){return C},set curve(E){if(E!==null&&E.length<2)throw e();if(E===null)f.curve=E,m.curve=E;else{const I=E.length,F=new Float32Array(I+2-I%2),R=new Float32Array(I+2-I%2);F[0]=E[0],R[0]=-E[I-1];const W=Math.ceil((I+1)/2),$=(I+1)/2-1;for(let Y=1;Y<W;Y+=1){const z=Y/W*$,ee=Math.floor(z),X=Math.ceil(z);F[Y]=ee===X?E[ee]:(1-(z-ee))*E[ee]+(1-(X-z))*E[X],R[Y]=ee===X?-E[I-1-ee]:-((1-(z-ee))*E[I-1-ee])-(1-(X-z))*E[I-1-X]}F[W]=I%2===1?E[W-1]:(E[W-2]+E[W-1])/2,f.curve=F,m.curve=R}C=E,T&&(s(C)&&S===null?S=n(l,g):S!==null&&(S(),S=null))},get inputs(){return[g]},get numberOfInputs(){return f.numberOfInputs},get numberOfOutputs(){return f.numberOfOutputs},get oversample(){return f.oversample},set oversample(E){f.oversample=E,m.oversample=E},addEventListener(...E){return g.addEventListener(E[0],E[1],E[2])},dispatchEvent(...E){return g.dispatchEvent(E[0])},removeEventListener(...E){return g.removeEventListener(E[0],E[1],E[2])}};u!==null&&(P.curve=u instanceof Float32Array?u:new Float32Array(u)),c!==P.oversample&&(P.oversample=c);const k=()=>{g.connect(f).connect(_),g.connect(v).connect(m).connect(w).connect(_),T=!0,s(C)&&(S=n(l,g))},V=()=>{g.disconnect(f),f.disconnect(_),g.disconnect(v),v.disconnect(m),m.disconnect(w),w.disconnect(_),T=!1,S!==null&&(S(),S=null)};return o(ji(P,_),k,V)},qt=()=>new DOMException("","NotSupportedError"),wE={numberOfChannels:1},xE=(n,e,t,s,o)=>class extends n{constructor(u,c,d){let f;if(typeof u=="number"&&c!==void 0&&d!==void 0)f={length:c,numberOfChannels:u,sampleRate:d};else if(typeof u=="object")f=u;else throw new Error("The given parameters are not valid.");const{length:m,numberOfChannels:g,sampleRate:v}={...wE,...f},_=s(g,m,v);e($o,()=>$o(_))||_.addEventListener("statechange",(()=>{let w=0;const S=T=>{this._state==="running"&&(w>0?(_.removeEventListener("statechange",S),T.stopImmediatePropagation(),this._waitForThePromiseToSettle(T)):w+=1)};return S})()),super(_,g),this._length=m,this._nativeOfflineAudioContext=_,this._state=null}get length(){return this._nativeOfflineAudioContext.length===void 0?this._length:this._nativeOfflineAudioContext.length}get state(){return this._state===null?this._nativeOfflineAudioContext.state:this._state}startRendering(){return this._state==="running"?Promise.reject(t()):(this._state="running",o(this.destination,this._nativeOfflineAudioContext).finally(()=>{this._state=null,Kv(this)}))}_waitForThePromiseToSettle(u){this._state===null?this._nativeOfflineAudioContext.dispatchEvent(u):setTimeout(()=>this._waitForThePromiseToSettle(u))}},SE={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:440,periodicWave:void 0,type:"sine"},TE=(n,e,t,s,o,l,u)=>class extends n{constructor(d,f){const m=o(d),g={...SE,...f},v=t(m,g),_=l(m),w=_?s():null,S=d.sampleRate/2;super(d,!1,v,w),this._detune=e(this,_,v.detune,153600,-153600),this._frequency=e(this,_,v.frequency,S,-S),this._nativeOscillatorNode=v,this._onended=null,this._oscillatorNodeRenderer=w,this._oscillatorNodeRenderer!==null&&g.periodicWave!==void 0&&(this._oscillatorNodeRenderer.periodicWave=g.periodicWave)}get detune(){return this._detune}get frequency(){return this._frequency}get onended(){return this._onended}set onended(d){const f=typeof d=="function"?u(this,d):null;this._nativeOscillatorNode.onended=f;const m=this._nativeOscillatorNode.onended;this._onended=m!==null&&m===f?d:m}get type(){return this._nativeOscillatorNode.type}set type(d){this._nativeOscillatorNode.type=d,this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.periodicWave=null)}setPeriodicWave(d){this._nativeOscillatorNode.setPeriodicWave(d),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.periodicWave=d)}start(d=0){if(this._nativeOscillatorNode.start(d),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.start=d),this.context.state!=="closed"){Ai(this);const f=()=>{this._nativeOscillatorNode.removeEventListener("ended",f),xr(this)&&ta(this)};this._nativeOscillatorNode.addEventListener("ended",f)}}stop(d=0){this._nativeOscillatorNode.stop(d),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.stop=d)}},CE=(n,e,t,s,o)=>()=>{const l=new WeakMap;let u=null,c=null,d=null;const f=async(m,g)=>{let v=t(m);const _=Lt(v,g);if(!_){const w={channelCount:v.channelCount,channelCountMode:v.channelCountMode,channelInterpretation:v.channelInterpretation,detune:v.detune.value,frequency:v.frequency.value,periodicWave:u===null?void 0:u,type:v.type};v=e(g,w),c!==null&&v.start(c),d!==null&&v.stop(d)}return l.set(g,v),_?(await n(g,m.detune,v.detune),await n(g,m.frequency,v.frequency)):(await s(g,m.detune,v.detune),await s(g,m.frequency,v.frequency)),await o(m,g,v),v};return{set periodicWave(m){u=m},set start(m){c=m},set stop(m){d=m},render(m,g){const v=l.get(g);return v!==void 0?Promise.resolve(v):f(m,g)}}},kE={channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",coneInnerAngle:360,coneOuterAngle:360,coneOuterGain:0,distanceModel:"inverse",maxDistance:1e4,orientationX:1,orientationY:0,orientationZ:0,panningModel:"equalpower",positionX:0,positionY:0,positionZ:0,refDistance:1,rolloffFactor:1},EE=(n,e,t,s,o,l,u)=>class extends n{constructor(d,f){const m=o(d),g={...kE,...f},v=t(m,g),_=l(m),w=_?s():null;super(d,!1,v,w),this._nativePannerNode=v,this._orientationX=e(this,_,v.orientationX,zt,Jt),this._orientationY=e(this,_,v.orientationY,zt,Jt),this._orientationZ=e(this,_,v.orientationZ,zt,Jt),this._positionX=e(this,_,v.positionX,zt,Jt),this._positionY=e(this,_,v.positionY,zt,Jt),this._positionZ=e(this,_,v.positionZ,zt,Jt),u(this,1)}get coneInnerAngle(){return this._nativePannerNode.coneInnerAngle}set coneInnerAngle(d){this._nativePannerNode.coneInnerAngle=d}get coneOuterAngle(){return this._nativePannerNode.coneOuterAngle}set coneOuterAngle(d){this._nativePannerNode.coneOuterAngle=d}get coneOuterGain(){return this._nativePannerNode.coneOuterGain}set coneOuterGain(d){this._nativePannerNode.coneOuterGain=d}get distanceModel(){return this._nativePannerNode.distanceModel}set distanceModel(d){this._nativePannerNode.distanceModel=d}get maxDistance(){return this._nativePannerNode.maxDistance}set maxDistance(d){this._nativePannerNode.maxDistance=d}get orientationX(){return this._orientationX}get orientationY(){return this._orientationY}get orientationZ(){return this._orientationZ}get panningModel(){return this._nativePannerNode.panningModel}set panningModel(d){this._nativePannerNode.panningModel=d}get positionX(){return this._positionX}get positionY(){return this._positionY}get positionZ(){return this._positionZ}get refDistance(){return this._nativePannerNode.refDistance}set refDistance(d){this._nativePannerNode.refDistance=d}get rolloffFactor(){return this._nativePannerNode.rolloffFactor}set rolloffFactor(d){this._nativePannerNode.rolloffFactor=d}},AE=(n,e,t,s,o,l,u,c,d,f)=>()=>{const m=new WeakMap;let g=null;const v=async(_,w)=>{let S=null,T=l(_);const C={channelCount:T.channelCount,channelCountMode:T.channelCountMode,channelInterpretation:T.channelInterpretation},P={...C,coneInnerAngle:T.coneInnerAngle,coneOuterAngle:T.coneOuterAngle,coneOuterGain:T.coneOuterGain,distanceModel:T.distanceModel,maxDistance:T.maxDistance,panningModel:T.panningModel,refDistance:T.refDistance,rolloffFactor:T.rolloffFactor},k=Lt(T,w);if("bufferSize"in T)S=s(w,{...C,gain:1});else if(!k){const V={...P,orientationX:T.orientationX.value,orientationY:T.orientationY.value,orientationZ:T.orientationZ.value,positionX:T.positionX.value,positionY:T.positionY.value,positionZ:T.positionZ.value};T=o(w,V)}if(m.set(w,S===null?T:S),S!==null){if(g===null){if(u===null)throw new Error("Missing the native OfflineAudioContext constructor.");const Y=new u(6,_.context.length,w.sampleRate),z=e(Y,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6});z.connect(Y.destination),g=(async()=>{const ee=await Promise.all([_.orientationX,_.orientationY,_.orientationZ,_.positionX,_.positionY,_.positionZ].map(async(X,ae)=>{const Z=t(Y,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:ae===0?1:0});return await c(Y,X,Z.offset),Z}));for(let X=0;X<6;X+=1)ee[X].connect(z,0,X),ee[X].start(0);return f(Y)})()}const V=await g,E=s(w,{...C,gain:1});await d(_,w,E);const I=[];for(let Y=0;Y<V.numberOfChannels;Y+=1)I.push(V.getChannelData(Y));let F=[I[0][0],I[1][0],I[2][0]],R=[I[3][0],I[4][0],I[5][0]],W=s(w,{...C,gain:1}),$=o(w,{...P,orientationX:F[0],orientationY:F[1],orientationZ:F[2],positionX:R[0],positionY:R[1],positionZ:R[2]});E.connect(W).connect($.inputs[0]),$.connect(S);for(let Y=128;Y<V.length;Y+=128){const z=[I[0][Y],I[1][Y],I[2][Y]],ee=[I[3][Y],I[4][Y],I[5][Y]];if(z.some((X,ae)=>X!==F[ae])||ee.some((X,ae)=>X!==R[ae])){F=z,R=ee;const X=Y/w.sampleRate;W.gain.setValueAtTime(0,X),W=s(w,{...C,gain:0}),$=o(w,{...P,orientationX:F[0],orientationY:F[1],orientationZ:F[2],positionX:R[0],positionY:R[1],positionZ:R[2]}),W.gain.setValueAtTime(1,X),E.connect(W).connect($.inputs[0]),$.connect(S)}}return S}return k?(await n(w,_.orientationX,T.orientationX),await n(w,_.orientationY,T.orientationY),await n(w,_.orientationZ,T.orientationZ),await n(w,_.positionX,T.positionX),await n(w,_.positionY,T.positionY),await n(w,_.positionZ,T.positionZ)):(await c(w,_.orientationX,T.orientationX),await c(w,_.orientationY,T.orientationY),await c(w,_.orientationZ,T.orientationZ),await c(w,_.positionX,T.positionX),await c(w,_.positionY,T.positionY),await c(w,_.positionZ,T.positionZ)),Li(T)?await d(_,w,T.inputs[0]):await d(_,w,T),T};return{render(_,w){const S=m.get(w);return S!==void 0?Promise.resolve(S):v(_,w)}}},NE={disableNormalization:!1},PE=(n,e,t,s)=>class a0{constructor(l,u){const c=e(l),d=s({...NE,...u}),f=n(c,d);return t.add(f),f}static[Symbol.hasInstance](l){return l!==null&&typeof l=="object"&&Object.getPrototypeOf(l)===a0.prototype||t.has(l)}},bE=(n,e)=>(t,s,o)=>(n(s).replay(o),e(s,t,o)),RE=(n,e,t)=>async(s,o,l)=>{const u=n(s);await Promise.all(u.activeInputs.map((c,d)=>Array.from(c).map(async([f,m])=>{const v=await e(f).render(f,o),_=s.context.destination;!t(f)&&(s!==_||!t(s))&&v.connect(l,m,d)})).reduce((c,d)=>[...c,...d],[]))},ME=(n,e,t)=>async(s,o,l)=>{const u=e(s);await Promise.all(Array.from(u.activeInputs).map(async([c,d])=>{const m=await n(c).render(c,o);t(c)||m.connect(l,d)}))},DE=(n,e,t,s)=>o=>n($o,()=>$o(o))?Promise.resolve(n(s,s)).then(l=>{if(!l){const u=t(o,512,0,1);o.oncomplete=()=>{u.onaudioprocess=null,u.disconnect()},u.onaudioprocess=()=>o.currentTime,u.connect(o.destination)}return o.startRendering()}):new Promise(l=>{const u=e(o,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});o.oncomplete=c=>{u.disconnect(),l(c.renderedBuffer)},u.connect(o.destination),o.startRendering()}),OE=n=>(e,t)=>{n.set(e,t)},IE=n=>(e,t)=>n.set(e,t),VE=(n,e,t,s,o,l,u,c)=>(d,f)=>t(d).render(d,f).then(()=>Promise.all(Array.from(s(f)).map(m=>t(m).render(m,f)))).then(()=>o(f)).then(m=>(typeof m.copyFromChannel!="function"?(u(m),Nd(m)):e(l,()=>l(m))||c(m),n.add(m),m)),FE={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",pan:0},LE=(n,e,t,s,o,l)=>class extends n{constructor(c,d){const f=o(c),m={...FE,...d},g=t(f,m),v=l(f),_=v?s():null;super(c,!1,g,_),this._pan=e(this,v,g.pan)}get pan(){return this._pan}},jE=(n,e,t,s,o)=>()=>{const l=new WeakMap,u=async(c,d)=>{let f=t(c);const m=Lt(f,d);if(!m){const g={channelCount:f.channelCount,channelCountMode:f.channelCountMode,channelInterpretation:f.channelInterpretation,pan:f.pan.value};f=e(d,g)}return l.set(d,f),m?await n(d,c.pan,f.pan):await s(d,c.pan,f.pan),Li(f)?await o(c,d,f.inputs[0]):await o(c,d,f),f};return{render(c,d){const f=l.get(d);return f!==void 0?Promise.resolve(f):u(c,d)}}},BE=n=>()=>{if(n===null)return!1;try{new n({length:1,sampleRate:44100})}catch{return!1}return!0},UE=(n,e)=>async()=>{if(n===null)return!0;if(e===null)return!1;const t=new Blob(['class A extends AudioWorkletProcessor{process(i){this.port.postMessage(i,[i[0][0].buffer])}}registerProcessor("a",A)'],{type:"application/javascript; charset=utf-8"}),s=new e(1,128,44100),o=URL.createObjectURL(t);let l=!1,u=!1;try{await s.audioWorklet.addModule(o);const c=new n(s,"a",{numberOfOutputs:0}),d=s.createOscillator();c.port.onmessage=()=>l=!0,c.onprocessorerror=()=>u=!0,d.connect(c),d.start(0),await s.startRendering(),await new Promise(f=>setTimeout(f))}catch{}finally{URL.revokeObjectURL(o)}return l&&!u},WE=(n,e)=>()=>{if(e===null)return Promise.resolve(!1);const t=new e(1,1,44100),s=n(t,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return new Promise(o=>{t.oncomplete=()=>{s.disconnect(),o(t.currentTime!==0)},t.startRendering()})},zE=()=>new DOMException("","UnknownError"),$E={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",curve:null,oversample:"none"},qE=(n,e,t,s,o,l,u)=>class extends n{constructor(d,f){const m=o(d),g={...$E,...f},v=t(m,g),w=l(m)?s():null;super(d,!0,v,w),this._isCurveNullified=!1,this._nativeWaveShaperNode=v,u(this,1)}get curve(){return this._isCurveNullified?null:this._nativeWaveShaperNode.curve}set curve(d){if(d===null)this._isCurveNullified=!0,this._nativeWaveShaperNode.curve=new Float32Array([0,0]);else{if(d.length<2)throw e();this._isCurveNullified=!1,this._nativeWaveShaperNode.curve=d}}get oversample(){return this._nativeWaveShaperNode.oversample}set oversample(d){this._nativeWaveShaperNode.oversample=d}},HE=(n,e,t)=>()=>{const s=new WeakMap,o=async(l,u)=>{let c=e(l);if(!Lt(c,u)){const f={channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,curve:c.curve,oversample:c.oversample};c=n(u,f)}return s.set(u,c),Li(c)?await t(l,u,c.inputs[0]):await t(l,u,c),c};return{render(l,u){const c=s.get(u);return c!==void 0?Promise.resolve(c):o(l,u)}}},GE=()=>typeof window>"u"?null:window,YE=(n,e)=>t=>{t.copyFromChannel=(s,o,l=0)=>{const u=n(l),c=n(o);if(c>=t.numberOfChannels)throw e();const d=t.length,f=t.getChannelData(c),m=s.length;for(let g=u<0?-u:0;g+u<d&&g<m;g+=1)s[g]=f[g+u]},t.copyToChannel=(s,o,l=0)=>{const u=n(l),c=n(o);if(c>=t.numberOfChannels)throw e();const d=t.length,f=t.getChannelData(c),m=s.length;for(let g=u<0?-u:0;g+u<d&&g<m;g+=1)f[g+u]=s[g]}},XE=n=>e=>{e.copyFromChannel=(t=>(s,o,l=0)=>{const u=n(l),c=n(o);if(u<e.length)return t.call(e,s,c,u)})(e.copyFromChannel),e.copyToChannel=(t=>(s,o,l=0)=>{const u=n(l),c=n(o);if(u<e.length)return t.call(e,s,c,u)})(e.copyToChannel)},QE=n=>(e,t)=>{const s=t.createBuffer(1,1,44100);e.buffer===null&&(e.buffer=s),n(e,"buffer",o=>()=>{const l=o.call(e);return l===s?null:l},o=>l=>o.call(e,l===null?s:l))},KE=(n,e)=>(t,s)=>{s.channelCount=1,s.channelCountMode="explicit",Object.defineProperty(s,"channelCount",{get:()=>1,set:()=>{throw n()}}),Object.defineProperty(s,"channelCountMode",{get:()=>"explicit",set:()=>{throw n()}});const o=t.createBufferSource();e(s,()=>{const c=s.numberOfInputs;for(let d=0;d<c;d+=1)o.connect(s,0,d)},()=>o.disconnect(s))},l0=(n,e,t)=>n.copyFromChannel===void 0?n.getChannelData(t)[0]:(n.copyFromChannel(e,t),e[0]),u0=n=>{if(n===null)return!1;const e=n.length;return e%2!==0?n[Math.floor(e/2)]!==0:n[e/2-1]+n[e/2]!==0},oa=(n,e,t,s)=>{let o=n;for(;!o.hasOwnProperty(e);)o=Object.getPrototypeOf(o);const{get:l,set:u}=Object.getOwnPropertyDescriptor(o,e);Object.defineProperty(n,e,{get:t(l),set:s(u)})},ZE=n=>({...n,outputChannelCount:n.outputChannelCount!==void 0?n.outputChannelCount:n.numberOfInputs===1&&n.numberOfOutputs===1?[n.channelCount]:Array.from({length:n.numberOfOutputs},()=>1)}),JE=n=>({...n,channelCount:n.numberOfOutputs}),eA=n=>{const{imag:e,real:t}=n;return e===void 0?t===void 0?{...n,imag:[0,0],real:[0,0]}:{...n,imag:Array.from(t,()=>0),real:t}:t===void 0?{...n,imag:e,real:Array.from(e,()=>0)}:{...n,imag:e,real:t}},c0=(n,e,t)=>{try{n.setValueAtTime(e,t)}catch(s){if(s.code!==9)throw s;c0(n,e,t+1e-7)}},tA=n=>{const e=n.createBufferSource();e.start();try{e.start()}catch{return!0}return!1},nA=n=>{const e=n.createBufferSource(),t=n.createBuffer(1,1,44100);e.buffer=t;try{e.start(0,1)}catch{return!1}return!0},rA=n=>{const e=n.createBufferSource();e.start();try{e.stop()}catch{return!1}return!0},Dd=n=>{const e=n.createOscillator();try{e.start(-1)}catch(t){return t instanceof RangeError}return!1},h0=n=>{const e=n.createBuffer(1,1,44100),t=n.createBufferSource();t.buffer=e,t.start(),t.stop();try{return t.stop(),!0}catch{return!1}},Od=n=>{const e=n.createOscillator();try{e.stop(-1)}catch(t){return t instanceof RangeError}return!1},sA=n=>{const{port1:e,port2:t}=new MessageChannel;try{e.postMessage(n)}finally{e.close(),t.close()}},iA=n=>{n.start=(e=>(t=0,s=0,o)=>{const l=n.buffer,u=l===null?s:Math.min(l.duration,s);l!==null&&u>l.duration-.5/n.context.sampleRate?e.call(n,t,0,0):e.call(n,t,u,o)})(n.start)},d0=(n,e)=>{const t=e.createGain();n.connect(t);const s=(o=>()=>{o.call(n,t),n.removeEventListener("ended",s)})(n.disconnect);n.addEventListener("ended",s),ji(n,t),n.stop=(o=>{let l=!1;return(u=0)=>{if(l)try{o.call(n,u)}catch{t.gain.setValueAtTime(0,u)}else o.call(n,u),l=!0}})(n.stop)},Bi=(n,e)=>t=>{const s={value:n};return Object.defineProperties(t,{currentTarget:s,target:s}),typeof e=="function"?e.call(n,t):e.handleEvent.call(n,t)},oA=ET($s),aA=MT($s),lA=$C(pu),f0=new WeakMap,uA=lk(f0),Hn=wC(new Map,new WeakMap),rr=GE(),p0=Lk(Hn,sr),Id=ak($t),Rt=RE($t,Id,Us),cA=FT(p0,Ge,Rt),ze=hk(fu),Nr=hE(rr),Ue=Nk(Nr),m0=new WeakMap,g0=ek(Bi),aa=Wk(rr),Vd=Ck(aa),Fd=kk(rr),y0=Ek(rr),qo=$k(rr),pt=lC(AT($v),RT(oA,aA,Yl,lA,Xl,$t,uA,ea,Ge,$s,xr,Us,Ll),Hn,_k(Xh,Xl,$t,Ge,zo,xr),sr,mu,qt,BC(Yl,Xh,$t,Ge,zo,ze,xr,Ue),GC(m0,$t,$n),g0,ze,Vd,Fd,y0,Ue,qo),hA=VT(pt,cA,sr,p0,ze,Ue),Ld=new WeakSet,Xg=jk(rr),v0=DC(new Uint32Array(1)),jd=YE(v0,sr),Bd=XE(v0),_0=jT(Ld,Hn,qt,Xg,Nr,BE(Xg),jd,Bd),gu=DT(tn),w0=ME(Id,na,Us),ir=AC(w0),Ui=Uk(gu,Hn,tA,nA,rA,Dd,h0,Od,iA,QE(oa),d0),or=bE(uk(na),w0),dA=WT(ir,Ui,Ge,or,Rt),Gn=uC(NT(qv),m0,Ad,cC,wT,xT,ST,TT,CT,Hh,Wv,aa,c0),fA=UT(pt,dA,Gn,Et,Ui,ze,Ue,Bi),pA=KT(pt,ZT,sr,Et,zk(tn,oa),ze,Ue,Rt),mA=_C(ir,i0,Ge,or,Rt),qs=IE(f0),gA=vC(pt,Gn,mA,mu,i0,ze,Ue,qs),ds=Vk($s,Fd),yA=KE(Et,ds),fs=Kk(aa,yA),vA=TC(fs,Ge,Rt),_A=SC(pt,vA,fs,ze,Ue),wA=EC(sa,Ge,Rt),xA=kC(pt,wA,sa,ze,Ue,JE),SA=eE(gu,Ui,tn,ds),Wi=Jk(gu,Hn,SA,Dd,Od),TA=MC(ir,Wi,Ge,or,Rt),CA=RC(pt,Gn,TA,Wi,ze,Ue,Bi),x0=tE(qt,oa),kA=VC(x0,Ge,Rt),EA=IC(pt,kA,x0,ze,Ue,qs),AA=zC(ir,o0,Ge,or,Rt),NA=WC(pt,Gn,AA,o0,ze,Ue,qs),S0=nE(qt),PA=KC(ir,S0,Ge,or,Rt),bA=QC(pt,Gn,PA,S0,qt,ze,Ue,qs),RA=ik(ir,tn,Ge,or,Rt),MA=sk(pt,Gn,RA,tn,ze,Ue),DA=oE(mu,Et,ia,qt),yu=DE(Hn,tn,ia,WE(tn,Nr)),OA=vk(Ui,Ge,Nr,Rt,yu),IA=rE(DA),VA=gk(pt,IA,OA,ze,Ue,qs),FA=JT(Gn,fs,Wi,ia,qt,l0,Ue,oa),T0=new WeakMap,LA=Ik(pA,FA,g0,Ue,T0,Bi),C0=dE(gu,Hn,Dd,h0,Od,d0),jA=CE(ir,C0,Ge,or,Rt),BA=TE(pt,Gn,C0,jA,ze,Ue,Bi),k0=PC(Ui),UA=_E(k0,Et,tn,u0,ds),vu=vE(k0,Et,UA,u0,ds,aa,oa),WA=pE(Yl,Et,fs,tn,ia,vu,qt,Xl,l0,ds),E0=fE(WA),zA=AE(ir,fs,Wi,tn,E0,Ge,Nr,or,Rt,yu),$A=EE(pt,Gn,E0,zA,ze,Ue,qs),qA=mE(sr),HA=PE(qA,ze,new WeakSet,eA),GA=yE(fs,sa,tn,vu,qt,ds),A0=gE(GA,qt),YA=jE(ir,A0,Ge,or,Rt),XA=LE(pt,Gn,A0,YA,ze,Ue),QA=HE(vu,Ge,Rt),KA=qE(pt,Et,vu,QA,ze,Ue,qs),N0=Pk(rr),Ud=tk(rr),P0=new WeakMap,ZA=dk(P0,Nr),JA=N0?bT(Hn,qt,JC(rr),Ud,nk(kT),ze,ZA,Ue,qo,new WeakMap,new WeakMap,UE(qo,Nr),rr):void 0,eN=Ak(Vd,Ue),tN=jC(Ld,Hn,LC,ZC,new WeakSet,ze,eN,Hl,$o,jd,Bd),b0=gC(JA,hA,_0,fA,gA,_A,xA,CA,EA,tN,NA,bA,MA,VA,LA,BA,$A,HA,XA,KA),nN=bk(pt,aE,ze,Ue),rN=Mk(pt,lE,ze,Ue),sN=Dk(pt,uE,ze,Ue),iN=cE(Et,Ue),oN=Ok(pt,iN,ze),aN=QT(b0,Et,qt,zE,nN,rN,sN,oN,aa),Wd=fk(T0),lN=OT(Wd),R0=NC(sr),uN=qC(Wd),M0=YC(sr),D0=new WeakMap,cN=ok(D0,$n),hN=Qk(R0,sr,Et,fs,sa,Wi,tn,ia,qt,M0,Ud,cN,ds),dN=Hk(Et,hN,tn,qt,ds),fN=mC(ir,R0,Ui,fs,sa,Wi,tn,uN,M0,Ud,Ge,qo,Nr,or,Rt,yu),pN=ck(P0),mN=OE(D0),Qg=N0?dC(lN,pt,Gn,fN,dN,$t,pN,ze,Ue,qo,ZE,mN,sA,Bi):void 0,gN=FC(qt,Nr),yN=VE(Ld,Hn,Id,Wd,yu,Hl,jd,Bd),vN=xE(b0,Hn,Et,gN,yN),_N=wk(fu,Vd),wN=xk(Ed,Fd),xN=Sk(Ad,y0),SN=Tk(fu,Ue);function Nn(n){return n===void 0}function Re(n){return n!==void 0}function TN(n){return typeof n=="function"}function ss(n){return typeof n=="number"}function Fs(n){return Object.prototype.toString.call(n)==="[object Object]"&&n.constructor===Object}function CN(n){return typeof n=="boolean"}function fn(n){return Array.isArray(n)}function Er(n){return typeof n=="string"}function bl(n){return Er(n)&&/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i.test(n)}function Te(n,e){if(!n)throw new Error(e)}function is(n,e,t=1/0){if(!(e<=n&&n<=t))throw new RangeError(`Value must be within [${e}, ${t}], got: ${n}`)}function O0(n){!n.isOffline&&n.state!=="running"&&_u('The AudioContext is "suspended". Invoke Tone.start() from a user action to start the audio.')}let I0=!1,Kg=!1;function Zg(n){I0=n}function kN(n){Nn(n)&&I0&&!Kg&&(Kg=!0,_u("Events scheduled inside of scheduled callbacks should use the passed in scheduling time. See https://github.com/Tonejs/Tone.js/wiki/Accurate-Timing"))}let V0=console;function EN(...n){V0.log(...n)}function _u(...n){V0.warn(...n)}function AN(n){return new aN(n)}function NN(n,e,t){return new vN(n,e,t)}const hn=typeof self=="object"?self:null,PN=hn&&(hn.hasOwnProperty("AudioContext")||hn.hasOwnProperty("webkitAudioContext"));function bN(n,e,t){return Te(Re(Qg),"AudioWorkletNode only works in a secure context (https or localhost)"),new(n instanceof(hn==null?void 0:hn.BaseAudioContext)?hn==null?void 0:hn.AudioWorkletNode:Qg)(n,e,t)}function Yn(n,e,t,s){var o=arguments.length,l=o<3?e:s===null?s=Object.getOwnPropertyDescriptor(e,t):s,u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(n,e,t,s);else for(var c=n.length-1;c>=0;c--)(u=n[c])&&(l=(o<3?u(l):o>3?u(e,t,l):u(e,t))||l);return o>3&&l&&Object.defineProperty(e,t,l),l}function _t(n,e,t,s){function o(l){return l instanceof t?l:new t(function(u){u(l)})}return new(t||(t=Promise))(function(l,u){function c(m){try{f(s.next(m))}catch(g){u(g)}}function d(m){try{f(s.throw(m))}catch(g){u(g)}}function f(m){m.done?l(m.value):o(m.value).then(c,d)}f((s=s.apply(n,e||[])).next())})}class RN{constructor(e,t,s,o){this._callback=e,this._type=t,this._minimumUpdateInterval=Math.max(128/(o||44100),.001),this.updateInterval=s,this._createClock()}_createWorker(){const e=new Blob([`
			// the initial timeout time
			let timeoutTime =  ${(this._updateInterval*1e3).toFixed(1)};
			// onmessage callback
			self.onmessage = function(msg){
				timeoutTime = parseInt(msg.data);
			};
			// the tick function which posts a message
			// and schedules a new tick
			function tick(){
				setTimeout(tick, timeoutTime);
				self.postMessage('tick');
			}
			// call tick initially
			tick();
			`],{type:"text/javascript"}),t=URL.createObjectURL(e),s=new Worker(t);s.onmessage=this._callback.bind(this),this._worker=s}_createTimeout(){this._timeout=setTimeout(()=>{this._createTimeout(),this._callback()},this._updateInterval*1e3)}_createClock(){if(this._type==="worker")try{this._createWorker()}catch{this._type="timeout",this._createClock()}else this._type==="timeout"&&this._createTimeout()}_disposeClock(){this._timeout&&clearTimeout(this._timeout),this._worker&&(this._worker.terminate(),this._worker.onmessage=null)}get updateInterval(){return this._updateInterval}set updateInterval(e){var t;this._updateInterval=Math.max(e,this._minimumUpdateInterval),this._type==="worker"&&((t=this._worker)===null||t===void 0||t.postMessage(this._updateInterval*1e3))}get type(){return this._type}set type(e){this._disposeClock(),this._type=e,this._createClock()}dispose(){this._disposeClock()}}function Ws(n){return xN(n)}function rs(n){return wN(n)}function jl(n){return SN(n)}function gi(n){return _N(n)}function MN(n){return n instanceof _0}function DN(n,e){return n==="value"||Ws(e)||rs(e)||MN(e)}function Ls(n,...e){if(!e.length)return n;const t=e.shift();if(Fs(n)&&Fs(t))for(const s in t)DN(s,t[s])?n[s]=t[s]:Fs(t[s])?(n[s]||Object.assign(n,{[s]:{}}),Ls(n[s],t[s])):Object.assign(n,{[s]:t[s]});return Ls(n,...e)}function ON(n,e){return n.length===e.length&&n.every((t,s)=>e[s]===t)}function Ce(n,e,t=[],s){const o={},l=Array.from(e);if(Fs(l[0])&&s&&!Reflect.has(l[0],s)&&(Object.keys(l[0]).some(c=>Reflect.has(n,c))||(Ls(o,{[s]:l[0]}),t.splice(t.indexOf(s),1),l.shift())),l.length===1&&Fs(l[0]))Ls(o,l[0]);else for(let u=0;u<t.length;u++)Re(l[u])&&(o[t[u]]=l[u]);return Ls(n,o)}function IN(n){return n.constructor.getDefaults()}function ki(n,e){return Nn(n)?e:n}function ed(n,e){return e.forEach(t=>{Reflect.has(n,t)&&delete n[t]}),n}/**
 * Tone.js
 * @author Yotam Mann
 * @license http://opensource.org/licenses/MIT MIT License
 * @copyright 2014-2024 Yotam Mann
 */class Pr{constructor(){this.debug=!1,this._wasDisposed=!1}static getDefaults(){return{}}log(...e){(this.debug||hn&&this.toString()===hn.TONE_DEBUG_CLASS)&&EN(this,...e)}dispose(){return this._wasDisposed=!0,this}get disposed(){return this._wasDisposed}toString(){return this.name}}Pr.version=Uv;const zd=1e-6;function Ni(n,e){return n>e+zd}function td(n,e){return Ni(n,e)||Wn(n,e)}function Jl(n,e){return n+zd<e}function Wn(n,e){return Math.abs(n-e)<zd}function VN(n,e,t){return Math.max(Math.min(n,t),e)}class Pn extends Pr{constructor(){super(),this.name="Timeline",this._timeline=[];const e=Ce(Pn.getDefaults(),arguments,["memory"]);this.memory=e.memory,this.increasing=e.increasing}static getDefaults(){return{memory:1/0,increasing:!1}}get length(){return this._timeline.length}add(e){if(Te(Reflect.has(e,"time"),"Timeline: events must have a time attribute"),e.time=e.time.valueOf(),this.increasing&&this.length){const t=this._timeline[this.length-1];Te(td(e.time,t.time),"The time must be greater than or equal to the last scheduled time"),this._timeline.push(e)}else{const t=this._search(e.time);this._timeline.splice(t+1,0,e)}if(this.length>this.memory){const t=this.length-this.memory;this._timeline.splice(0,t)}return this}remove(e){const t=this._timeline.indexOf(e);return t!==-1&&this._timeline.splice(t,1),this}get(e,t="time"){const s=this._search(e,t);return s!==-1?this._timeline[s]:null}peek(){return this._timeline[0]}shift(){return this._timeline.shift()}getAfter(e,t="time"){const s=this._search(e,t);return s+1<this._timeline.length?this._timeline[s+1]:null}getBefore(e){const t=this._timeline.length;if(t>0&&this._timeline[t-1].time<e)return this._timeline[t-1];const s=this._search(e);return s-1>=0?this._timeline[s-1]:null}cancel(e){if(this._timeline.length>1){let t=this._search(e);if(t>=0)if(Wn(this._timeline[t].time,e)){for(let s=t;s>=0&&Wn(this._timeline[s].time,e);s--)t=s;this._timeline=this._timeline.slice(0,t)}else this._timeline=this._timeline.slice(0,t+1);else this._timeline=[]}else this._timeline.length===1&&td(this._timeline[0].time,e)&&(this._timeline=[]);return this}cancelBefore(e){const t=this._search(e);return t>=0&&(this._timeline=this._timeline.slice(t+1)),this}previousEvent(e){const t=this._timeline.indexOf(e);return t>0?this._timeline[t-1]:null}_search(e,t="time"){if(this._timeline.length===0)return-1;let s=0;const o=this._timeline.length;let l=o;if(o>0&&this._timeline[o-1][t]<=e)return o-1;for(;s<l;){let u=Math.floor(s+(l-s)/2);const c=this._timeline[u],d=this._timeline[u+1];if(Wn(c[t],e)){for(let f=u;f<this._timeline.length;f++){const m=this._timeline[f];if(Wn(m[t],e))u=f;else break}return u}else{if(Jl(c[t],e)&&Ni(d[t],e))return u;Ni(c[t],e)?l=u:s=u+1}}return-1}_iterate(e,t=0,s=this._timeline.length-1){this._timeline.slice(t,s+1).forEach(e)}forEach(e){return this._iterate(e),this}forEachBefore(e,t){const s=this._search(e);return s!==-1&&this._iterate(t,0,s),this}forEachAfter(e,t){const s=this._search(e);return this._iterate(t,s+1),this}forEachBetween(e,t,s){let o=this._search(e),l=this._search(t);return o!==-1&&l!==-1?(this._timeline[o].time!==e&&(o+=1),this._timeline[l].time===t&&(l-=1),this._iterate(s,o,l)):o===-1&&this._iterate(s,0,l),this}forEachFrom(e,t){let s=this._search(e);for(;s>=0&&this._timeline[s].time>=e;)s--;return this._iterate(t,s+1),this}forEachAtTime(e,t){const s=this._search(e);if(s!==-1&&Wn(this._timeline[s].time,e)){let o=s;for(let l=s;l>=0&&Wn(this._timeline[l].time,e);l--)o=l;this._iterate(l=>{t(l)},o,s)}return this}dispose(){return super.dispose(),this._timeline=[],this}}const F0=[];function wu(n){F0.push(n)}function FN(n){F0.forEach(e=>e(n))}const L0=[];function xu(n){L0.push(n)}function LN(n){L0.forEach(e=>e(n))}class la extends Pr{constructor(){super(...arguments),this.name="Emitter"}on(e,t){return e.split(/\W+/).forEach(o=>{Nn(this._events)&&(this._events={}),this._events.hasOwnProperty(o)||(this._events[o]=[]),this._events[o].push(t)}),this}once(e,t){const s=(...o)=>{t(...o),this.off(e,s)};return this.on(e,s),this}off(e,t){return e.split(/\W+/).forEach(o=>{if(Nn(this._events)&&(this._events={}),this._events.hasOwnProperty(o))if(Nn(t))this._events[o]=[];else{const l=this._events[o];for(let u=l.length-1;u>=0;u--)l[u]===t&&l.splice(u,1)}}),this}emit(e,...t){if(this._events&&this._events.hasOwnProperty(e)){const s=this._events[e].slice(0);for(let o=0,l=s.length;o<l;o++)s[o].apply(this,t)}return this}static mixin(e){["on","once","off","emit"].forEach(t=>{const s=Object.getOwnPropertyDescriptor(la.prototype,t);Object.defineProperty(e.prototype,t,s)})}dispose(){return super.dispose(),this._events=void 0,this}}class j0 extends la{constructor(){super(...arguments),this.isOffline=!1}toJSON(){return{}}}class ua extends j0{constructor(){var e,t;super(),this.name="Context",this._constants=new Map,this._timeouts=new Pn,this._timeoutIds=0,this._initialized=!1,this._closeStarted=!1,this.isOffline=!1,this._workletPromise=null;const s=Ce(ua.getDefaults(),arguments,["context"]);s.context?(this._context=s.context,this._latencyHint=((e=arguments[0])===null||e===void 0?void 0:e.latencyHint)||""):(this._context=AN({latencyHint:s.latencyHint}),this._latencyHint=s.latencyHint),this._ticker=new RN(this.emit.bind(this,"tick"),s.clockSource,s.updateInterval,this._context.sampleRate),this.on("tick",this._timeoutLoop.bind(this)),this._context.onstatechange=()=>{this.emit("statechange",this.state)},this[!((t=arguments[0])===null||t===void 0)&&t.hasOwnProperty("updateInterval")?"_lookAhead":"lookAhead"]=s.lookAhead}static getDefaults(){return{clockSource:"worker",latencyHint:"interactive",lookAhead:.1,updateInterval:.05}}initialize(){return this._initialized||(FN(this),this._initialized=!0),this}createAnalyser(){return this._context.createAnalyser()}createOscillator(){return this._context.createOscillator()}createBufferSource(){return this._context.createBufferSource()}createBiquadFilter(){return this._context.createBiquadFilter()}createBuffer(e,t,s){return this._context.createBuffer(e,t,s)}createChannelMerger(e){return this._context.createChannelMerger(e)}createChannelSplitter(e){return this._context.createChannelSplitter(e)}createConstantSource(){return this._context.createConstantSource()}createConvolver(){return this._context.createConvolver()}createDelay(e){return this._context.createDelay(e)}createDynamicsCompressor(){return this._context.createDynamicsCompressor()}createGain(){return this._context.createGain()}createIIRFilter(e,t){return this._context.createIIRFilter(e,t)}createPanner(){return this._context.createPanner()}createPeriodicWave(e,t,s){return this._context.createPeriodicWave(e,t,s)}createStereoPanner(){return this._context.createStereoPanner()}createWaveShaper(){return this._context.createWaveShaper()}createMediaStreamSource(e){return Te(gi(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamSource(e)}createMediaElementSource(e){return Te(gi(this._context),"Not available if OfflineAudioContext"),this._context.createMediaElementSource(e)}createMediaStreamDestination(){return Te(gi(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamDestination()}decodeAudioData(e){return this._context.decodeAudioData(e)}get currentTime(){return this._context.currentTime}get state(){return this._context.state}get sampleRate(){return this._context.sampleRate}get listener(){return this.initialize(),this._listener}set listener(e){Te(!this._initialized,"The listener cannot be set after initialization."),this._listener=e}get transport(){return this.initialize(),this._transport}set transport(e){Te(!this._initialized,"The transport cannot be set after initialization."),this._transport=e}get draw(){return this.initialize(),this._draw}set draw(e){Te(!this._initialized,"Draw cannot be set after initialization."),this._draw=e}get destination(){return this.initialize(),this._destination}set destination(e){Te(!this._initialized,"The destination cannot be set after initialization."),this._destination=e}createAudioWorkletNode(e,t){return bN(this.rawContext,e,t)}addAudioWorkletModule(e){return _t(this,void 0,void 0,function*(){Te(Re(this.rawContext.audioWorklet),"AudioWorkletNode is only available in a secure context (https or localhost)"),this._workletPromise||(this._workletPromise=this.rawContext.audioWorklet.addModule(e)),yield this._workletPromise})}workletsAreReady(){return _t(this,void 0,void 0,function*(){(yield this._workletPromise)?this._workletPromise:Promise.resolve()})}get updateInterval(){return this._ticker.updateInterval}set updateInterval(e){this._ticker.updateInterval=e}get clockSource(){return this._ticker.type}set clockSource(e){this._ticker.type=e}get lookAhead(){return this._lookAhead}set lookAhead(e){this._lookAhead=e,this.updateInterval=e?e/2:.01}get latencyHint(){return this._latencyHint}get rawContext(){return this._context}now(){return this._context.currentTime+this._lookAhead}immediate(){return this._context.currentTime}resume(){return gi(this._context)?this._context.resume():Promise.resolve()}close(){return _t(this,void 0,void 0,function*(){gi(this._context)&&this.state!=="closed"&&!this._closeStarted&&(this._closeStarted=!0,yield this._context.close()),this._initialized&&LN(this)})}getConstant(e){if(this._constants.has(e))return this._constants.get(e);{const t=this._context.createBuffer(1,128,this._context.sampleRate),s=t.getChannelData(0);for(let l=0;l<s.length;l++)s[l]=e;const o=this._context.createBufferSource();return o.channelCount=1,o.channelCountMode="explicit",o.buffer=t,o.loop=!0,o.start(0),this._constants.set(e,o),o}}dispose(){return super.dispose(),this._ticker.dispose(),this._timeouts.dispose(),Object.keys(this._constants).map(e=>this._constants[e].disconnect()),this.close(),this}_timeoutLoop(){const e=this.now();this._timeouts.forEachBefore(e,t=>{t.callback(),this._timeouts.remove(t)})}setTimeout(e,t){this._timeoutIds++;const s=this.now();return this._timeouts.add({callback:e,id:this._timeoutIds,time:s+t}),this._timeoutIds}clearTimeout(e){return this._timeouts.forEach(t=>{t.id===e&&this._timeouts.remove(t)}),this}clearInterval(e){return this.clearTimeout(e)}setInterval(e,t){const s=++this._timeoutIds,o=()=>{const l=this.now();this._timeouts.add({callback:()=>{e(),o()},id:s,time:l+t})};return o(),s}}class jN extends j0{constructor(){super(...arguments),this.lookAhead=0,this.latencyHint=0,this.isOffline=!1}createAnalyser(){return{}}createOscillator(){return{}}createBufferSource(){return{}}createBiquadFilter(){return{}}createBuffer(e,t,s){return{}}createChannelMerger(e){return{}}createChannelSplitter(e){return{}}createConstantSource(){return{}}createConvolver(){return{}}createDelay(e){return{}}createDynamicsCompressor(){return{}}createGain(){return{}}createIIRFilter(e,t){return{}}createPanner(){return{}}createPeriodicWave(e,t,s){return{}}createStereoPanner(){return{}}createWaveShaper(){return{}}createMediaStreamSource(e){return{}}createMediaElementSource(e){return{}}createMediaStreamDestination(){return{}}decodeAudioData(e){return Promise.resolve({})}createAudioWorkletNode(e,t){return{}}get rawContext(){return{}}addAudioWorkletModule(e){return _t(this,void 0,void 0,function*(){return Promise.resolve()})}resume(){return Promise.resolve()}setTimeout(e,t){return 0}clearTimeout(e){return this}setInterval(e,t){return 0}clearInterval(e){return this}getConstant(e){return{}}get currentTime(){return 0}get state(){return{}}get sampleRate(){return 0}get listener(){return{}}get transport(){return{}}get draw(){return{}}set draw(e){}get destination(){return{}}set destination(e){}now(){return 0}immediate(){return 0}}function at(n,e){fn(e)?e.forEach(t=>at(n,t)):Object.defineProperty(n,e,{enumerable:!0,writable:!1})}function B0(n,e){fn(e)?e.forEach(t=>B0(n,t)):Object.defineProperty(n,e,{writable:!0})}const Be=()=>{};class Xe extends Pr{constructor(){super(),this.name="ToneAudioBuffer",this.onload=Be;const e=Ce(Xe.getDefaults(),arguments,["url","onload","onerror"]);this.reverse=e.reverse,this.onload=e.onload,Er(e.url)?this.load(e.url).catch(e.onerror):e.url&&this.set(e.url)}static getDefaults(){return{onerror:Be,onload:Be,reverse:!1}}get sampleRate(){return this._buffer?this._buffer.sampleRate:An().sampleRate}set(e){return e instanceof Xe?e.loaded?this._buffer=e.get():e.onload=()=>{this.set(e),this.onload(this)}:this._buffer=e,this._reversed&&this._reverse(),this}get(){return this._buffer}load(e){return _t(this,void 0,void 0,function*(){const t=Xe.load(e).then(s=>{this.set(s),this.onload(this)});Xe.downloads.push(t);try{yield t}finally{const s=Xe.downloads.indexOf(t);Xe.downloads.splice(s,1)}return this})}dispose(){return super.dispose(),this._buffer=void 0,this}fromArray(e){const t=fn(e)&&e[0].length>0,s=t?e.length:1,o=t?e[0].length:e.length,l=An(),u=l.createBuffer(s,o,l.sampleRate),c=!t&&s===1?[e]:e;for(let d=0;d<s;d++)u.copyToChannel(c[d],d);return this._buffer=u,this}toMono(e){if(ss(e))this.fromArray(this.toArray(e));else{let t=new Float32Array(this.length);const s=this.numberOfChannels;for(let o=0;o<s;o++){const l=this.toArray(o);for(let u=0;u<l.length;u++)t[u]+=l[u]}t=t.map(o=>o/s),this.fromArray(t)}return this}toArray(e){if(ss(e))return this.getChannelData(e);if(this.numberOfChannels===1)return this.toArray(0);{const t=[];for(let s=0;s<this.numberOfChannels;s++)t[s]=this.getChannelData(s);return t}}getChannelData(e){return this._buffer?this._buffer.getChannelData(e):new Float32Array(0)}slice(e,t=this.duration){Te(this.loaded,"Buffer is not loaded");const s=Math.floor(e*this.sampleRate),o=Math.floor(t*this.sampleRate);Te(s<o,"The start time must be less than the end time");const l=o-s,u=An().createBuffer(this.numberOfChannels,l,this.sampleRate);for(let c=0;c<this.numberOfChannels;c++)u.copyToChannel(this.getChannelData(c).subarray(s,o),c);return new Xe(u)}_reverse(){if(this.loaded)for(let e=0;e<this.numberOfChannels;e++)this.getChannelData(e).reverse();return this}get loaded(){return this.length>0}get duration(){return this._buffer?this._buffer.duration:0}get length(){return this._buffer?this._buffer.length:0}get numberOfChannels(){return this._buffer?this._buffer.numberOfChannels:0}get reverse(){return this._reversed}set reverse(e){this._reversed!==e&&(this._reversed=e,this._reverse())}static fromArray(e){return new Xe().fromArray(e)}static fromUrl(e){return _t(this,void 0,void 0,function*(){return yield new Xe().load(e)})}static load(e){return _t(this,void 0,void 0,function*(){const t=Xe.baseUrl===""||Xe.baseUrl.endsWith("/")?Xe.baseUrl:Xe.baseUrl+"/",s=yield fetch(t+e);if(!s.ok)throw new Error(`could not load url: ${e}`);const o=yield s.arrayBuffer();return yield An().decodeAudioData(o)})}static supportsType(e){const t=e.split("."),s=t[t.length-1];return document.createElement("audio").canPlayType("audio/"+s)!==""}static loaded(){return _t(this,void 0,void 0,function*(){for(yield Promise.resolve();Xe.downloads.length;)yield Xe.downloads[0]})}}Xe.baseUrl="";Xe.downloads=[];class $d extends ua{constructor(){super({clockSource:"offline",context:jl(arguments[0])?arguments[0]:NN(arguments[0],arguments[1]*arguments[2],arguments[2]),lookAhead:0,updateInterval:jl(arguments[0])?128/arguments[0].sampleRate:128/arguments[2]}),this.name="OfflineContext",this._currentTime=0,this.isOffline=!0,this._duration=jl(arguments[0])?arguments[0].length/arguments[0].sampleRate:arguments[1]}now(){return this._currentTime}get currentTime(){return this._currentTime}_renderClock(e){return _t(this,void 0,void 0,function*(){let t=0;for(;this._duration-this._currentTime>=0;){this.emit("tick"),this._currentTime+=128/this.sampleRate,t++;const s=Math.floor(this.sampleRate/128);e&&t%s===0&&(yield new Promise(o=>setTimeout(o,1)))}})}render(){return _t(this,arguments,void 0,function*(e=!0){yield this.workletsAreReady(),yield this._renderClock(e);const t=yield this._context.startRendering();return new Xe(t)})}close(){return Promise.resolve()}}const U0=new jN;let Os=U0;function An(){return Os===U0&&PN&&BN(new ua),Os}function BN(n,e=!1){e&&Os.dispose(),gi(n)?Os=new ua(n):jl(n)?Os=new $d(n):Os=n}function UN(){return Os.resume()}if(hn&&!hn.TONE_SILENCE_LOGGING){const e=` * Tone.js v${Uv} * `;console.log(`%c${e}`,"background: #000; color: #fff")}function WN(n){return Math.pow(10,n/20)}function zN(n){return 20*(Math.log(n)/Math.LN10)}function W0(n){return Math.pow(2,n/12)}let Su=440;function $N(){return Su}function qN(n){Su=n}function Is(n){return Math.round(z0(n))}function z0(n){return 69+12*Math.log2(n/Su)}function $0(n){return Su*Math.pow(2,(n-69)/12)}class qd extends Pr{constructor(e,t,s){super(),this.defaultUnits="s",this._val=t,this._units=s,this.context=e,this._expressions=this._getExpressions()}_getExpressions(){return{hz:{method:e=>this._frequencyToUnits(parseFloat(e)),regexp:/^(\d+(?:\.\d+)?)hz$/i},i:{method:e=>this._ticksToUnits(parseInt(e,10)),regexp:/^(\d+)i$/i},m:{method:e=>this._beatsToUnits(parseInt(e,10)*this._getTimeSignature()),regexp:/^(\d+)m$/i},n:{method:(e,t)=>{const s=parseInt(e,10),o=t==="."?1.5:1;return s===1?this._beatsToUnits(this._getTimeSignature())*o:this._beatsToUnits(4/s)*o},regexp:/^(\d+)n(\.?)$/i},number:{method:e=>this._expressions[this.defaultUnits].method.call(this,e),regexp:/^(\d+(?:\.\d+)?)$/},s:{method:e=>this._secondsToUnits(parseFloat(e)),regexp:/^(\d+(?:\.\d+)?)s$/},samples:{method:e=>parseInt(e,10)/this.context.sampleRate,regexp:/^(\d+)samples$/},t:{method:e=>{const t=parseInt(e,10);return this._beatsToUnits(8/(Math.floor(t)*3))},regexp:/^(\d+)t$/i},tr:{method:(e,t,s)=>{let o=0;return e&&e!=="0"&&(o+=this._beatsToUnits(this._getTimeSignature()*parseFloat(e))),t&&t!=="0"&&(o+=this._beatsToUnits(parseFloat(t))),s&&s!=="0"&&(o+=this._beatsToUnits(parseFloat(s)/4)),o},regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?$/}}}valueOf(){if(this._val instanceof qd&&this.fromType(this._val),Nn(this._val))return this._noArg();if(Er(this._val)&&Nn(this._units)){for(const e in this._expressions)if(this._expressions[e].regexp.test(this._val.trim())){this._units=e;break}}else if(Fs(this._val)){let e=0;for(const t in this._val)if(Re(this._val[t])){const s=this._val[t],o=new this.constructor(this.context,t).valueOf()*s;e+=o}return e}if(Re(this._units)){const e=this._expressions[this._units],t=this._val.toString().trim().match(e.regexp);return t?e.method.apply(this,t.slice(1)):e.method.call(this,this._val)}else return Er(this._val)?parseFloat(this._val):this._val}_frequencyToUnits(e){return 1/e}_beatsToUnits(e){return 60/this._getBpm()*e}_secondsToUnits(e){return e}_ticksToUnits(e){return e*this._beatsToUnits(1)/this._getPPQ()}_noArg(){return this._now()}_getBpm(){return this.context.transport.bpm.value}_getTimeSignature(){return this.context.transport.timeSignature}_getPPQ(){return this.context.transport.PPQ}fromType(e){switch(this._units=void 0,this.defaultUnits){case"s":this._val=e.toSeconds();break;case"i":this._val=e.toTicks();break;case"hz":this._val=e.toFrequency();break;case"midi":this._val=e.toMidi();break}return this}toFrequency(){return 1/this.toSeconds()}toSamples(){return this.toSeconds()*this.context.sampleRate}toMilliseconds(){return this.toSeconds()*1e3}}class zn extends qd{constructor(){super(...arguments),this.name="TimeClass"}_getExpressions(){return Object.assign(super._getExpressions(),{now:{method:e=>this._now()+new this.constructor(this.context,e).valueOf(),regexp:/^\+(.+)/},quantize:{method:e=>{const t=new zn(this.context,e).valueOf();return this._secondsToUnits(this.context.transport.nextSubdivision(t))},regexp:/^@(.+)/}})}quantize(e,t=1){const s=new this.constructor(this.context,e).valueOf(),o=this.valueOf(),c=Math.round(o/s)*s-o;return o+c*t}toNotation(){const e=this.toSeconds(),t=["1m"];for(let l=1;l<9;l++){const u=Math.pow(2,l);t.push(u+"n."),t.push(u+"n"),t.push(u+"t")}t.push("0");let s=t[0],o=new zn(this.context,t[0]).toSeconds();return t.forEach(l=>{const u=new zn(this.context,l).toSeconds();Math.abs(u-e)<Math.abs(o-e)&&(s=l,o=u)}),s}toBarsBeatsSixteenths(){const e=this._beatsToUnits(1);let t=this.valueOf()/e;t=parseFloat(t.toFixed(4));const s=Math.floor(t/this._getTimeSignature());let o=t%1*4;t=Math.floor(t)%this._getTimeSignature();const l=o.toString();return l.length>3&&(o=parseFloat(parseFloat(l).toFixed(3))),[s,t,o].join(":")}toTicks(){const e=this._beatsToUnits(1);return this.valueOf()/e*this._getPPQ()}toSeconds(){return this.valueOf()}toMidi(){return Is(this.toFrequency())}_now(){return this.context.now()}}class dn extends zn{constructor(){super(...arguments),this.name="Frequency",this.defaultUnits="hz"}static get A4(){return $N()}static set A4(e){qN(e)}_getExpressions(){return Object.assign({},super._getExpressions(),{midi:{regexp:/^(\d+(?:\.\d+)?midi)/,method(e){return this.defaultUnits==="midi"?e:dn.mtof(e)}},note:{regexp:/^([a-g]{1}(?:b|#|##|x|bb|###|#x|x#|bbb)?)(-?[0-9]+)/i,method(e,t){const o=HN[e.toLowerCase()]+(parseInt(t,10)+1)*12;return this.defaultUnits==="midi"?o:dn.mtof(o)}},tr:{regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?/,method(e,t,s){let o=1;return e&&e!=="0"&&(o*=this._beatsToUnits(this._getTimeSignature()*parseFloat(e))),t&&t!=="0"&&(o*=this._beatsToUnits(parseFloat(t))),s&&s!=="0"&&(o*=this._beatsToUnits(parseFloat(s)/4)),o}}})}transpose(e){return new dn(this.context,this.valueOf()*W0(e))}harmonize(e){return e.map(t=>this.transpose(t))}toMidi(){return Is(this.valueOf())}toNote(){const e=this.toFrequency(),t=Math.log2(e/dn.A4);let s=Math.round(12*t)+57;const o=Math.floor(s/12);return o<0&&(s+=-12*o),GN[s%12]+o.toString()}toSeconds(){return 1/super.toSeconds()}toTicks(){const e=this._beatsToUnits(1),t=this.valueOf()/e;return Math.floor(t*this._getPPQ())}_noArg(){return 0}_frequencyToUnits(e){return e}_ticksToUnits(e){return 1/(e*60/(this._getBpm()*this._getPPQ()))}_beatsToUnits(e){return 1/super._beatsToUnits(e)}_secondsToUnits(e){return 1/e}static mtof(e){return $0(e)}static ftom(e){return Is(e)}}const HN={cbbb:-3,cbb:-2,cb:-1,c:0,"c#":1,cx:2,"c##":2,"c###":3,"cx#":3,"c#x":3,dbbb:-1,dbb:0,db:1,d:2,"d#":3,dx:4,"d##":4,"d###":5,"dx#":5,"d#x":5,ebbb:1,ebb:2,eb:3,e:4,"e#":5,ex:6,"e##":6,"e###":7,"ex#":7,"e#x":7,fbbb:2,fbb:3,fb:4,f:5,"f#":6,fx:7,"f##":7,"f###":8,"fx#":8,"f#x":8,gbbb:4,gbb:5,gb:6,g:7,"g#":8,gx:9,"g##":9,"g###":10,"gx#":10,"g#x":10,abbb:6,abb:7,ab:8,a:9,"a#":10,ax:11,"a##":11,"a###":12,"ax#":12,"a#x":12,bbbb:8,bbb:9,bb:10,b:11,"b#":12,bx:13,"b##":13,"b###":14,"bx#":14,"b#x":14},GN=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];class Fo extends zn{constructor(){super(...arguments),this.name="TransportTime"}_now(){return this.context.transport.seconds}}class en extends Pr{constructor(){super();const e=Ce(en.getDefaults(),arguments,["context"]);this.defaultContext?this.context=this.defaultContext:this.context=e.context}static getDefaults(){return{context:An()}}now(){return this.context.currentTime+this.context.lookAhead}immediate(){return this.context.currentTime}get sampleTime(){return 1/this.context.sampleRate}get blockTime(){return 128/this.context.sampleRate}toSeconds(e){return kN(e),new zn(this.context,e).toSeconds()}toFrequency(e){return new dn(this.context,e).toFrequency()}toTicks(e){return new Fo(this.context,e).toTicks()}_getPartialProperties(e){const t=this.get();return Object.keys(t).forEach(s=>{Nn(e[s])&&delete t[s]}),t}get(){const e=IN(this);return Object.keys(e).forEach(t=>{if(Reflect.has(this,t)){const s=this[t];Re(s)&&Re(s.value)&&Re(s.setValueAtTime)?e[t]=s.value:s instanceof en?e[t]=s._getPartialProperties(e[t]):fn(s)||ss(s)||Er(s)||CN(s)?e[t]=s:delete e[t]}}),e}set(e){return Object.keys(e).forEach(t=>{Reflect.has(this,t)&&Re(this[t])&&(this[t]&&Re(this[t].value)&&Re(this[t].setValueAtTime)?this[t].value!==e[t]&&(this[t].value=e[t]):this[t]instanceof en?this[t].set(e[t]):this[t]=e[t])}),this}}class Hd extends Pn{constructor(e="stopped"){super(),this.name="StateTimeline",this._initial=e,this.setStateAtTime(this._initial,0)}getValueAtTime(e){const t=this.get(e);return t!==null?t.state:this._initial}setStateAtTime(e,t,s){return is(t,0),this.add(Object.assign({},s,{state:e,time:t})),this}getLastState(e,t){const s=this._search(t);for(let o=s;o>=0;o--){const l=this._timeline[o];if(l.state===e)return l}}getNextState(e,t){const s=this._search(t);if(s!==-1)for(let o=s;o<this._timeline.length;o++){const l=this._timeline[o];if(l.state===e)return l}}}class rt extends en{constructor(){const e=Ce(rt.getDefaults(),arguments,["param","units","convert"]);for(super(e),this.name="Param",this.overridden=!1,this._minOutput=1e-7,Te(Re(e.param)&&(Ws(e.param)||e.param instanceof rt),"param must be an AudioParam");!Ws(e.param);)e.param=e.param._param;this._swappable=Re(e.swappable)?e.swappable:!1,this._swappable?(this.input=this.context.createGain(),this._param=e.param,this.input.connect(this._param)):this._param=this.input=e.param,this._events=new Pn(1e3),this._initialValue=this._param.defaultValue,this.units=e.units,this.convert=e.convert,this._minValue=e.minValue,this._maxValue=e.maxValue,Re(e.value)&&e.value!==this._toType(this._initialValue)&&this.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(en.getDefaults(),{convert:!0,units:"number"})}get value(){const e=this.now();return this.getValueAtTime(e)}set value(e){this.cancelScheduledValues(this.now()),this.setValueAtTime(e,this.now())}get minValue(){return Re(this._minValue)?this._minValue:this.units==="time"||this.units==="frequency"||this.units==="normalRange"||this.units==="positive"||this.units==="transportTime"||this.units==="ticks"||this.units==="bpm"||this.units==="hertz"||this.units==="samples"?0:this.units==="audioRange"?-1:this.units==="decibels"?-1/0:this._param.minValue}get maxValue(){return Re(this._maxValue)?this._maxValue:this.units==="normalRange"||this.units==="audioRange"?1:this._param.maxValue}_is(e,t){return this.units===t}_assertRange(e){return Re(this.maxValue)&&Re(this.minValue)&&is(e,this._fromType(this.minValue),this._fromType(this.maxValue)),e}_fromType(e){return this.convert&&!this.overridden?this._is(e,"time")?this.toSeconds(e):this._is(e,"decibels")?WN(e):this._is(e,"frequency")?this.toFrequency(e):e:this.overridden?0:e}_toType(e){return this.convert&&this.units==="decibels"?zN(e):e}setValueAtTime(e,t){const s=this.toSeconds(t),o=this._fromType(e);return Te(isFinite(o)&&isFinite(s),`Invalid argument(s) to setValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(t)}`),this._assertRange(o),this.log(this.units,"setValueAtTime",e,s),this._events.add({time:s,type:"setValueAtTime",value:o}),this._param.setValueAtTime(o,s),this}getValueAtTime(e){const t=Math.max(this.toSeconds(e),0),s=this._events.getAfter(t),o=this._events.get(t);let l=this._initialValue;if(o===null)l=this._initialValue;else if(o.type==="setTargetAtTime"&&(s===null||s.type==="setValueAtTime")){const u=this._events.getBefore(o.time);let c;u===null?c=this._initialValue:c=u.value,o.type==="setTargetAtTime"&&(l=this._exponentialApproach(o.time,c,o.value,o.constant,t))}else if(s===null)l=o.value;else if(s.type==="linearRampToValueAtTime"||s.type==="exponentialRampToValueAtTime"){let u=o.value;if(o.type==="setTargetAtTime"){const c=this._events.getBefore(o.time);c===null?u=this._initialValue:u=c.value}s.type==="linearRampToValueAtTime"?l=this._linearInterpolate(o.time,u,s.time,s.value,t):l=this._exponentialInterpolate(o.time,u,s.time,s.value,t)}else l=o.value;return this._toType(l)}setRampPoint(e){e=this.toSeconds(e);let t=this.getValueAtTime(e);return this.cancelAndHoldAtTime(e),this._fromType(t)===0&&(t=this._toType(this._minOutput)),this.setValueAtTime(t,e),this}linearRampToValueAtTime(e,t){const s=this._fromType(e),o=this.toSeconds(t);return Te(isFinite(s)&&isFinite(o),`Invalid argument(s) to linearRampToValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(t)}`),this._assertRange(s),this._events.add({time:o,type:"linearRampToValueAtTime",value:s}),this.log(this.units,"linearRampToValueAtTime",e,o),this._param.linearRampToValueAtTime(s,o),this}exponentialRampToValueAtTime(e,t){let s=this._fromType(e);s=Wn(s,0)?this._minOutput:s,this._assertRange(s);const o=this.toSeconds(t);return Te(isFinite(s)&&isFinite(o),`Invalid argument(s) to exponentialRampToValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(t)}`),this._events.add({time:o,type:"exponentialRampToValueAtTime",value:s}),this.log(this.units,"exponentialRampToValueAtTime",e,o),this._param.exponentialRampToValueAtTime(s,o),this}exponentialRampTo(e,t,s){return s=this.toSeconds(s),this.setRampPoint(s),this.exponentialRampToValueAtTime(e,s+this.toSeconds(t)),this}linearRampTo(e,t,s){return s=this.toSeconds(s),this.setRampPoint(s),this.linearRampToValueAtTime(e,s+this.toSeconds(t)),this}targetRampTo(e,t,s){return s=this.toSeconds(s),this.setRampPoint(s),this.exponentialApproachValueAtTime(e,s,t),this}exponentialApproachValueAtTime(e,t,s){t=this.toSeconds(t),s=this.toSeconds(s);const o=Math.log(s+1)/Math.log(200);return this.setTargetAtTime(e,t,o),this.cancelAndHoldAtTime(t+s*.9),this.linearRampToValueAtTime(e,t+s),this}setTargetAtTime(e,t,s){const o=this._fromType(e);Te(isFinite(s)&&s>0,"timeConstant must be a number greater than 0");const l=this.toSeconds(t);return this._assertRange(o),Te(isFinite(o)&&isFinite(l),`Invalid argument(s) to setTargetAtTime: ${JSON.stringify(e)}, ${JSON.stringify(t)}`),this._events.add({constant:s,time:l,type:"setTargetAtTime",value:o}),this.log(this.units,"setTargetAtTime",e,l,s),this._param.setTargetAtTime(o,l,s),this}setValueCurveAtTime(e,t,s,o=1){s=this.toSeconds(s),t=this.toSeconds(t);const l=this._fromType(e[0])*o;this.setValueAtTime(this._toType(l),t);const u=s/(e.length-1);for(let c=1;c<e.length;c++){const d=this._fromType(e[c])*o;this.linearRampToValueAtTime(this._toType(d),t+c*u)}return this}cancelScheduledValues(e){const t=this.toSeconds(e);return Te(isFinite(t),`Invalid argument to cancelScheduledValues: ${JSON.stringify(e)}`),this._events.cancel(t),this._param.cancelScheduledValues(t),this.log(this.units,"cancelScheduledValues",t),this}cancelAndHoldAtTime(e){const t=this.toSeconds(e),s=this._fromType(this.getValueAtTime(t));Te(isFinite(t),`Invalid argument to cancelAndHoldAtTime: ${JSON.stringify(e)}`),this.log(this.units,"cancelAndHoldAtTime",t,"value="+s);const o=this._events.get(t),l=this._events.getAfter(t);return o&&Wn(o.time,t)?l?(this._param.cancelScheduledValues(l.time),this._events.cancel(l.time)):(this._param.cancelAndHoldAtTime(t),this._events.cancel(t+this.sampleTime)):l&&(this._param.cancelScheduledValues(l.time),this._events.cancel(l.time),l.type==="linearRampToValueAtTime"?this.linearRampToValueAtTime(this._toType(s),t):l.type==="exponentialRampToValueAtTime"&&this.exponentialRampToValueAtTime(this._toType(s),t)),this._events.add({time:t,type:"setValueAtTime",value:s}),this._param.setValueAtTime(s,t),this}rampTo(e,t=.1,s){return this.units==="frequency"||this.units==="bpm"||this.units==="decibels"?this.exponentialRampTo(e,t,s):this.linearRampTo(e,t,s),this}apply(e){const t=this.context.currentTime;e.setValueAtTime(this.getValueAtTime(t),t);const s=this._events.get(t);if(s&&s.type==="setTargetAtTime"){const o=this._events.getAfter(s.time),l=o?o.time:t+2,u=(l-t)/10;for(let c=t;c<l;c+=u)e.linearRampToValueAtTime(this.getValueAtTime(c),c)}return this._events.forEachAfter(this.context.currentTime,o=>{o.type==="cancelScheduledValues"?e.cancelScheduledValues(o.time):o.type==="setTargetAtTime"?e.setTargetAtTime(o.value,o.time,o.constant):e[o.type](o.value,o.time)}),this}setParam(e){Te(this._swappable,"The Param must be assigned as 'swappable' in the constructor");const t=this.input;return t.disconnect(this._param),this.apply(e),this._param=e,t.connect(this._param),this}dispose(){return super.dispose(),this._events.dispose(),this}get defaultValue(){return this._toType(this._param.defaultValue)}_exponentialApproach(e,t,s,o,l){return s+(t-s)*Math.exp(-(l-e)/o)}_linearInterpolate(e,t,s,o,l){return t+(o-t)*((l-e)/(s-e))}_exponentialInterpolate(e,t,s,o,l){return t*Math.pow(o/t,(l-e)/(s-e))}}class be extends en{constructor(){super(...arguments),this._internalChannels=[]}get numberOfInputs(){return Re(this.input)?Ws(this.input)||this.input instanceof rt?1:this.input.numberOfInputs:0}get numberOfOutputs(){return Re(this.output)?this.output.numberOfOutputs:0}_isAudioNode(e){return Re(e)&&(e instanceof be||rs(e))}_getInternalNodes(){const e=this._internalChannels.slice(0);return this._isAudioNode(this.input)&&e.push(this.input),this._isAudioNode(this.output)&&this.input!==this.output&&e.push(this.output),e}_setChannelProperties(e){this._getInternalNodes().forEach(s=>{s.channelCount=e.channelCount,s.channelCountMode=e.channelCountMode,s.channelInterpretation=e.channelInterpretation})}_getChannelProperties(){const e=this._getInternalNodes();Te(e.length>0,"ToneAudioNode does not have any internal nodes");const t=e[0];return{channelCount:t.channelCount,channelCountMode:t.channelCountMode,channelInterpretation:t.channelInterpretation}}get channelCount(){return this._getChannelProperties().channelCount}set channelCount(e){const t=this._getChannelProperties();this._setChannelProperties(Object.assign(t,{channelCount:e}))}get channelCountMode(){return this._getChannelProperties().channelCountMode}set channelCountMode(e){const t=this._getChannelProperties();this._setChannelProperties(Object.assign(t,{channelCountMode:e}))}get channelInterpretation(){return this._getChannelProperties().channelInterpretation}set channelInterpretation(e){const t=this._getChannelProperties();this._setChannelProperties(Object.assign(t,{channelInterpretation:e}))}connect(e,t=0,s=0){return zi(this,e,t,s),this}toDestination(){return this.connect(this.context.destination),this}toMaster(){return _u("toMaster() has been renamed toDestination()"),this.toDestination()}disconnect(e,t=0,s=0){return YN(this,e,t,s),this}chain(...e){return nd(this,...e),this}fan(...e){return e.forEach(t=>this.connect(t)),this}dispose(){return super.dispose(),Re(this.input)&&(this.input instanceof be?this.input.dispose():rs(this.input)&&this.input.disconnect()),Re(this.output)&&(this.output instanceof be?this.output.dispose():rs(this.output)&&this.output.disconnect()),this._internalChannels=[],this}}function nd(...n){const e=n.shift();n.reduce((t,s)=>(t instanceof be?t.connect(s):rs(t)&&zi(t,s),s),e)}function zi(n,e,t=0,s=0){for(Te(Re(n),"Cannot connect from undefined node"),Te(Re(e),"Cannot connect to undefined node"),(e instanceof be||rs(e))&&Te(e.numberOfInputs>0,"Cannot connect to node with no inputs"),Te(n.numberOfOutputs>0,"Cannot connect from node with no outputs");e instanceof be||e instanceof rt;)Re(e.input)&&(e=e.input);for(;n instanceof be;)Re(n.output)&&(n=n.output);Ws(e)?n.connect(e,t):n.connect(e,t,s)}function YN(n,e,t=0,s=0){if(Re(e))for(;e instanceof be;)e=e.input;for(;!rs(n);)Re(n.output)&&(n=n.output);Ws(e)?n.disconnect(e,t):rs(e)?n.disconnect(e,t,s):n.disconnect()}class Ft extends be{constructor(){const e=Ce(Ft.getDefaults(),arguments,["gain","units"]);super(e),this.name="Gain",this._gainNode=this.context.createGain(),this.input=this._gainNode,this.output=this._gainNode,this.gain=new rt({context:this.context,convert:e.convert,param:this._gainNode.gain,units:e.units,value:e.gain,minValue:e.minValue,maxValue:e.maxValue}),at(this,"gain")}static getDefaults(){return Object.assign(be.getDefaults(),{convert:!0,gain:1,units:"gain"})}dispose(){return super.dispose(),this._gainNode.disconnect(),this.gain.dispose(),this}}class Pi extends be{constructor(e){super(e),this.onended=Be,this._startTime=-1,this._stopTime=-1,this._timeout=-1,this.output=new Ft({context:this.context,gain:0}),this._gainNode=this.output,this.getStateAtTime=function(t){const s=this.toSeconds(t);return this._startTime!==-1&&s>=this._startTime&&(this._stopTime===-1||s<=this._stopTime)?"started":"stopped"},this._fadeIn=e.fadeIn,this._fadeOut=e.fadeOut,this._curve=e.curve,this.onended=e.onended}static getDefaults(){return Object.assign(be.getDefaults(),{curve:"linear",fadeIn:0,fadeOut:0,onended:Be})}_startGain(e,t=1){Te(this._startTime===-1,"Source cannot be started more than once");const s=this.toSeconds(this._fadeIn);return this._startTime=e+s,this._startTime=Math.max(this._startTime,this.context.currentTime),s>0?(this._gainNode.gain.setValueAtTime(0,e),this._curve==="linear"?this._gainNode.gain.linearRampToValueAtTime(t,e+s):this._gainNode.gain.exponentialApproachValueAtTime(t,e,s)):this._gainNode.gain.setValueAtTime(t,e),this}stop(e){return this.log("stop",e),this._stopGain(this.toSeconds(e)),this}_stopGain(e){Te(this._startTime!==-1,"'start' must be called before 'stop'"),this.cancelStop();const t=this.toSeconds(this._fadeOut);return this._stopTime=this.toSeconds(e)+t,this._stopTime=Math.max(this._stopTime,this.now()),t>0?this._curve==="linear"?this._gainNode.gain.linearRampTo(0,t,e):this._gainNode.gain.targetRampTo(0,t,e):(this._gainNode.gain.cancelAndHoldAtTime(e),this._gainNode.gain.setValueAtTime(0,e)),this.context.clearTimeout(this._timeout),this._timeout=this.context.setTimeout(()=>{const s=this._curve==="exponential"?t*2:0;this._stopSource(this.now()+s),this._onended()},this._stopTime-this.context.currentTime),this}_onended(){if(this.onended!==Be&&(this.onended(this),this.onended=Be,!this.context.isOffline)){const e=()=>this.dispose();typeof requestIdleCallback<"u"?requestIdleCallback(e):setTimeout(e,10)}}get state(){return this.getStateAtTime(this.now())}cancelStop(){return this.log("cancelStop"),Te(this._startTime!==-1,"Source is not started"),this._gainNode.gain.cancelScheduledValues(this._startTime+this.sampleTime),this.context.clearTimeout(this._timeout),this._stopTime=-1,this}dispose(){return super.dispose(),this._gainNode.dispose(),this.onended=Be,this}}class Gd extends Pi{constructor(){const e=Ce(Gd.getDefaults(),arguments,["offset"]);super(e),this.name="ToneConstantSource",this._source=this.context.createConstantSource(),zi(this._source,this._gainNode),this.offset=new rt({context:this.context,convert:e.convert,param:this._source.offset,units:e.units,value:e.offset,minValue:e.minValue,maxValue:e.maxValue})}static getDefaults(){return Object.assign(Pi.getDefaults(),{convert:!0,offset:1,units:"number"})}start(e){const t=this.toSeconds(e);return this.log("start",t),this._startGain(t),this._source.start(t),this}_stopSource(e){this._source.stop(e)}dispose(){return super.dispose(),this.state==="started"&&this.stop(),this._source.disconnect(),this.offset.dispose(),this}}class At extends be{constructor(){const e=Ce(At.getDefaults(),arguments,["value","units"]);super(e),this.name="Signal",this.override=!0,this.output=this._constantSource=new Gd({context:this.context,convert:e.convert,offset:e.value,units:e.units,minValue:e.minValue,maxValue:e.maxValue}),this._constantSource.start(0),this.input=this._param=this._constantSource.offset}static getDefaults(){return Object.assign(be.getDefaults(),{convert:!0,units:"number",value:0})}connect(e,t=0,s=0){return Yd(this,e,t,s),this}dispose(){return super.dispose(),this._param.dispose(),this._constantSource.dispose(),this}setValueAtTime(e,t){return this._param.setValueAtTime(e,t),this}getValueAtTime(e){return this._param.getValueAtTime(e)}setRampPoint(e){return this._param.setRampPoint(e),this}linearRampToValueAtTime(e,t){return this._param.linearRampToValueAtTime(e,t),this}exponentialRampToValueAtTime(e,t){return this._param.exponentialRampToValueAtTime(e,t),this}exponentialRampTo(e,t,s){return this._param.exponentialRampTo(e,t,s),this}linearRampTo(e,t,s){return this._param.linearRampTo(e,t,s),this}targetRampTo(e,t,s){return this._param.targetRampTo(e,t,s),this}exponentialApproachValueAtTime(e,t,s){return this._param.exponentialApproachValueAtTime(e,t,s),this}setTargetAtTime(e,t,s){return this._param.setTargetAtTime(e,t,s),this}setValueCurveAtTime(e,t,s,o){return this._param.setValueCurveAtTime(e,t,s,o),this}cancelScheduledValues(e){return this._param.cancelScheduledValues(e),this}cancelAndHoldAtTime(e){return this._param.cancelAndHoldAtTime(e),this}rampTo(e,t,s){return this._param.rampTo(e,t,s),this}get value(){return this._param.value}set value(e){this._param.value=e}get convert(){return this._param.convert}set convert(e){this._param.convert=e}get units(){return this._param.units}get overridden(){return this._param.overridden}set overridden(e){this._param.overridden=e}get maxValue(){return this._param.maxValue}get minValue(){return this._param.minValue}apply(e){return this._param.apply(e),this}}function Yd(n,e,t,s){(e instanceof rt||Ws(e)||e instanceof At&&e.override)&&(e.cancelScheduledValues(0),e.setValueAtTime(0,0),e instanceof At&&(e.overridden=!0)),zi(n,e,t,s)}class Xd extends rt{constructor(){const e=Ce(Xd.getDefaults(),arguments,["value"]);super(e),this.name="TickParam",this._events=new Pn(1/0),this._multiplier=1,this._multiplier=e.multiplier,this._events.cancel(0),this._events.add({ticks:0,time:0,type:"setValueAtTime",value:this._fromType(e.value)}),this.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(rt.getDefaults(),{multiplier:1,units:"hertz",value:1})}setTargetAtTime(e,t,s){t=this.toSeconds(t),this.setRampPoint(t);const o=this._fromType(e),l=this._events.get(t),u=Math.round(Math.max(1/s,1));for(let c=0;c<=u;c++){const d=s*c+t,f=this._exponentialApproach(l.time,l.value,o,s,d);this.linearRampToValueAtTime(this._toType(f),d)}return this}setValueAtTime(e,t){const s=this.toSeconds(t);super.setValueAtTime(e,t);const o=this._events.get(s),l=this._events.previousEvent(o),u=this._getTicksUntilEvent(l,s);return o.ticks=Math.max(u,0),this}linearRampToValueAtTime(e,t){const s=this.toSeconds(t);super.linearRampToValueAtTime(e,t);const o=this._events.get(s),l=this._events.previousEvent(o),u=this._getTicksUntilEvent(l,s);return o.ticks=Math.max(u,0),this}exponentialRampToValueAtTime(e,t){t=this.toSeconds(t);const s=this._fromType(e),o=this._events.get(t),l=Math.round(Math.max((t-o.time)*10,1)),u=(t-o.time)/l;for(let c=0;c<=l;c++){const d=u*c+o.time,f=this._exponentialInterpolate(o.time,o.value,t,s,d);this.linearRampToValueAtTime(this._toType(f),d)}return this}_getTicksUntilEvent(e,t){if(e===null)e={ticks:0,time:0,type:"setValueAtTime",value:0};else if(Nn(e.ticks)){const u=this._events.previousEvent(e);e.ticks=this._getTicksUntilEvent(u,e.time)}const s=this._fromType(this.getValueAtTime(e.time));let o=this._fromType(this.getValueAtTime(t));const l=this._events.get(t);return l&&l.time===t&&l.type==="setValueAtTime"&&(o=this._fromType(this.getValueAtTime(t-this.sampleTime))),.5*(t-e.time)*(s+o)+e.ticks}getTicksAtTime(e){const t=this.toSeconds(e),s=this._events.get(t);return Math.max(this._getTicksUntilEvent(s,t),0)}getDurationOfTicks(e,t){const s=this.toSeconds(t),o=this.getTicksAtTime(t);return this.getTimeOfTick(o+e)-s}getTimeOfTick(e){const t=this._events.get(e,"ticks"),s=this._events.getAfter(e,"ticks");if(t&&t.ticks===e)return t.time;if(t&&s&&s.type==="linearRampToValueAtTime"&&t.value!==s.value){const o=this._fromType(this.getValueAtTime(t.time)),u=(this._fromType(this.getValueAtTime(s.time))-o)/(s.time-t.time),c=Math.sqrt(Math.pow(o,2)-2*u*(t.ticks-e)),d=(-o+c)/u,f=(-o-c)/u;return(d>0?d:f)+t.time}else return t?t.value===0?1/0:t.time+(e-t.ticks)/t.value:e/this._initialValue}ticksToTime(e,t){return this.getDurationOfTicks(e,t)}timeToTicks(e,t){const s=this.toSeconds(t),o=this.toSeconds(e),l=this.getTicksAtTime(s);return this.getTicksAtTime(s+o)-l}_fromType(e){return this.units==="bpm"&&this.multiplier?1/(60/e/this.multiplier):super._fromType(e)}_toType(e){return this.units==="bpm"&&this.multiplier?e/this.multiplier*60:super._toType(e)}get multiplier(){return this._multiplier}set multiplier(e){const t=this.value;this._multiplier=e,this.cancelScheduledValues(0),this.setValueAtTime(t,0)}}class Qd extends At{constructor(){const e=Ce(Qd.getDefaults(),arguments,["value"]);super(e),this.name="TickSignal",this.input=this._param=new Xd({context:this.context,convert:e.convert,multiplier:e.multiplier,param:this._constantSource.offset,units:e.units,value:e.value})}static getDefaults(){return Object.assign(At.getDefaults(),{multiplier:1,units:"hertz",value:1})}ticksToTime(e,t){return this._param.ticksToTime(e,t)}timeToTicks(e,t){return this._param.timeToTicks(e,t)}getTimeOfTick(e){return this._param.getTimeOfTick(e)}getDurationOfTicks(e,t){return this._param.getDurationOfTicks(e,t)}getTicksAtTime(e){return this._param.getTicksAtTime(e)}get multiplier(){return this._param.multiplier}set multiplier(e){this._param.multiplier=e}dispose(){return super.dispose(),this._param.dispose(),this}}class Kd extends en{constructor(){const e=Ce(Kd.getDefaults(),arguments,["frequency"]);super(e),this.name="TickSource",this._state=new Hd,this._tickOffset=new Pn,this._ticksAtTime=new Pn,this._secondsAtTime=new Pn,this.frequency=new Qd({context:this.context,units:e.units,value:e.frequency}),at(this,"frequency"),this._state.setStateAtTime("stopped",0),this.setTicksAtTime(0,0)}static getDefaults(){return Object.assign({frequency:1,units:"hertz"},en.getDefaults())}get state(){return this.getStateAtTime(this.now())}start(e,t){const s=this.toSeconds(e);return this._state.getValueAtTime(s)!=="started"&&(this._state.setStateAtTime("started",s),Re(t)&&this.setTicksAtTime(t,s),this._ticksAtTime.cancel(s),this._secondsAtTime.cancel(s)),this}stop(e){const t=this.toSeconds(e);if(this._state.getValueAtTime(t)==="stopped"){const s=this._state.get(t);s&&s.time>0&&(this._tickOffset.cancel(s.time),this._state.cancel(s.time))}return this._state.cancel(t),this._state.setStateAtTime("stopped",t),this.setTicksAtTime(0,t),this._ticksAtTime.cancel(t),this._secondsAtTime.cancel(t),this}pause(e){const t=this.toSeconds(e);return this._state.getValueAtTime(t)==="started"&&(this._state.setStateAtTime("paused",t),this._ticksAtTime.cancel(t),this._secondsAtTime.cancel(t)),this}cancel(e){return e=this.toSeconds(e),this._state.cancel(e),this._tickOffset.cancel(e),this._ticksAtTime.cancel(e),this._secondsAtTime.cancel(e),this}getTicksAtTime(e){const t=this.toSeconds(e),s=this._state.getLastState("stopped",t),o=this._ticksAtTime.get(t),l={state:"paused",time:t};this._state.add(l);let u=o||s,c=o?o.ticks:0,d=null;return this._state.forEachBetween(u.time,t+this.sampleTime,f=>{let m=u.time;const g=this._tickOffset.get(f.time);g&&g.time>=u.time&&(c=g.ticks,m=g.time),u.state==="started"&&f.state!=="started"&&(c+=this.frequency.getTicksAtTime(f.time)-this.frequency.getTicksAtTime(m),f.time!==l.time&&(d={state:f.state,time:f.time,ticks:c})),u=f}),this._state.remove(l),d&&this._ticksAtTime.add(d),c}get ticks(){return this.getTicksAtTime(this.now())}set ticks(e){this.setTicksAtTime(e,this.now())}get seconds(){return this.getSecondsAtTime(this.now())}set seconds(e){const t=this.now(),s=this.frequency.timeToTicks(e,t);this.setTicksAtTime(s,t)}getSecondsAtTime(e){e=this.toSeconds(e);const t=this._state.getLastState("stopped",e),s={state:"paused",time:e};this._state.add(s);const o=this._secondsAtTime.get(e);let l=o||t,u=o?o.seconds:0,c=null;return this._state.forEachBetween(l.time,e+this.sampleTime,d=>{let f=l.time;const m=this._tickOffset.get(d.time);m&&m.time>=l.time&&(u=m.seconds,f=m.time),l.state==="started"&&d.state!=="started"&&(u+=d.time-f,d.time!==s.time&&(c={state:d.state,time:d.time,seconds:u})),l=d}),this._state.remove(s),c&&this._secondsAtTime.add(c),u}setTicksAtTime(e,t){return t=this.toSeconds(t),this._tickOffset.cancel(t),this._tickOffset.add({seconds:this.frequency.getDurationOfTicks(e,t),ticks:e,time:t}),this._ticksAtTime.cancel(t),this._secondsAtTime.cancel(t),this}getStateAtTime(e){return e=this.toSeconds(e),this._state.getValueAtTime(e)}getTimeOfTick(e,t=this.now()){const s=this._tickOffset.get(t),o=this._state.get(t),l=Math.max(s.time,o.time),u=this.frequency.getTicksAtTime(l)+e-s.ticks;return this.frequency.getTimeOfTick(u)}forEachTickBetween(e,t,s){let o=this._state.get(e);this._state.forEachBetween(e,t,u=>{o&&o.state==="started"&&u.state!=="started"&&this.forEachTickBetween(Math.max(o.time,e),u.time-this.sampleTime,s),o=u});let l=null;if(o&&o.state==="started"){const u=Math.max(o.time,e),c=this.frequency.getTicksAtTime(u),d=this.frequency.getTicksAtTime(o.time),f=c-d;let m=Math.ceil(f)-f;m=Wn(m,1)?0:m;let g=this.frequency.getTimeOfTick(c+m);for(;g<t;){try{s(g,Math.round(this.getTicksAtTime(g)))}catch(v){l=v;break}g+=this.frequency.getDurationOfTicks(1,g)}}if(l)throw l;return this}dispose(){return super.dispose(),this._state.dispose(),this._tickOffset.dispose(),this._ticksAtTime.dispose(),this._secondsAtTime.dispose(),this.frequency.dispose(),this}}class Tu extends en{constructor(){const e=Ce(Tu.getDefaults(),arguments,["callback","frequency"]);super(e),this.name="Clock",this.callback=Be,this._lastUpdate=0,this._state=new Hd("stopped"),this._boundLoop=this._loop.bind(this),this.callback=e.callback,this._tickSource=new Kd({context:this.context,frequency:e.frequency,units:e.units}),this._lastUpdate=0,this.frequency=this._tickSource.frequency,at(this,"frequency"),this._state.setStateAtTime("stopped",0),this.context.on("tick",this._boundLoop)}static getDefaults(){return Object.assign(en.getDefaults(),{callback:Be,frequency:1,units:"hertz"})}get state(){return this._state.getValueAtTime(this.now())}start(e,t){O0(this.context);const s=this.toSeconds(e);return this.log("start",s),this._state.getValueAtTime(s)!=="started"&&(this._state.setStateAtTime("started",s),this._tickSource.start(s,t),s<this._lastUpdate&&this.emit("start",s,t)),this}stop(e){const t=this.toSeconds(e);return this.log("stop",t),this._state.cancel(t),this._state.setStateAtTime("stopped",t),this._tickSource.stop(t),t<this._lastUpdate&&this.emit("stop",t),this}pause(e){const t=this.toSeconds(e);return this._state.getValueAtTime(t)==="started"&&(this._state.setStateAtTime("paused",t),this._tickSource.pause(t),t<this._lastUpdate&&this.emit("pause",t)),this}get ticks(){return Math.ceil(this.getTicksAtTime(this.now()))}set ticks(e){this._tickSource.ticks=e}get seconds(){return this._tickSource.seconds}set seconds(e){this._tickSource.seconds=e}getSecondsAtTime(e){return this._tickSource.getSecondsAtTime(e)}setTicksAtTime(e,t){return this._tickSource.setTicksAtTime(e,t),this}getTimeOfTick(e,t=this.now()){return this._tickSource.getTimeOfTick(e,t)}getTicksAtTime(e){return this._tickSource.getTicksAtTime(e)}nextTickTime(e,t){const s=this.toSeconds(t),o=this.getTicksAtTime(s);return this._tickSource.getTimeOfTick(o+e,s)}_loop(){const e=this._lastUpdate,t=this.now();this._lastUpdate=t,this.log("loop",e,t),e!==t&&(this._state.forEachBetween(e,t,s=>{switch(s.state){case"started":const o=this._tickSource.getTicksAtTime(s.time);this.emit("start",s.time,o);break;case"stopped":s.time!==0&&this.emit("stop",s.time);break;case"paused":this.emit("pause",s.time);break}}),this._tickSource.forEachTickBetween(e,t,(s,o)=>{this.callback(s,o)}))}getStateAtTime(e){const t=this.toSeconds(e);return this._state.getValueAtTime(t)}dispose(){return super.dispose(),this.context.off("tick",this._boundLoop),this._tickSource.dispose(),this._state.dispose(),this}}la.mixin(Tu);class $i extends be{constructor(){const e=Ce($i.getDefaults(),arguments,["volume"]);super(e),this.name="Volume",this.input=this.output=new Ft({context:this.context,gain:e.volume,units:"decibels"}),this.volume=this.output.gain,at(this,"volume"),this._unmutedVolume=e.volume,this.mute=e.mute}static getDefaults(){return Object.assign(be.getDefaults(),{mute:!1,volume:0})}get mute(){return this.volume.value===-1/0}set mute(e){!this.mute&&e?(this._unmutedVolume=this.volume.value,this.volume.value=-1/0):this.mute&&!e&&(this.volume.value=this._unmutedVolume)}dispose(){return super.dispose(),this.input.dispose(),this.volume.dispose(),this}}class Zd extends be{constructor(){const e=Ce(Zd.getDefaults(),arguments);super(e),this.name="Destination",this.input=new $i({context:this.context}),this.output=new Ft({context:this.context}),this.volume=this.input.volume,nd(this.input,this.output,this.context.rawContext.destination),this.mute=e.mute,this._internalChannels=[this.input,this.context.rawContext.destination,this.output]}static getDefaults(){return Object.assign(be.getDefaults(),{mute:!1,volume:0})}get mute(){return this.input.mute}set mute(e){this.input.mute=e}chain(...e){return this.input.disconnect(),e.unshift(this.input),e.push(this.output),nd(...e),this}get maxChannelCount(){return this.context.rawContext.destination.maxChannelCount}dispose(){return super.dispose(),this.volume.dispose(),this}}wu(n=>{n.destination=new Zd({context:n})});xu(n=>{n.destination.dispose()});class XN extends be{constructor(){super(...arguments),this.name="Listener",this.positionX=new rt({context:this.context,param:this.context.rawContext.listener.positionX}),this.positionY=new rt({context:this.context,param:this.context.rawContext.listener.positionY}),this.positionZ=new rt({context:this.context,param:this.context.rawContext.listener.positionZ}),this.forwardX=new rt({context:this.context,param:this.context.rawContext.listener.forwardX}),this.forwardY=new rt({context:this.context,param:this.context.rawContext.listener.forwardY}),this.forwardZ=new rt({context:this.context,param:this.context.rawContext.listener.forwardZ}),this.upX=new rt({context:this.context,param:this.context.rawContext.listener.upX}),this.upY=new rt({context:this.context,param:this.context.rawContext.listener.upY}),this.upZ=new rt({context:this.context,param:this.context.rawContext.listener.upZ})}static getDefaults(){return Object.assign(be.getDefaults(),{positionX:0,positionY:0,positionZ:0,forwardX:0,forwardY:0,forwardZ:-1,upX:0,upY:1,upZ:0})}dispose(){return super.dispose(),this.positionX.dispose(),this.positionY.dispose(),this.positionZ.dispose(),this.forwardX.dispose(),this.forwardY.dispose(),this.forwardZ.dispose(),this.upX.dispose(),this.upY.dispose(),this.upZ.dispose(),this}}wu(n=>{n.listener=new XN({context:n})});xu(n=>{n.listener.dispose()});class Jd extends Pr{constructor(){super(),this.name="ToneAudioBuffers",this._buffers=new Map,this._loadingCount=0;const e=Ce(Jd.getDefaults(),arguments,["urls","onload","baseUrl"],"urls");this.baseUrl=e.baseUrl,Object.keys(e.urls).forEach(t=>{this._loadingCount++;const s=e.urls[t];this.add(t,s,this._bufferLoaded.bind(this,e.onload),e.onerror)})}static getDefaults(){return{baseUrl:"",onerror:Be,onload:Be,urls:{}}}has(e){return this._buffers.has(e.toString())}get(e){return Te(this.has(e),`ToneAudioBuffers has no buffer named: ${e}`),this._buffers.get(e.toString())}_bufferLoaded(e){this._loadingCount--,this._loadingCount===0&&e&&e()}get loaded(){return Array.from(this._buffers).every(([e,t])=>t.loaded)}add(e,t,s=Be,o=Be){return Er(t)?(this.baseUrl&&t.trim().substring(0,11).toLowerCase()==="data:audio/"&&(this.baseUrl=""),this._buffers.set(e.toString(),new Xe(this.baseUrl+t,s,o))):this._buffers.set(e.toString(),new Xe(t,s,o)),this}dispose(){return super.dispose(),this._buffers.forEach(e=>e.dispose()),this._buffers.clear(),this}}class eu extends dn{constructor(){super(...arguments),this.name="MidiClass",this.defaultUnits="midi"}_frequencyToUnits(e){return Is(super._frequencyToUnits(e))}_ticksToUnits(e){return Is(super._ticksToUnits(e))}_beatsToUnits(e){return Is(super._beatsToUnits(e))}_secondsToUnits(e){return Is(super._secondsToUnits(e))}toMidi(){return this.valueOf()}toFrequency(){return $0(this.toMidi())}transpose(e){return new eu(this.context,this.toMidi()+e)}}class vi extends Fo{constructor(){super(...arguments),this.name="Ticks",this.defaultUnits="i"}_now(){return this.context.transport.ticks}_beatsToUnits(e){return this._getPPQ()*e}_secondsToUnits(e){return Math.floor(e/(60/this._getBpm())*this._getPPQ())}_ticksToUnits(e){return e}toTicks(){return this.valueOf()}toSeconds(){return this.valueOf()/this._getPPQ()*(60/this._getBpm())}}class QN extends en{constructor(){super(...arguments),this.name="Draw",this.expiration=.25,this.anticipation=.008,this._events=new Pn,this._boundDrawLoop=this._drawLoop.bind(this),this._animationFrame=-1}schedule(e,t){return this._events.add({callback:e,time:this.toSeconds(t)}),this._events.length===1&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop)),this}cancel(e){return this._events.cancel(this.toSeconds(e)),this}_drawLoop(){const e=this.context.currentTime;this._events.forEachBefore(e+this.anticipation,t=>{e-t.time<=this.expiration&&t.callback(),this._events.remove(t)}),this._events.length>0&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop))}dispose(){return super.dispose(),this._events.dispose(),cancelAnimationFrame(this._animationFrame),this}}wu(n=>{n.draw=new QN({context:n})});xu(n=>{n.draw.dispose()});class KN extends Pr{constructor(){super(...arguments),this.name="IntervalTimeline",this._root=null,this._length=0}add(e){Te(Re(e.time),"Events must have a time property"),Te(Re(e.duration),"Events must have a duration parameter"),e.time=e.time.valueOf();let t=new ZN(e.time,e.time+e.duration,e);for(this._root===null?this._root=t:this._root.insert(t),this._length++;t!==null;)t.updateHeight(),t.updateMax(),this._rebalance(t),t=t.parent;return this}remove(e){if(this._root!==null){const t=[];this._root.search(e.time,t);for(const s of t)if(s.event===e){this._removeNode(s),this._length--;break}}return this}get length(){return this._length}cancel(e){return this.forEachFrom(e,t=>this.remove(t)),this}_setRoot(e){this._root=e,this._root!==null&&(this._root.parent=null)}_replaceNodeInParent(e,t){e.parent!==null?(e.isLeftChild()?e.parent.left=t:e.parent.right=t,this._rebalance(e.parent)):this._setRoot(t)}_removeNode(e){if(e.left===null&&e.right===null)this._replaceNodeInParent(e,null);else if(e.right===null)this._replaceNodeInParent(e,e.left);else if(e.left===null)this._replaceNodeInParent(e,e.right);else{const t=e.getBalance();let s,o=null;if(t>0)if(e.left.right===null)s=e.left,s.right=e.right,o=s;else{for(s=e.left.right;s.right!==null;)s=s.right;s.parent&&(s.parent.right=s.left,o=s.parent,s.left=e.left,s.right=e.right)}else if(e.right.left===null)s=e.right,s.left=e.left,o=s;else{for(s=e.right.left;s.left!==null;)s=s.left;s.parent&&(s.parent.left=s.right,o=s.parent,s.left=e.left,s.right=e.right)}e.parent!==null?e.isLeftChild()?e.parent.left=s:e.parent.right=s:this._setRoot(s),o&&this._rebalance(o)}e.dispose()}_rotateLeft(e){const t=e.parent,s=e.isLeftChild(),o=e.right;o&&(e.right=o.left,o.left=e),t!==null?s?t.left=o:t.right=o:this._setRoot(o)}_rotateRight(e){const t=e.parent,s=e.isLeftChild(),o=e.left;o&&(e.left=o.right,o.right=e),t!==null?s?t.left=o:t.right=o:this._setRoot(o)}_rebalance(e){const t=e.getBalance();t>1&&e.left?e.left.getBalance()<0?this._rotateLeft(e.left):this._rotateRight(e):t<-1&&e.right&&(e.right.getBalance()>0?this._rotateRight(e.right):this._rotateLeft(e))}get(e){if(this._root!==null){const t=[];if(this._root.search(e,t),t.length>0){let s=t[0];for(let o=1;o<t.length;o++)t[o].low>s.low&&(s=t[o]);return s.event}}return null}forEach(e){if(this._root!==null){const t=[];this._root.traverse(s=>t.push(s)),t.forEach(s=>{s.event&&e(s.event)})}return this}forEachAtTime(e,t){if(this._root!==null){const s=[];this._root.search(e,s),s.forEach(o=>{o.event&&t(o.event)})}return this}forEachFrom(e,t){if(this._root!==null){const s=[];this._root.searchAfter(e,s),s.forEach(o=>{o.event&&t(o.event)})}return this}dispose(){return super.dispose(),this._root!==null&&this._root.traverse(e=>e.dispose()),this._root=null,this}}class ZN{constructor(e,t,s){this._left=null,this._right=null,this.parent=null,this.height=0,this.event=s,this.low=e,this.high=t,this.max=this.high}insert(e){e.low<=this.low?this.left===null?this.left=e:this.left.insert(e):this.right===null?this.right=e:this.right.insert(e)}search(e,t){e>this.max||(this.left!==null&&this.left.search(e,t),this.low<=e&&this.high>e&&t.push(this),!(this.low>e)&&this.right!==null&&this.right.search(e,t))}searchAfter(e,t){this.low>=e&&(t.push(this),this.left!==null&&this.left.searchAfter(e,t)),this.right!==null&&this.right.searchAfter(e,t)}traverse(e){e(this),this.left!==null&&this.left.traverse(e),this.right!==null&&this.right.traverse(e)}updateHeight(){this.left!==null&&this.right!==null?this.height=Math.max(this.left.height,this.right.height)+1:this.right!==null?this.height=this.right.height+1:this.left!==null?this.height=this.left.height+1:this.height=0}updateMax(){this.max=this.high,this.left!==null&&(this.max=Math.max(this.max,this.left.max)),this.right!==null&&(this.max=Math.max(this.max,this.right.max))}getBalance(){let e=0;return this.left!==null&&this.right!==null?e=this.left.height-this.right.height:this.left!==null?e=this.left.height+1:this.right!==null&&(e=-(this.right.height+1)),e}isLeftChild(){return this.parent!==null&&this.parent.left===this}get left(){return this._left}set left(e){this._left=e,e!==null&&(e.parent=this),this.updateHeight(),this.updateMax()}get right(){return this._right}set right(e){this._right=e,e!==null&&(e.parent=this),this.updateHeight(),this.updateMax()}dispose(){this.parent=null,this._left=null,this._right=null,this.event=null}}class JN extends Pr{constructor(e){super(),this.name="TimelineValue",this._timeline=new Pn({memory:10}),this._initialValue=e}set(e,t){return this._timeline.add({value:e,time:t}),this}get(e){const t=this._timeline.get(e);return t?t.value:this._initialValue}}class bi extends be{constructor(){super(Ce(bi.getDefaults(),arguments,["context"]))}connect(e,t=0,s=0){return Yd(this,e,t,s),this}}class ca extends bi{constructor(){const e=Ce(ca.getDefaults(),arguments,["mapping","length"]);super(e),this.name="WaveShaper",this._shaper=this.context.createWaveShaper(),this.input=this._shaper,this.output=this._shaper,fn(e.mapping)||e.mapping instanceof Float32Array?this.curve=Float32Array.from(e.mapping):TN(e.mapping)&&this.setMap(e.mapping,e.length)}static getDefaults(){return Object.assign(At.getDefaults(),{length:1024})}setMap(e,t=1024){const s=new Float32Array(t);for(let o=0,l=t;o<l;o++){const u=o/(l-1)*2-1;s[o]=e(u,o)}return this.curve=s,this}get curve(){return this._shaper.curve}set curve(e){this._shaper.curve=e}get oversample(){return this._shaper.oversample}set oversample(e){const t=["none","2x","4x"].some(s=>s.includes(e));Te(t,"oversampling must be either 'none', '2x', or '4x'"),this._shaper.oversample=e}dispose(){return super.dispose(),this._shaper.disconnect(),this}}class ef extends bi{constructor(){const e=Ce(ef.getDefaults(),arguments,["value"]);super(e),this.name="Pow",this._exponentScaler=this.input=this.output=new ca({context:this.context,mapping:this._expFunc(e.value),length:8192}),this._exponent=e.value}static getDefaults(){return Object.assign(bi.getDefaults(),{value:1})}_expFunc(e){return t=>Math.pow(Math.abs(t),e)}get value(){return this._exponent}set value(e){this._exponent=e,this._exponentScaler.setMap(this._expFunc(this._exponent))}dispose(){return super.dispose(),this._exponentScaler.dispose(),this}}class os{constructor(e,t){this.id=os._eventId++,this._remainderTime=0;const s=Object.assign(os.getDefaults(),t);this.transport=e,this.callback=s.callback,this._once=s.once,this.time=Math.floor(s.time),this._remainderTime=s.time-this.time}static getDefaults(){return{callback:Be,once:!1,time:0}}get floatTime(){return this.time+this._remainderTime}invoke(e){if(this.callback){const t=this.transport.bpm.getDurationOfTicks(1,e);this.callback(e+this._remainderTime*t),this._once&&this.transport.clear(this.id)}}dispose(){return this.callback=void 0,this}}os._eventId=0;class tf extends os{constructor(e,t){super(e,t),this._currentId=-1,this._nextId=-1,this._nextTick=this.time,this._boundRestart=this._restart.bind(this);const s=Object.assign(tf.getDefaults(),t);this.duration=s.duration,this._interval=s.interval,this._nextTick=s.time,this.transport.on("start",this._boundRestart),this.transport.on("loopStart",this._boundRestart),this.transport.on("ticks",this._boundRestart),this.context=this.transport.context,this._restart()}static getDefaults(){return Object.assign({},os.getDefaults(),{duration:1/0,interval:1,once:!1})}invoke(e){this._createEvents(e),super.invoke(e)}_createEvent(){return Jl(this._nextTick,this.floatTime+this.duration)?this.transport.scheduleOnce(this.invoke.bind(this),new vi(this.context,this._nextTick).toSeconds()):-1}_createEvents(e){Jl(this._nextTick+this._interval,this.floatTime+this.duration)&&(this._nextTick+=this._interval,this._currentId=this._nextId,this._nextId=this.transport.scheduleOnce(this.invoke.bind(this),new vi(this.context,this._nextTick).toSeconds()))}_restart(e){this.transport.clear(this._currentId),this.transport.clear(this._nextId),this._nextTick=this.floatTime;const t=this.transport.getTicksAtTime(e);Ni(t,this.time)&&(this._nextTick=this.floatTime+Math.ceil((t-this.floatTime)/this._interval)*this._interval),this._currentId=this._createEvent(),this._nextTick+=this._interval,this._nextId=this._createEvent()}dispose(){return super.dispose(),this.transport.clear(this._currentId),this.transport.clear(this._nextId),this.transport.off("start",this._boundRestart),this.transport.off("loopStart",this._boundRestart),this.transport.off("ticks",this._boundRestart),this}}class Cu extends en{constructor(){const e=Ce(Cu.getDefaults(),arguments);super(e),this.name="Transport",this._loop=new JN(!1),this._loopStart=0,this._loopEnd=0,this._scheduledEvents={},this._timeline=new Pn,this._repeatedEvents=new KN,this._syncedSignals=[],this._swingAmount=0,this._ppq=e.ppq,this._clock=new Tu({callback:this._processTick.bind(this),context:this.context,frequency:0,units:"bpm"}),this._bindClockEvents(),this.bpm=this._clock.frequency,this._clock.frequency.multiplier=e.ppq,this.bpm.setValueAtTime(e.bpm,0),at(this,"bpm"),this._timeSignature=e.timeSignature,this._swingTicks=e.ppq/2}static getDefaults(){return Object.assign(en.getDefaults(),{bpm:120,loopEnd:"4m",loopStart:0,ppq:192,swing:0,swingSubdivision:"8n",timeSignature:4})}_processTick(e,t){if(this._loop.get(e)&&t>=this._loopEnd&&(this.emit("loopEnd",e),this._clock.setTicksAtTime(this._loopStart,e),t=this._loopStart,this.emit("loopStart",e,this._clock.getSecondsAtTime(e)),this.emit("loop",e)),this._swingAmount>0&&t%this._ppq!==0&&t%(this._swingTicks*2)!==0){const s=t%(this._swingTicks*2)/(this._swingTicks*2),o=Math.sin(s*Math.PI)*this._swingAmount;e+=new vi(this.context,this._swingTicks*2/3).toSeconds()*o}Zg(!0),this._timeline.forEachAtTime(t,s=>s.invoke(e)),Zg(!1)}schedule(e,t){const s=new os(this,{callback:e,time:new Fo(this.context,t).toTicks()});return this._addEvent(s,this._timeline)}scheduleRepeat(e,t,s,o=1/0){const l=new tf(this,{callback:e,duration:new zn(this.context,o).toTicks(),interval:new zn(this.context,t).toTicks(),time:new Fo(this.context,s).toTicks()});return this._addEvent(l,this._repeatedEvents)}scheduleOnce(e,t){const s=new os(this,{callback:e,once:!0,time:new Fo(this.context,t).toTicks()});return this._addEvent(s,this._timeline)}clear(e){if(this._scheduledEvents.hasOwnProperty(e)){const t=this._scheduledEvents[e.toString()];t.timeline.remove(t.event),t.event.dispose(),delete this._scheduledEvents[e.toString()]}return this}_addEvent(e,t){return this._scheduledEvents[e.id.toString()]={event:e,timeline:t},t.add(e),e.id}cancel(e=0){const t=this.toTicks(e);return this._timeline.forEachFrom(t,s=>this.clear(s.id)),this._repeatedEvents.forEachFrom(t,s=>this.clear(s.id)),this}_bindClockEvents(){this._clock.on("start",(e,t)=>{t=new vi(this.context,t).toSeconds(),this.emit("start",e,t)}),this._clock.on("stop",e=>{this.emit("stop",e)}),this._clock.on("pause",e=>{this.emit("pause",e)})}get state(){return this._clock.getStateAtTime(this.now())}start(e,t){this.context.resume();let s;return Re(t)&&(s=this.toTicks(t)),this._clock.start(e,s),this}stop(e){return this._clock.stop(e),this}pause(e){return this._clock.pause(e),this}toggle(e){return e=this.toSeconds(e),this._clock.getStateAtTime(e)!=="started"?this.start(e):this.stop(e),this}get timeSignature(){return this._timeSignature}set timeSignature(e){fn(e)&&(e=e[0]/e[1]*4),this._timeSignature=e}get loopStart(){return new zn(this.context,this._loopStart,"i").toSeconds()}set loopStart(e){this._loopStart=this.toTicks(e)}get loopEnd(){return new zn(this.context,this._loopEnd,"i").toSeconds()}set loopEnd(e){this._loopEnd=this.toTicks(e)}get loop(){return this._loop.get(this.now())}set loop(e){this._loop.set(e,this.now())}setLoopPoints(e,t){return this.loopStart=e,this.loopEnd=t,this}get swing(){return this._swingAmount}set swing(e){this._swingAmount=e}get swingSubdivision(){return new vi(this.context,this._swingTicks).toNotation()}set swingSubdivision(e){this._swingTicks=this.toTicks(e)}get position(){const e=this.now(),t=this._clock.getTicksAtTime(e);return new vi(this.context,t).toBarsBeatsSixteenths()}set position(e){const t=this.toTicks(e);this.ticks=t}get seconds(){return this._clock.seconds}set seconds(e){const t=this.now(),s=this._clock.frequency.timeToTicks(e,t);this.ticks=s}get progress(){if(this.loop){const e=this.now();return(this._clock.getTicksAtTime(e)-this._loopStart)/(this._loopEnd-this._loopStart)}else return 0}get ticks(){return this._clock.ticks}set ticks(e){if(this._clock.ticks!==e){const t=this.now();if(this.state==="started"){const s=this._clock.getTicksAtTime(t),o=this._clock.frequency.getDurationOfTicks(Math.ceil(s)-s,t),l=t+o;this.emit("stop",l),this._clock.setTicksAtTime(e,l),this.emit("start",l,this._clock.getSecondsAtTime(l))}else this.emit("ticks",t),this._clock.setTicksAtTime(e,t)}}getTicksAtTime(e){return this._clock.getTicksAtTime(e)}getSecondsAtTime(e){return this._clock.getSecondsAtTime(e)}get PPQ(){return this._clock.frequency.multiplier}set PPQ(e){this._clock.frequency.multiplier=e}nextSubdivision(e){if(e=this.toTicks(e),this.state!=="started")return 0;{const t=this.now(),s=this.getTicksAtTime(t),o=e-s%e;return this._clock.nextTickTime(o,t)}}syncSignal(e,t){const s=this.now();let o=this.bpm,l=1/(60/o.getValueAtTime(s)/this.PPQ),u=[];if(e.units==="time"){const d=.015625/l,f=new Ft(d),m=new ef(-1),g=new Ft(d);o.chain(f,m,g),o=g,l=1/l,u=[f,m,g]}t||(e.getValueAtTime(s)!==0?t=e.getValueAtTime(s)/l:t=0);const c=new Ft(t);return o.connect(c),c.connect(e._param),u.push(c),this._syncedSignals.push({initial:e.value,nodes:u,signal:e}),e.value=0,this}unsyncSignal(e){for(let t=this._syncedSignals.length-1;t>=0;t--){const s=this._syncedSignals[t];s.signal===e&&(s.nodes.forEach(o=>o.dispose()),s.signal.value=s.initial,this._syncedSignals.splice(t,1))}return this}dispose(){return super.dispose(),this._clock.dispose(),B0(this,"bpm"),this._timeline.dispose(),this._repeatedEvents.dispose(),this}}la.mixin(Cu);wu(n=>{n.transport=new Cu({context:n})});xu(n=>{n.transport.dispose()});class pn extends be{constructor(e){super(e),this.input=void 0,this._state=new Hd("stopped"),this._synced=!1,this._scheduled=[],this._syncedStart=Be,this._syncedStop=Be,this._state.memory=100,this._state.increasing=!0,this._volume=this.output=new $i({context:this.context,mute:e.mute,volume:e.volume}),this.volume=this._volume.volume,at(this,"volume"),this.onstop=e.onstop}static getDefaults(){return Object.assign(be.getDefaults(),{mute:!1,onstop:Be,volume:0})}get state(){return this._synced?this.context.transport.state==="started"?this._state.getValueAtTime(this.context.transport.seconds):"stopped":this._state.getValueAtTime(this.now())}get mute(){return this._volume.mute}set mute(e){this._volume.mute=e}_clampToCurrentTime(e){return this._synced?e:Math.max(e,this.context.currentTime)}start(e,t,s){let o=Nn(e)&&this._synced?this.context.transport.seconds:this.toSeconds(e);if(o=this._clampToCurrentTime(o),!this._synced&&this._state.getValueAtTime(o)==="started")Te(Ni(o,this._state.get(o).time),"Start time must be strictly greater than previous start time"),this._state.cancel(o),this._state.setStateAtTime("started",o),this.log("restart",o),this.restart(o,t,s);else if(this.log("start",o),this._state.setStateAtTime("started",o),this._synced){const l=this._state.get(o);l&&(l.offset=this.toSeconds(ki(t,0)),l.duration=s?this.toSeconds(s):void 0);const u=this.context.transport.schedule(c=>{this._start(c,t,s)},o);this._scheduled.push(u),this.context.transport.state==="started"&&this.context.transport.getSecondsAtTime(this.immediate())>o&&this._syncedStart(this.now(),this.context.transport.seconds)}else O0(this.context),this._start(o,t,s);return this}stop(e){let t=Nn(e)&&this._synced?this.context.transport.seconds:this.toSeconds(e);if(t=this._clampToCurrentTime(t),this._state.getValueAtTime(t)==="started"||Re(this._state.getNextState("started",t))){if(this.log("stop",t),!this._synced)this._stop(t);else{const s=this.context.transport.schedule(this._stop.bind(this),t);this._scheduled.push(s)}this._state.cancel(t),this._state.setStateAtTime("stopped",t)}return this}restart(e,t,s){return e=this.toSeconds(e),this._state.getValueAtTime(e)==="started"&&(this._state.cancel(e),this._restart(e,t,s)),this}sync(){return this._synced||(this._synced=!0,this._syncedStart=(e,t)=>{if(Ni(t,0)){const s=this._state.get(t);if(s&&s.state==="started"&&s.time!==t){const o=t-this.toSeconds(s.time);let l;s.duration&&(l=this.toSeconds(s.duration)-o),this._start(e,this.toSeconds(s.offset)+o,l)}}},this._syncedStop=e=>{const t=this.context.transport.getSecondsAtTime(Math.max(e-this.sampleTime,0));this._state.getValueAtTime(t)==="started"&&this._stop(e)},this.context.transport.on("start",this._syncedStart),this.context.transport.on("loopStart",this._syncedStart),this.context.transport.on("stop",this._syncedStop),this.context.transport.on("pause",this._syncedStop),this.context.transport.on("loopEnd",this._syncedStop)),this}unsync(){return this._synced&&(this.context.transport.off("stop",this._syncedStop),this.context.transport.off("pause",this._syncedStop),this.context.transport.off("loopEnd",this._syncedStop),this.context.transport.off("start",this._syncedStart),this.context.transport.off("loopStart",this._syncedStart)),this._synced=!1,this._scheduled.forEach(e=>this.context.transport.clear(e)),this._scheduled=[],this._state.cancel(0),this._stop(0),this}dispose(){return super.dispose(),this.onstop=Be,this.unsync(),this._volume.dispose(),this._state.dispose(),this}}class ku extends Pi{constructor(){const e=Ce(ku.getDefaults(),arguments,["url","onload"]);super(e),this.name="ToneBufferSource",this._source=this.context.createBufferSource(),this._internalChannels=[this._source],this._sourceStarted=!1,this._sourceStopped=!1,zi(this._source,this._gainNode),this._source.onended=()=>this._stopSource(),this.playbackRate=new rt({context:this.context,param:this._source.playbackRate,units:"positive",value:e.playbackRate}),this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this._buffer=new Xe(e.url,e.onload,e.onerror),this._internalChannels.push(this._source)}static getDefaults(){return Object.assign(Pi.getDefaults(),{url:new Xe,loop:!1,loopEnd:0,loopStart:0,onload:Be,onerror:Be,playbackRate:1})}get fadeIn(){return this._fadeIn}set fadeIn(e){this._fadeIn=e}get fadeOut(){return this._fadeOut}set fadeOut(e){this._fadeOut=e}get curve(){return this._curve}set curve(e){this._curve=e}start(e,t,s,o=1){Te(this.buffer.loaded,"buffer is either not set or not loaded");const l=this.toSeconds(e);this._startGain(l,o),this.loop?t=ki(t,this.loopStart):t=ki(t,0);let u=Math.max(this.toSeconds(t),0);if(this.loop){const c=this.toSeconds(this.loopEnd)||this.buffer.duration,d=this.toSeconds(this.loopStart),f=c-d;td(u,c)&&(u=(u-d)%f+d),Wn(u,this.buffer.duration)&&(u=0)}if(this._source.buffer=this.buffer.get(),this._source.loopEnd=this.toSeconds(this.loopEnd)||this.buffer.duration,Jl(u,this.buffer.duration)&&(this._sourceStarted=!0,this._source.start(l,u)),Re(s)){let c=this.toSeconds(s);c=Math.max(c,0),this.stop(l+c)}return this}_stopSource(e){!this._sourceStopped&&this._sourceStarted&&(this._sourceStopped=!0,this._source.stop(this.toSeconds(e)),this._onended())}get loopStart(){return this._source.loopStart}set loopStart(e){this._source.loopStart=this.toSeconds(e)}get loopEnd(){return this._source.loopEnd}set loopEnd(e){this._source.loopEnd=this.toSeconds(e)}get buffer(){return this._buffer}set buffer(e){this._buffer.set(e)}get loop(){return this._source.loop}set loop(e){this._source.loop=e,this._sourceStarted&&this.cancelStop()}dispose(){return super.dispose(),this._source.onended=null,this._source.disconnect(),this._buffer.dispose(),this.playbackRate.dispose(),this}}function Hs(n,e){return _t(this,void 0,void 0,function*(){const t=e/n.context.sampleRate,s=new $d(1,t,n.context.sampleRate);return new n.constructor(Object.assign(n.get(),{frequency:2/t,detune:0,context:s})).toDestination().start(0),(yield s.render()).getChannelData(0)})}class nf extends Pi{constructor(){const e=Ce(nf.getDefaults(),arguments,["frequency","type"]);super(e),this.name="ToneOscillatorNode",this._oscillator=this.context.createOscillator(),this._internalChannels=[this._oscillator],zi(this._oscillator,this._gainNode),this.type=e.type,this.frequency=new rt({context:this.context,param:this._oscillator.frequency,units:"frequency",value:e.frequency}),this.detune=new rt({context:this.context,param:this._oscillator.detune,units:"cents",value:e.detune}),at(this,["frequency","detune"])}static getDefaults(){return Object.assign(Pi.getDefaults(),{detune:0,frequency:440,type:"sine"})}start(e){const t=this.toSeconds(e);return this.log("start",t),this._startGain(t),this._oscillator.start(t),this}_stopSource(e){this._oscillator.stop(e)}setPeriodicWave(e){return this._oscillator.setPeriodicWave(e),this}get type(){return this._oscillator.type}set type(e){this._oscillator.type=e}dispose(){return super.dispose(),this.state==="started"&&this.stop(),this._oscillator.disconnect(),this.frequency.dispose(),this.detune.dispose(),this}}class yt extends pn{constructor(){const e=Ce(yt.getDefaults(),arguments,["frequency","type"]);super(e),this.name="Oscillator",this._oscillator=null,this.frequency=new At({context:this.context,units:"frequency",value:e.frequency}),at(this,"frequency"),this.detune=new At({context:this.context,units:"cents",value:e.detune}),at(this,"detune"),this._partials=e.partials,this._partialCount=e.partialCount,this._type=e.type,e.partialCount&&e.type!=="custom"&&(this._type=this.baseType+e.partialCount.toString()),this.phase=e.phase}static getDefaults(){return Object.assign(pn.getDefaults(),{detune:0,frequency:440,partialCount:0,partials:[],phase:0,type:"sine"})}_start(e){const t=this.toSeconds(e),s=new nf({context:this.context,onended:()=>this.onstop(this)});this._oscillator=s,this._wave?this._oscillator.setPeriodicWave(this._wave):this._oscillator.type=this._type,this._oscillator.connect(this.output),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.start(t)}_stop(e){const t=this.toSeconds(e);this._oscillator&&this._oscillator.stop(t)}_restart(e){const t=this.toSeconds(e);return this.log("restart",t),this._oscillator&&this._oscillator.cancelStop(),this._state.cancel(t),this}syncFrequency(){return this.context.transport.syncSignal(this.frequency),this}unsyncFrequency(){return this.context.transport.unsyncSignal(this.frequency),this}_getCachedPeriodicWave(){if(this._type==="custom")return yt._periodicWaveCache.find(t=>t.phase===this._phase&&ON(t.partials,this._partials));{const e=yt._periodicWaveCache.find(t=>t.type===this._type&&t.phase===this._phase);return this._partialCount=e?e.partialCount:this._partialCount,e}}get type(){return this._type}set type(e){this._type=e;const t=["sine","square","sawtooth","triangle"].indexOf(e)!==-1;if(this._phase===0&&t)this._wave=void 0,this._partialCount=0,this._oscillator!==null&&(this._oscillator.type=e);else{const s=this._getCachedPeriodicWave();if(Re(s)){const{partials:o,wave:l}=s;this._wave=l,this._partials=o,this._oscillator!==null&&this._oscillator.setPeriodicWave(this._wave)}else{const[o,l]=this._getRealImaginary(e,this._phase),u=this.context.createPeriodicWave(o,l);this._wave=u,this._oscillator!==null&&this._oscillator.setPeriodicWave(this._wave),yt._periodicWaveCache.push({imag:l,partialCount:this._partialCount,partials:this._partials,phase:this._phase,real:o,type:this._type,wave:this._wave}),yt._periodicWaveCache.length>100&&yt._periodicWaveCache.shift()}}}get baseType(){return this._type.replace(this.partialCount.toString(),"")}set baseType(e){this.partialCount&&this._type!=="custom"&&e!=="custom"?this.type=e+this.partialCount:this.type=e}get partialCount(){return this._partialCount}set partialCount(e){is(e,0);let t=this._type;const s=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(this._type);if(s&&(t=s[1]),this._type!=="custom")e===0?this.type=t:this.type=t+e.toString();else{const o=new Float32Array(e);this._partials.forEach((l,u)=>o[u]=l),this._partials=Array.from(o),this.type=this._type}}_getRealImaginary(e,t){let o=2048;const l=new Float32Array(o),u=new Float32Array(o);let c=1;if(e==="custom"){if(c=this._partials.length+1,this._partialCount=this._partials.length,o=c,this._partials.length===0)return[l,u]}else{const d=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(e);d?(c=parseInt(d[2],10)+1,this._partialCount=parseInt(d[2],10),e=d[1],c=Math.max(c,2),o=c):this._partialCount=0,this._partials=[]}for(let d=1;d<o;++d){const f=2/(d*Math.PI);let m;switch(e){case"sine":m=d<=c?1:0,this._partials[d-1]=m;break;case"square":m=d&1?2*f:0,this._partials[d-1]=m;break;case"sawtooth":m=f*(d&1?1:-1),this._partials[d-1]=m;break;case"triangle":d&1?m=2*(f*f)*(d-1>>1&1?-1:1):m=0,this._partials[d-1]=m;break;case"custom":m=this._partials[d-1];break;default:throw new TypeError("Oscillator: invalid type: "+e)}m!==0?(l[d]=-m*Math.sin(t*d),u[d]=m*Math.cos(t*d)):(l[d]=0,u[d]=0)}return[l,u]}_inverseFFT(e,t,s){let o=0;const l=e.length;for(let u=0;u<l;u++)o+=e[u]*Math.cos(u*s)+t[u]*Math.sin(u*s);return o}getInitialValue(){const[e,t]=this._getRealImaginary(this._type,0);let s=0;const o=Math.PI*2,l=32;for(let u=0;u<l;u++)s=Math.max(this._inverseFFT(e,t,u/l*o),s);return VN(-this._inverseFFT(e,t,this._phase)/s,-1,1)}get partials(){return this._partials.slice(0,this.partialCount)}set partials(e){this._partials=e,this._partialCount=this._partials.length,e.length&&(this.type="custom")}get phase(){return this._phase*(180/Math.PI)}set phase(e){this._phase=e*Math.PI/180,this.type=this._type}asArray(){return _t(this,arguments,void 0,function*(e=1024){return Hs(this,e)})}dispose(){return super.dispose(),this._oscillator!==null&&this._oscillator.dispose(),this._wave=void 0,this.frequency.dispose(),this.detune.dispose(),this}}yt._periodicWaveCache=[];class eP extends bi{constructor(){super(...arguments),this.name="AudioToGain",this._norm=new ca({context:this.context,mapping:e=>(e+1)/2}),this.input=this._norm,this.output=this._norm}dispose(){return super.dispose(),this._norm.dispose(),this}}class Ri extends At{constructor(){const e=Ce(Ri.getDefaults(),arguments,["value"]);super(e),this.name="Multiply",this.override=!1,this._mult=this.input=this.output=new Ft({context:this.context,minValue:e.minValue,maxValue:e.maxValue}),this.factor=this._param=this._mult.gain,this.factor.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(At.getDefaults(),{value:0})}dispose(){return super.dispose(),this._mult.dispose(),this}}class Eu extends pn{constructor(){const e=Ce(Eu.getDefaults(),arguments,["frequency","type","modulationType"]);super(e),this.name="AMOscillator",this._modulationScale=new eP({context:this.context}),this._modulationNode=new Ft({context:this.context}),this._carrier=new yt({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase,type:e.type}),this.frequency=this._carrier.frequency,this.detune=this._carrier.detune,this._modulator=new yt({context:this.context,phase:e.phase,type:e.modulationType}),this.harmonicity=new Ri({context:this.context,units:"positive",value:e.harmonicity}),this.frequency.chain(this.harmonicity,this._modulator.frequency),this._modulator.chain(this._modulationScale,this._modulationNode.gain),this._carrier.chain(this._modulationNode,this.output),at(this,["frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(yt.getDefaults(),{harmonicity:1,modulationType:"square"})}_start(e){this._modulator.start(e),this._carrier.start(e)}_stop(e){this._modulator.stop(e),this._carrier.stop(e)}_restart(e){this._modulator.restart(e),this._carrier.restart(e)}get type(){return this._carrier.type}set type(e){this._carrier.type=e}get baseType(){return this._carrier.baseType}set baseType(e){this._carrier.baseType=e}get partialCount(){return this._carrier.partialCount}set partialCount(e){this._carrier.partialCount=e}get modulationType(){return this._modulator.type}set modulationType(e){this._modulator.type=e}get phase(){return this._carrier.phase}set phase(e){this._carrier.phase=e,this._modulator.phase=e}get partials(){return this._carrier.partials}set partials(e){this._carrier.partials=e}asArray(){return _t(this,arguments,void 0,function*(e=1024){return Hs(this,e)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this._modulationScale.dispose(),this}}class Au extends pn{constructor(){const e=Ce(Au.getDefaults(),arguments,["frequency","type","modulationType"]);super(e),this.name="FMOscillator",this._modulationNode=new Ft({context:this.context,gain:0}),this._carrier=new yt({context:this.context,detune:e.detune,frequency:0,onstop:()=>this.onstop(this),phase:e.phase,type:e.type}),this.detune=this._carrier.detune,this.frequency=new At({context:this.context,units:"frequency",value:e.frequency}),this._modulator=new yt({context:this.context,phase:e.phase,type:e.modulationType}),this.harmonicity=new Ri({context:this.context,units:"positive",value:e.harmonicity}),this.modulationIndex=new Ri({context:this.context,units:"positive",value:e.modulationIndex}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.frequency.chain(this.modulationIndex,this._modulationNode),this._modulator.connect(this._modulationNode.gain),this._modulationNode.connect(this._carrier.frequency),this._carrier.connect(this.output),this.detune.connect(this._modulator.detune),at(this,["modulationIndex","frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(yt.getDefaults(),{harmonicity:1,modulationIndex:2,modulationType:"square"})}_start(e){this._modulator.start(e),this._carrier.start(e)}_stop(e){this._modulator.stop(e),this._carrier.stop(e)}_restart(e){return this._modulator.restart(e),this._carrier.restart(e),this}get type(){return this._carrier.type}set type(e){this._carrier.type=e}get baseType(){return this._carrier.baseType}set baseType(e){this._carrier.baseType=e}get partialCount(){return this._carrier.partialCount}set partialCount(e){this._carrier.partialCount=e}get modulationType(){return this._modulator.type}set modulationType(e){this._modulator.type=e}get phase(){return this._carrier.phase}set phase(e){this._carrier.phase=e,this._modulator.phase=e}get partials(){return this._carrier.partials}set partials(e){this._carrier.partials=e}asArray(){return _t(this,arguments,void 0,function*(e=1024){return Hs(this,e)})}dispose(){return super.dispose(),this.frequency.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this.modulationIndex.dispose(),this}}class ha extends pn{constructor(){const e=Ce(ha.getDefaults(),arguments,["frequency","width"]);super(e),this.name="PulseOscillator",this._widthGate=new Ft({context:this.context,gain:0}),this._thresh=new ca({context:this.context,mapping:t=>t<=0?-1:1}),this.width=new At({context:this.context,units:"audioRange",value:e.width}),this._triangle=new yt({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase,type:"triangle"}),this.frequency=this._triangle.frequency,this.detune=this._triangle.detune,this._triangle.chain(this._thresh,this.output),this.width.chain(this._widthGate,this._thresh),at(this,["width","frequency","detune"])}static getDefaults(){return Object.assign(pn.getDefaults(),{detune:0,frequency:440,phase:0,type:"pulse",width:.2})}_start(e){e=this.toSeconds(e),this._triangle.start(e),this._widthGate.gain.setValueAtTime(1,e)}_stop(e){e=this.toSeconds(e),this._triangle.stop(e),this._widthGate.gain.cancelScheduledValues(e),this._widthGate.gain.setValueAtTime(0,e)}_restart(e){this._triangle.restart(e),this._widthGate.gain.cancelScheduledValues(e),this._widthGate.gain.setValueAtTime(1,e)}get phase(){return this._triangle.phase}set phase(e){this._triangle.phase=e}get type(){return"pulse"}get baseType(){return"pulse"}get partials(){return[]}get partialCount(){return 0}set carrierType(e){this._triangle.type=e}asArray(){return _t(this,arguments,void 0,function*(e=1024){return Hs(this,e)})}dispose(){return super.dispose(),this._triangle.dispose(),this.width.dispose(),this._widthGate.dispose(),this._thresh.dispose(),this}}class Nu extends pn{constructor(){const e=Ce(Nu.getDefaults(),arguments,["frequency","type","spread"]);super(e),this.name="FatOscillator",this._oscillators=[],this.frequency=new At({context:this.context,units:"frequency",value:e.frequency}),this.detune=new At({context:this.context,units:"cents",value:e.detune}),this._spread=e.spread,this._type=e.type,this._phase=e.phase,this._partials=e.partials,this._partialCount=e.partialCount,this.count=e.count,at(this,["frequency","detune"])}static getDefaults(){return Object.assign(yt.getDefaults(),{count:3,spread:20,type:"sawtooth"})}_start(e){e=this.toSeconds(e),this._forEach(t=>t.start(e))}_stop(e){e=this.toSeconds(e),this._forEach(t=>t.stop(e))}_restart(e){this._forEach(t=>t.restart(e))}_forEach(e){for(let t=0;t<this._oscillators.length;t++)e(this._oscillators[t],t)}get type(){return this._type}set type(e){this._type=e,this._forEach(t=>t.type=e)}get spread(){return this._spread}set spread(e){if(this._spread=e,this._oscillators.length>1){const t=-e/2,s=e/(this._oscillators.length-1);this._forEach((o,l)=>o.detune.value=t+s*l)}}get count(){return this._oscillators.length}set count(e){if(is(e,1),this._oscillators.length!==e){this._forEach(t=>t.dispose()),this._oscillators=[];for(let t=0;t<e;t++){const s=new yt({context:this.context,volume:-6-e*1.1,type:this._type,phase:this._phase+t/e*360,partialCount:this._partialCount,onstop:t===0?()=>this.onstop(this):Be});this.type==="custom"&&(s.partials=this._partials),this.frequency.connect(s.frequency),this.detune.connect(s.detune),s.detune.overridden=!1,s.connect(this.output),this._oscillators[t]=s}this.spread=this._spread,this.state==="started"&&this._forEach(t=>t.start())}}get phase(){return this._phase}set phase(e){this._phase=e,this._forEach((t,s)=>t.phase=this._phase+s/this.count*360)}get baseType(){return this._oscillators[0].baseType}set baseType(e){this._forEach(t=>t.baseType=e),this._type=this._oscillators[0].type}get partials(){return this._oscillators[0].partials}set partials(e){this._partials=e,this._partialCount=this._partials.length,e.length&&(this._type="custom",this._forEach(t=>t.partials=e))}get partialCount(){return this._oscillators[0].partialCount}set partialCount(e){this._partialCount=e,this._forEach(t=>t.partialCount=e),this._type=this._oscillators[0].type}asArray(){return _t(this,arguments,void 0,function*(e=1024){return Hs(this,e)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this._forEach(e=>e.dispose()),this}}class Pu extends pn{constructor(){const e=Ce(Pu.getDefaults(),arguments,["frequency","modulationFrequency"]);super(e),this.name="PWMOscillator",this.sourceType="pwm",this._scale=new Ri({context:this.context,value:2}),this._pulse=new ha({context:this.context,frequency:e.modulationFrequency}),this._pulse.carrierType="sine",this.modulationFrequency=this._pulse.frequency,this._modulator=new yt({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase}),this.frequency=this._modulator.frequency,this.detune=this._modulator.detune,this._modulator.chain(this._scale,this._pulse.width),this._pulse.connect(this.output),at(this,["modulationFrequency","frequency","detune"])}static getDefaults(){return Object.assign(pn.getDefaults(),{detune:0,frequency:440,modulationFrequency:.4,phase:0,type:"pwm"})}_start(e){e=this.toSeconds(e),this._modulator.start(e),this._pulse.start(e)}_stop(e){e=this.toSeconds(e),this._modulator.stop(e),this._pulse.stop(e)}_restart(e){this._modulator.restart(e),this._pulse.restart(e)}get type(){return"pwm"}get baseType(){return"pwm"}get partials(){return[]}get partialCount(){return 0}get phase(){return this._modulator.phase}set phase(e){this._modulator.phase=e}asArray(){return _t(this,arguments,void 0,function*(e=1024){return Hs(this,e)})}dispose(){return super.dispose(),this._pulse.dispose(),this._scale.dispose(),this._modulator.dispose(),this}}const Jg={am:Eu,fat:Nu,fm:Au,oscillator:yt,pulse:ha,pwm:Pu};class tu extends pn{constructor(){const e=Ce(tu.getDefaults(),arguments,["frequency","type"]);super(e),this.name="OmniOscillator",this.frequency=new At({context:this.context,units:"frequency",value:e.frequency}),this.detune=new At({context:this.context,units:"cents",value:e.detune}),at(this,["frequency","detune"]),this.set(e)}static getDefaults(){return Object.assign(yt.getDefaults(),Au.getDefaults(),Eu.getDefaults(),Nu.getDefaults(),ha.getDefaults(),Pu.getDefaults())}_start(e){this._oscillator.start(e)}_stop(e){this._oscillator.stop(e)}_restart(e){return this._oscillator.restart(e),this}get type(){let e="";return["am","fm","fat"].some(t=>this._sourceType===t)&&(e=this._sourceType),e+this._oscillator.type}set type(e){e.substr(0,2)==="fm"?(this._createNewOscillator("fm"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(2)):e.substr(0,2)==="am"?(this._createNewOscillator("am"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(2)):e.substr(0,3)==="fat"?(this._createNewOscillator("fat"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(3)):e==="pwm"?(this._createNewOscillator("pwm"),this._oscillator=this._oscillator):e==="pulse"?this._createNewOscillator("pulse"):(this._createNewOscillator("oscillator"),this._oscillator=this._oscillator,this._oscillator.type=e)}get partials(){return this._oscillator.partials}set partials(e){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&(this._oscillator.partials=e)}get partialCount(){return this._oscillator.partialCount}set partialCount(e){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&(this._oscillator.partialCount=e)}set(e){return Reflect.has(e,"type")&&e.type&&(this.type=e.type),super.set(e),this}_createNewOscillator(e){if(e!==this._sourceType){this._sourceType=e;const t=Jg[e],s=this.now();if(this._oscillator){const o=this._oscillator;o.stop(s),this.context.setTimeout(()=>o.dispose(),this.blockTime)}this._oscillator=new t({context:this.context}),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.connect(this.output),this._oscillator.onstop=()=>this.onstop(this),this.state==="started"&&this._oscillator.start(s)}}get phase(){return this._oscillator.phase}set phase(e){this._oscillator.phase=e}get sourceType(){return this._sourceType}set sourceType(e){let t="sine";this._oscillator.type!=="pwm"&&this._oscillator.type!=="pulse"&&(t=this._oscillator.type),e==="fm"?this.type="fm"+t:e==="am"?this.type="am"+t:e==="fat"?this.type="fat"+t:e==="oscillator"?this.type=t:e==="pulse"?this.type="pulse":e==="pwm"&&(this.type="pwm")}_getOscType(e,t){return e instanceof Jg[t]}get baseType(){return this._oscillator.baseType}set baseType(e){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&e!=="pulse"&&e!=="pwm"&&(this._oscillator.baseType=e)}get width(){if(this._getOscType(this._oscillator,"pulse"))return this._oscillator.width}get count(){if(this._getOscType(this._oscillator,"fat"))return this._oscillator.count}set count(e){this._getOscType(this._oscillator,"fat")&&ss(e)&&(this._oscillator.count=e)}get spread(){if(this._getOscType(this._oscillator,"fat"))return this._oscillator.spread}set spread(e){this._getOscType(this._oscillator,"fat")&&ss(e)&&(this._oscillator.spread=e)}get modulationType(){if(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))return this._oscillator.modulationType}set modulationType(e){(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))&&Er(e)&&(this._oscillator.modulationType=e)}get modulationIndex(){if(this._getOscType(this._oscillator,"fm"))return this._oscillator.modulationIndex}get harmonicity(){if(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))return this._oscillator.harmonicity}get modulationFrequency(){if(this._getOscType(this._oscillator,"pwm"))return this._oscillator.modulationFrequency}asArray(){return _t(this,arguments,void 0,function*(e=1024){return Hs(this,e)})}dispose(){return super.dispose(),this.detune.dispose(),this.frequency.dispose(),this._oscillator.dispose(),this}}function q0(n,e=1/0){const t=new WeakMap;return function(s,o){Reflect.defineProperty(s,o,{configurable:!0,enumerable:!0,get:function(){return t.get(this)},set:function(l){is(l,n,e),t.set(this,l)}})}}function br(n,e=1/0){const t=new WeakMap;return function(s,o){Reflect.defineProperty(s,o,{configurable:!0,enumerable:!0,get:function(){return t.get(this)},set:function(l){is(this.toSeconds(l),n,e),t.set(this,l)}})}}class bu extends pn{constructor(){const e=Ce(bu.getDefaults(),arguments,["url","onload"]);super(e),this.name="Player",this._activeSources=new Set,this._buffer=new Xe({onload:this._onload.bind(this,e.onload),onerror:e.onerror,reverse:e.reverse,url:e.url}),this.autostart=e.autostart,this._loop=e.loop,this._loopStart=e.loopStart,this._loopEnd=e.loopEnd,this._playbackRate=e.playbackRate,this.fadeIn=e.fadeIn,this.fadeOut=e.fadeOut}static getDefaults(){return Object.assign(pn.getDefaults(),{autostart:!1,fadeIn:0,fadeOut:0,loop:!1,loopEnd:0,loopStart:0,onload:Be,onerror:Be,playbackRate:1,reverse:!1})}load(e){return _t(this,void 0,void 0,function*(){return yield this._buffer.load(e),this._onload(),this})}_onload(e=Be){e(),this.autostart&&this.start()}_onSourceEnd(e){this.onstop(this),this._activeSources.delete(e),this._activeSources.size===0&&!this._synced&&this._state.getValueAtTime(this.now())==="started"&&(this._state.cancel(this.now()),this._state.setStateAtTime("stopped",this.now()))}start(e,t,s){return super.start(e,t,s),this}_start(e,t,s){this._loop?t=ki(t,this._loopStart):t=ki(t,0);const o=this.toSeconds(t),l=s;s=ki(s,Math.max(this._buffer.duration-o,0));let u=this.toSeconds(s);u=u/this._playbackRate,e=this.toSeconds(e);const c=new ku({url:this._buffer,context:this.context,fadeIn:this.fadeIn,fadeOut:this.fadeOut,loop:this._loop,loopEnd:this._loopEnd,loopStart:this._loopStart,onended:this._onSourceEnd.bind(this),playbackRate:this._playbackRate}).connect(this.output);!this._loop&&!this._synced&&(this._state.cancel(e+u),this._state.setStateAtTime("stopped",e+u,{implicitEnd:!0})),this._activeSources.add(c),this._loop&&Nn(l)?c.start(e,o):c.start(e,o,u-this.toSeconds(this.fadeOut))}_stop(e){const t=this.toSeconds(e);this._activeSources.forEach(s=>s.stop(t))}restart(e,t,s){return super.restart(e,t,s),this}_restart(e,t,s){var o;(o=[...this._activeSources].pop())===null||o===void 0||o.stop(e),this._start(e,t,s)}seek(e,t){const s=this.toSeconds(t);if(this._state.getValueAtTime(s)==="started"){const o=this.toSeconds(e);this._stop(s),this._start(s,o)}return this}setLoopPoints(e,t){return this.loopStart=e,this.loopEnd=t,this}get loopStart(){return this._loopStart}set loopStart(e){this._loopStart=e,this.buffer.loaded&&is(this.toSeconds(e),0,this.buffer.duration),this._activeSources.forEach(t=>{t.loopStart=e})}get loopEnd(){return this._loopEnd}set loopEnd(e){this._loopEnd=e,this.buffer.loaded&&is(this.toSeconds(e),0,this.buffer.duration),this._activeSources.forEach(t=>{t.loopEnd=e})}get buffer(){return this._buffer}set buffer(e){this._buffer.set(e)}get loop(){return this._loop}set loop(e){if(this._loop!==e&&(this._loop=e,this._activeSources.forEach(t=>{t.loop=e}),e)){const t=this._state.getNextState("stopped",this.now());t&&this._state.cancel(t.time)}}get playbackRate(){return this._playbackRate}set playbackRate(e){this._playbackRate=e;const t=this.now(),s=this._state.getNextState("stopped",t);s&&s.implicitEnd&&(this._state.cancel(s.time),this._activeSources.forEach(o=>o.cancelStop())),this._activeSources.forEach(o=>{o.playbackRate.setValueAtTime(e,t)})}get reverse(){return this._buffer.reverse}set reverse(e){this._buffer.reverse=e}get loaded(){return this._buffer.loaded}dispose(){return super.dispose(),this._activeSources.forEach(e=>e.dispose()),this._activeSources.clear(),this._buffer.dispose(),this}}Yn([br(0)],bu.prototype,"fadeIn",void 0);Yn([br(0)],bu.prototype,"fadeOut",void 0);class ps extends be{constructor(){const e=Ce(ps.getDefaults(),arguments,["attack","decay","sustain","release"]);super(e),this.name="Envelope",this._sig=new At({context:this.context,value:0}),this.output=this._sig,this.input=void 0,this.attack=e.attack,this.decay=e.decay,this.sustain=e.sustain,this.release=e.release,this.attackCurve=e.attackCurve,this.releaseCurve=e.releaseCurve,this.decayCurve=e.decayCurve}static getDefaults(){return Object.assign(be.getDefaults(),{attack:.01,attackCurve:"linear",decay:.1,decayCurve:"exponential",release:1,releaseCurve:"exponential",sustain:.5})}get value(){return this.getValueAtTime(this.now())}_getCurve(e,t){if(Er(e))return e;{let s;for(s in Rl)if(Rl[s][t]===e)return s;return e}}_setCurve(e,t,s){if(Er(s)&&Reflect.has(Rl,s)){const o=Rl[s];Fs(o)?e!=="_decayCurve"&&(this[e]=o[t]):this[e]=o}else if(fn(s)&&e!=="_decayCurve")this[e]=s;else throw new Error("Envelope: invalid curve: "+s)}get attackCurve(){return this._getCurve(this._attackCurve,"In")}set attackCurve(e){this._setCurve("_attackCurve","In",e)}get releaseCurve(){return this._getCurve(this._releaseCurve,"Out")}set releaseCurve(e){this._setCurve("_releaseCurve","Out",e)}get decayCurve(){return this._getCurve(this._decayCurve,"Out")}set decayCurve(e){this._setCurve("_decayCurve","Out",e)}triggerAttack(e,t=1){this.log("triggerAttack",e,t),e=this.toSeconds(e);let o=this.toSeconds(this.attack);const l=this.toSeconds(this.decay),u=this.getValueAtTime(e);if(u>0){const c=1/o;o=(1-u)/c}if(o<this.sampleTime)this._sig.cancelScheduledValues(e),this._sig.setValueAtTime(t,e);else if(this._attackCurve==="linear")this._sig.linearRampTo(t,o,e);else if(this._attackCurve==="exponential")this._sig.targetRampTo(t,o,e);else{this._sig.cancelAndHoldAtTime(e);let c=this._attackCurve;for(let d=1;d<c.length;d++)if(c[d-1]<=u&&u<=c[d]){c=this._attackCurve.slice(d),c[0]=u;break}this._sig.setValueCurveAtTime(c,e,o,t)}if(l&&this.sustain<1){const c=t*this.sustain,d=e+o;this.log("decay",d),this._decayCurve==="linear"?this._sig.linearRampToValueAtTime(c,l+d):this._sig.exponentialApproachValueAtTime(c,d,l)}return this}triggerRelease(e){this.log("triggerRelease",e),e=this.toSeconds(e);const t=this.getValueAtTime(e);if(t>0){const s=this.toSeconds(this.release);s<this.sampleTime?this._sig.setValueAtTime(0,e):this._releaseCurve==="linear"?this._sig.linearRampTo(0,s,e):this._releaseCurve==="exponential"?this._sig.targetRampTo(0,s,e):(Te(fn(this._releaseCurve),"releaseCurve must be either 'linear', 'exponential' or an array"),this._sig.cancelAndHoldAtTime(e),this._sig.setValueCurveAtTime(this._releaseCurve,e,s,t))}return this}getValueAtTime(e){return this._sig.getValueAtTime(e)}triggerAttackRelease(e,t,s=1){return t=this.toSeconds(t),this.triggerAttack(t,s),this.triggerRelease(t+this.toSeconds(e)),this}cancel(e){return this._sig.cancelScheduledValues(this.toSeconds(e)),this}connect(e,t=0,s=0){return Yd(this,e,t,s),this}asArray(){return _t(this,arguments,void 0,function*(e=1024){const t=e/this.context.sampleRate,s=new $d(1,t,this.context.sampleRate),o=this.toSeconds(this.attack)+this.toSeconds(this.decay),l=o+this.toSeconds(this.release),u=l*.1,c=l+u,d=new this.constructor(Object.assign(this.get(),{attack:t*this.toSeconds(this.attack)/c,decay:t*this.toSeconds(this.decay)/c,release:t*this.toSeconds(this.release)/c,context:s}));return d._sig.toDestination(),d.triggerAttackRelease(t*(o+u)/c,0),(yield s.render()).getChannelData(0)})}dispose(){return super.dispose(),this._sig.dispose(),this}}Yn([br(0)],ps.prototype,"attack",void 0);Yn([br(0)],ps.prototype,"decay",void 0);Yn([q0(0,1)],ps.prototype,"sustain",void 0);Yn([br(0)],ps.prototype,"release",void 0);const Rl=(()=>{let e,t;const s=[];for(e=0;e<128;e++)s[e]=Math.sin(e/127*(Math.PI/2));const o=[],l=6.4;for(e=0;e<127;e++){t=e/127;const v=Math.sin(t*(Math.PI*2)*l-Math.PI/2)+1;o[e]=v/10+t*.83}o[127]=1;const u=[],c=5;for(e=0;e<128;e++)u[e]=Math.ceil(e/127*c)/c;const d=[];for(e=0;e<128;e++)t=e/127,d[e]=.5*(1-Math.cos(Math.PI*t));const f=[];for(e=0;e<128;e++){t=e/127;const v=Math.pow(t,3)*4+.2,_=Math.cos(v*Math.PI*2*t);f[e]=Math.abs(_*(1-t))}function m(v){const _=new Array(v.length);for(let w=0;w<v.length;w++)_[w]=1-v[w];return _}function g(v){return v.slice(0).reverse()}return{bounce:{In:m(f),Out:f},cosine:{In:s,Out:g(s)},exponential:"exponential",linear:"linear",ripple:{In:o,Out:m(o)},sine:{In:d,Out:m(d)},step:{In:u,Out:m(u)}}})();class as extends be{constructor(){const e=Ce(as.getDefaults(),arguments);super(e),this._scheduledEvents=[],this._synced=!1,this._original_triggerAttack=this.triggerAttack,this._original_triggerRelease=this.triggerRelease,this._syncedRelease=t=>this._original_triggerRelease(t),this._volume=this.output=new $i({context:this.context,volume:e.volume}),this.volume=this._volume.volume,at(this,"volume")}static getDefaults(){return Object.assign(be.getDefaults(),{volume:0})}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",0),this.context.transport.on("stop",this._syncedRelease),this.context.transport.on("pause",this._syncedRelease),this.context.transport.on("loopEnd",this._syncedRelease)),this}_syncState(){let e=!1;return this._synced||(this._synced=!0,e=!0),e}_syncMethod(e,t){const s=this["_original_"+e]=this[e];this[e]=(...o)=>{const l=o[t],u=this.context.transport.schedule(c=>{o[t]=c,s.apply(this,o)},l);this._scheduledEvents.push(u)}}unsync(){return this._scheduledEvents.forEach(e=>this.context.transport.clear(e)),this._scheduledEvents=[],this._synced&&(this._synced=!1,this.triggerAttack=this._original_triggerAttack,this.triggerRelease=this._original_triggerRelease,this.context.transport.off("stop",this._syncedRelease),this.context.transport.off("pause",this._syncedRelease),this.context.transport.off("loopEnd",this._syncedRelease)),this}triggerAttackRelease(e,t,s,o){const l=this.toSeconds(s),u=this.toSeconds(t);return this.triggerAttack(e,l,o),this.triggerRelease(l+u),this}dispose(){return super.dispose(),this._volume.dispose(),this.unsync(),this._scheduledEvents=[],this}}class zs extends as{constructor(){const e=Ce(zs.getDefaults(),arguments);super(e),this.portamento=e.portamento,this.onsilence=e.onsilence}static getDefaults(){return Object.assign(as.getDefaults(),{detune:0,onsilence:Be,portamento:0})}triggerAttack(e,t,s=1){this.log("triggerAttack",e,t,s);const o=this.toSeconds(t);return this._triggerEnvelopeAttack(o,s),this.setNote(e,o),this}triggerRelease(e){this.log("triggerRelease",e);const t=this.toSeconds(e);return this._triggerEnvelopeRelease(t),this}setNote(e,t){const s=this.toSeconds(t),o=e instanceof dn?e.toFrequency():e;if(this.portamento>0&&this.getLevelAtTime(s)>.05){const l=this.toSeconds(this.portamento);this.frequency.exponentialRampTo(o,l,s)}else this.frequency.setValueAtTime(o,s);return this}}Yn([br(0)],zs.prototype,"portamento",void 0);class rf extends ps{constructor(){super(Ce(rf.getDefaults(),arguments,["attack","decay","sustain","release"])),this.name="AmplitudeEnvelope",this._gainNode=new Ft({context:this.context,gain:0}),this.output=this._gainNode,this.input=this._gainNode,this._sig.connect(this._gainNode.gain),this.output=this._gainNode,this.input=this._gainNode}dispose(){return super.dispose(),this._gainNode.dispose(),this}}class Mi extends zs{constructor(){const e=Ce(Mi.getDefaults(),arguments);super(e),this.name="Synth",this.oscillator=new tu(Object.assign({context:this.context,detune:e.detune,onstop:()=>this.onsilence(this)},e.oscillator)),this.frequency=this.oscillator.frequency,this.detune=this.oscillator.detune,this.envelope=new rf(Object.assign({context:this.context},e.envelope)),this.oscillator.chain(this.envelope,this.output),at(this,["oscillator","frequency","detune","envelope"])}static getDefaults(){return Object.assign(zs.getDefaults(),{envelope:Object.assign(ed(ps.getDefaults(),Object.keys(be.getDefaults())),{attack:.005,decay:.1,release:1,sustain:.3}),oscillator:Object.assign(ed(tu.getDefaults(),[...Object.keys(pn.getDefaults()),"frequency","detune"]),{type:"triangle"})})}_triggerEnvelopeAttack(e,t){if(this.envelope.triggerAttack(e,t),this.oscillator.start(e),this.envelope.sustain===0){const s=this.toSeconds(this.envelope.attack),o=this.toSeconds(this.envelope.decay);this.oscillator.stop(e+s+o)}}_triggerEnvelopeRelease(e){this.envelope.triggerRelease(e),this.oscillator.stop(e+this.toSeconds(this.envelope.release))}getLevelAtTime(e){return e=this.toSeconds(e),this.envelope.getValueAtTime(e)}dispose(){return super.dispose(),this.oscillator.dispose(),this.envelope.dispose(),this}}class da extends Mi{constructor(){const e=Ce(da.getDefaults(),arguments);super(e),this.name="MembraneSynth",this.portamento=0,this.pitchDecay=e.pitchDecay,this.octaves=e.octaves,at(this,["oscillator","envelope"])}static getDefaults(){return Ls(zs.getDefaults(),Mi.getDefaults(),{envelope:{attack:.001,attackCurve:"exponential",decay:.4,release:1.4,sustain:.01},octaves:10,oscillator:{type:"sine"},pitchDecay:.05})}setNote(e,t){const s=this.toSeconds(t),o=this.toFrequency(e instanceof dn?e.toFrequency():e),l=o*this.octaves;return this.oscillator.frequency.setValueAtTime(l,s),this.oscillator.frequency.exponentialRampToValueAtTime(o,s+this.toSeconds(this.pitchDecay)),this}dispose(){return super.dispose(),this}}Yn([q0(0)],da.prototype,"octaves",void 0);Yn([br(0)],da.prototype,"pitchDecay",void 0);const H0=new Set;function sf(n){H0.add(n)}function G0(n,e){const t=`registerProcessor("${n}", ${e})`;H0.add(t)}const tP=`
	/**
	 * The base AudioWorkletProcessor for use in Tone.js. Works with the {@link ToneAudioWorklet}. 
	 */
	class ToneAudioWorkletProcessor extends AudioWorkletProcessor {

		constructor(options) {
			
			super(options);
			/**
			 * If the processor was disposed or not. Keep alive until it's disposed.
			 */
			this.disposed = false;
		   	/** 
			 * The number of samples in the processing block
			 */
			this.blockSize = 128;
			/**
			 * the sample rate
			 */
			this.sampleRate = sampleRate;

			this.port.onmessage = (event) => {
				// when it receives a dispose 
				if (event.data === "dispose") {
					this.disposed = true;
				}
			};
		}
	}
`;sf(tP);const nP=`
	/**
	 * Abstract class for a single input/output processor. 
	 * has a 'generate' function which processes one sample at a time
	 */
	class SingleIOProcessor extends ToneAudioWorkletProcessor {

		constructor(options) {
			super(Object.assign(options, {
				numberOfInputs: 1,
				numberOfOutputs: 1
			}));
			/**
			 * Holds the name of the parameter and a single value of that
			 * parameter at the current sample
			 * @type { [name: string]: number }
			 */
			this.params = {}
		}

		/**
		 * Generate an output sample from the input sample and parameters
		 * @abstract
		 * @param input number
		 * @param channel number
		 * @param parameters { [name: string]: number }
		 * @returns number
		 */
		generate(){}

		/**
		 * Update the private params object with the 
		 * values of the parameters at the given index
		 * @param parameters { [name: string]: Float32Array },
		 * @param index number
		 */
		updateParams(parameters, index) {
			for (const paramName in parameters) {
				const param = parameters[paramName];
				if (param.length > 1) {
					this.params[paramName] = parameters[paramName][index];
				} else {
					this.params[paramName] = parameters[paramName][0];
				}
			}
		}

		/**
		 * Process a single frame of the audio
		 * @param inputs Float32Array[][]
		 * @param outputs Float32Array[][]
		 */
		process(inputs, outputs, parameters) {
			const input = inputs[0];
			const output = outputs[0];
			// get the parameter values
			const channelCount = Math.max(input && input.length || 0, output.length);
			for (let sample = 0; sample < this.blockSize; sample++) {
				this.updateParams(parameters, sample);
				for (let channel = 0; channel < channelCount; channel++) {
					const inputSample = input && input.length ? input[channel][sample] : 0;
					output[channel][sample] = this.generate(inputSample, channel, this.params);
				}
			}
			return !this.disposed;
		}
	};
`;sf(nP);const rP=`
	/**
	 * A multichannel buffer for use within an AudioWorkletProcessor as a delay line
	 */
	class DelayLine {
		
		constructor(size, channels) {
			this.buffer = [];
			this.writeHead = []
			this.size = size;

			// create the empty channels
			for (let i = 0; i < channels; i++) {
				this.buffer[i] = new Float32Array(this.size);
				this.writeHead[i] = 0;
			}
		}

		/**
		 * Push a value onto the end
		 * @param channel number
		 * @param value number
		 */
		push(channel, value) {
			this.writeHead[channel] += 1;
			if (this.writeHead[channel] > this.size) {
				this.writeHead[channel] = 0;
			}
			this.buffer[channel][this.writeHead[channel]] = value;
		}

		/**
		 * Get the recorded value of the channel given the delay
		 * @param channel number
		 * @param delay number delay samples
		 */
		get(channel, delay) {
			let readHead = this.writeHead[channel] - Math.floor(delay);
			if (readHead < 0) {
				readHead += this.size;
			}
			return this.buffer[channel][readHead];
		}
	}
`;sf(rP);const sP="feedback-comb-filter",iP=`
	class FeedbackCombFilterWorklet extends SingleIOProcessor {

		constructor(options) {
			super(options);
			this.delayLine = new DelayLine(this.sampleRate, options.channelCount || 2);
		}

		static get parameterDescriptors() {
			return [{
				name: "delayTime",
				defaultValue: 0.1,
				minValue: 0,
				maxValue: 1,
				automationRate: "k-rate"
			}, {
				name: "feedback",
				defaultValue: 0.5,
				minValue: 0,
				maxValue: 0.9999,
				automationRate: "k-rate"
			}];
		}

		generate(input, channel, parameters) {
			const delayedSample = this.delayLine.get(channel, parameters.delayTime * this.sampleRate);
			this.delayLine.push(channel, input + delayedSample * parameters.feedback);
			return delayedSample;
		}
	}
`;G0(sP,iP);class of extends as{constructor(){const e=Ce(of.getDefaults(),arguments,["voice","options"]);super(e),this.name="PolySynth",this._availableVoices=[],this._activeVoices=[],this._voices=[],this._gcTimeout=-1,this._averageActiveVoices=0,this._syncedRelease=o=>this.releaseAll(o),Te(!ss(e.voice),"DEPRECATED: The polyphony count is no longer the first argument.");const t=e.voice.getDefaults();this.options=Object.assign(t,e.options),this.voice=e.voice,this.maxPolyphony=e.maxPolyphony,this._dummyVoice=this._getNextAvailableVoice();const s=this._voices.indexOf(this._dummyVoice);this._voices.splice(s,1),this._gcTimeout=this.context.setInterval(this._collectGarbage.bind(this),1)}static getDefaults(){return Object.assign(as.getDefaults(),{maxPolyphony:32,options:{},voice:Mi})}get activeVoices(){return this._activeVoices.length}_makeVoiceAvailable(e){this._availableVoices.push(e);const t=this._activeVoices.findIndex(s=>s.voice===e);this._activeVoices.splice(t,1)}_getNextAvailableVoice(){if(this._availableVoices.length)return this._availableVoices.shift();if(this._voices.length<this.maxPolyphony){const e=new this.voice(Object.assign(this.options,{context:this.context,onsilence:this._makeVoiceAvailable.bind(this)}));return Te(e instanceof zs,"Voice must extend Monophonic class"),e.connect(this.output),this._voices.push(e),e}else _u("Max polyphony exceeded. Note dropped.")}_collectGarbage(){if(this._averageActiveVoices=Math.max(this._averageActiveVoices*.95,this.activeVoices),this._availableVoices.length&&this._voices.length>Math.ceil(this._averageActiveVoices+1)){const e=this._availableVoices.shift(),t=this._voices.indexOf(e);this._voices.splice(t,1),this.context.isOffline||e.dispose()}}_triggerAttack(e,t,s){e.forEach(o=>{const l=new eu(this.context,o).toMidi(),u=this._getNextAvailableVoice();u&&(u.triggerAttack(o,t,s),this._activeVoices.push({midi:l,voice:u,released:!1}),this.log("triggerAttack",o,t))})}_triggerRelease(e,t){e.forEach(s=>{const o=new eu(this.context,s).toMidi(),l=this._activeVoices.find(({midi:u,released:c})=>u===o&&!c);l&&(l.voice.triggerRelease(t),l.released=!0,this.log("triggerRelease",s,t))})}_scheduleEvent(e,t,s,o){Te(!this.disposed,"Synth was already disposed"),s<=this.now()?e==="attack"?this._triggerAttack(t,s,o):this._triggerRelease(t,s):this.context.setTimeout(()=>{this.disposed||this._scheduleEvent(e,t,s,o)},s-this.now())}triggerAttack(e,t,s){Array.isArray(e)||(e=[e]);const o=this.toSeconds(t);return this._scheduleEvent("attack",e,o,s),this}triggerRelease(e,t){Array.isArray(e)||(e=[e]);const s=this.toSeconds(t);return this._scheduleEvent("release",e,s),this}triggerAttackRelease(e,t,s,o){const l=this.toSeconds(s);if(this.triggerAttack(e,l,o),fn(t)){Te(fn(e),"If the duration is an array, the notes must also be an array"),e=e;for(let u=0;u<e.length;u++){const c=t[Math.min(u,t.length-1)],d=this.toSeconds(c);Te(d>0,"The duration must be greater than 0"),this.triggerRelease(e[u],l+d)}}else{const u=this.toSeconds(t);Te(u>0,"The duration must be greater than 0"),this.triggerRelease(e,l+u)}return this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",1),this.context.transport.on("stop",this._syncedRelease),this.context.transport.on("pause",this._syncedRelease),this.context.transport.on("loopEnd",this._syncedRelease)),this}set(e){const t=ed(e,["onsilence","context"]);return this.options=Ls(this.options,t),this._voices.forEach(s=>s.set(t)),this._dummyVoice.set(t),this}get(){return this._dummyVoice.get()}releaseAll(e){const t=this.toSeconds(e);return this._activeVoices.forEach(({voice:s})=>{s.triggerRelease(t)}),this}dispose(){return super.dispose(),this._dummyVoice.dispose(),this._voices.forEach(e=>e.dispose()),this._activeVoices=[],this._availableVoices=[],this.context.clearInterval(this._gcTimeout),this}}class Ru extends as{constructor(){const e=Ce(Ru.getDefaults(),arguments,["urls","onload","baseUrl"],"urls");super(e),this.name="Sampler",this._activeSources=new Map;const t={};Object.keys(e.urls).forEach(s=>{const o=parseInt(s,10);if(Te(bl(s)||ss(o)&&isFinite(o),`url key is neither a note or midi pitch: ${s}`),bl(s)){const l=new dn(this.context,s).toMidi();t[l]=e.urls[s]}else ss(o)&&isFinite(o)&&(t[o]=e.urls[o])}),this._buffers=new Jd({urls:t,onload:e.onload,baseUrl:e.baseUrl,onerror:e.onerror}),this.attack=e.attack,this.release=e.release,this.curve=e.curve,this._buffers.loaded&&Promise.resolve().then(e.onload)}static getDefaults(){return Object.assign(as.getDefaults(),{attack:0,baseUrl:"",curve:"exponential",onload:Be,onerror:Be,release:.1,urls:{}})}_findClosest(e){let s=0;for(;s<96;){if(this._buffers.has(e+s))return-s;if(this._buffers.has(e-s))return s;s++}throw new Error(`No available buffers for note: ${e}`)}triggerAttack(e,t,s=1){return this.log("triggerAttack",e,t,s),Array.isArray(e)||(e=[e]),e.forEach(o=>{const l=z0(new dn(this.context,o).toFrequency()),u=Math.round(l),c=l-u,d=this._findClosest(u),f=u-d,m=this._buffers.get(f),g=W0(d+c),v=new ku({url:m,context:this.context,curve:this.curve,fadeIn:this.attack,fadeOut:this.release,playbackRate:g}).connect(this.output);v.start(t,0,m.duration/g,s),fn(this._activeSources.get(u))||this._activeSources.set(u,[]),this._activeSources.get(u).push(v),v.onended=()=>{if(this._activeSources&&this._activeSources.has(u)){const _=this._activeSources.get(u),w=_.indexOf(v);w!==-1&&_.splice(w,1)}}}),this}triggerRelease(e,t){return this.log("triggerRelease",e,t),Array.isArray(e)||(e=[e]),e.forEach(s=>{const o=new dn(this.context,s).toMidi();if(this._activeSources.has(o)&&this._activeSources.get(o).length){const l=this._activeSources.get(o);t=this.toSeconds(t),l.forEach(u=>{u.stop(t)}),this._activeSources.set(o,[])}}),this}releaseAll(e){const t=this.toSeconds(e);return this._activeSources.forEach(s=>{for(;s.length;)s.shift().stop(t)}),this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",1)),this}triggerAttackRelease(e,t,s,o=1){const l=this.toSeconds(s);return this.triggerAttack(e,l,o),fn(t)?(Te(fn(e),"notes must be an array when duration is array"),e.forEach((u,c)=>{const d=t[Math.min(c,t.length-1)];this.triggerRelease(u,l+this.toSeconds(d))})):this.triggerRelease(e,l+this.toSeconds(t)),this}add(e,t,s){if(Te(bl(e)||isFinite(e),`note must be a pitch or midi: ${e}`),bl(e)){const o=new dn(this.context,e).toMidi();this._buffers.add(o,t,s)}else this._buffers.add(e,t,s);return this}get loaded(){return this._buffers.loaded}dispose(){return super.dispose(),this._buffers.dispose(),this._activeSources.forEach(e=>{e.forEach(t=>t.dispose())}),this._activeSources.clear(),this}}Yn([br(0)],Ru.prototype,"attack",void 0);Yn([br(0)],Ru.prototype,"release",void 0);class af extends be{constructor(){const e=Ce(af.getDefaults(),arguments,["pan"]);super(e),this.name="Panner",this._panner=this.context.createStereoPanner(),this.input=this._panner,this.output=this._panner,this.pan=new rt({context:this.context,param:this._panner.pan,value:e.pan,minValue:-1,maxValue:1}),this._panner.channelCount=e.channelCount,this._panner.channelCountMode="explicit",at(this,"pan")}static getDefaults(){return Object.assign(be.getDefaults(),{pan:0,channelCount:1})}dispose(){return super.dispose(),this._panner.disconnect(),this.pan.dispose(),this}}const oP="bit-crusher",aP=`
	class BitCrusherWorklet extends SingleIOProcessor {

		static get parameterDescriptors() {
			return [{
				name: "bits",
				defaultValue: 12,
				minValue: 1,
				maxValue: 16,
				automationRate: 'k-rate'
			}];
		}

		generate(input, _channel, parameters) {
			const step = Math.pow(0.5, parameters.bits - 1);
			const val = step * Math.floor(input / step + 0.5);
			return val;
		}
	}
`;G0(oP,aP);class gt extends be{constructor(){const e=Ce(gt.getDefaults(),arguments,["solo"]);super(e),this.name="Solo",this.input=this.output=new Ft({context:this.context}),gt._allSolos.has(this.context)||gt._allSolos.set(this.context,new Set),gt._allSolos.get(this.context).add(this),this.solo=e.solo}static getDefaults(){return Object.assign(be.getDefaults(),{solo:!1})}get solo(){return this._isSoloed()}set solo(e){e?this._addSolo():this._removeSolo(),gt._allSolos.get(this.context).forEach(t=>t._updateSolo())}get muted(){return this.input.gain.value===0}_addSolo(){gt._soloed.has(this.context)||gt._soloed.set(this.context,new Set),gt._soloed.get(this.context).add(this)}_removeSolo(){gt._soloed.has(this.context)&&gt._soloed.get(this.context).delete(this)}_isSoloed(){return gt._soloed.has(this.context)&&gt._soloed.get(this.context).has(this)}_noSolos(){return!gt._soloed.has(this.context)||gt._soloed.has(this.context)&&gt._soloed.get(this.context).size===0}_updateSolo(){this._isSoloed()?this.input.gain.value=1:this._noSolos()?this.input.gain.value=1:this.input.gain.value=0}dispose(){return super.dispose(),gt._allSolos.get(this.context).delete(this),this._removeSolo(),this}}gt._allSolos=new Map;gt._soloed=new Map;class lf extends be{constructor(){const e=Ce(lf.getDefaults(),arguments,["pan","volume"]);super(e),this.name="PanVol",this._panner=this.input=new af({context:this.context,pan:e.pan,channelCount:e.channelCount}),this.pan=this._panner.pan,this._volume=this.output=new $i({context:this.context,volume:e.volume}),this.volume=this._volume.volume,this._panner.connect(this._volume),this.mute=e.mute,at(this,["pan","volume"])}static getDefaults(){return Object.assign(be.getDefaults(),{mute:!1,pan:0,volume:0,channelCount:1})}get mute(){return this._volume.mute}set mute(e){this._volume.mute=e}dispose(){return super.dispose(),this._panner.dispose(),this.pan.dispose(),this._volume.dispose(),this.volume.dispose(),this}}class _i extends be{constructor(){const e=Ce(_i.getDefaults(),arguments,["volume","pan"]);super(e),this.name="Channel",this._solo=this.input=new gt({solo:e.solo,context:this.context}),this._panVol=this.output=new lf({context:this.context,pan:e.pan,volume:e.volume,mute:e.mute,channelCount:e.channelCount}),this.pan=this._panVol.pan,this.volume=this._panVol.volume,this._solo.connect(this._panVol),at(this,["pan","volume"])}static getDefaults(){return Object.assign(be.getDefaults(),{pan:0,volume:0,mute:!1,solo:!1,channelCount:1})}get solo(){return this._solo.solo}set solo(e){this._solo.solo=e}get muted(){return this._solo.muted||this.mute}get mute(){return this._panVol.mute}set mute(e){this._panVol.mute=e}_getBus(e){return _i.buses.has(e)||_i.buses.set(e,new Ft({context:this.context})),_i.buses.get(e)}send(e,t=0){const s=this._getBus(e),o=new Ft({context:this.context,units:"decibels",gain:t});return this.connect(o),o.connect(s),o}receive(e){return this._getBus(e).connect(this),this}dispose(){return super.dispose(),this._panVol.dispose(),this.pan.dispose(),this.volume.dispose(),this._solo.dispose(),this}}_i.buses=new Map;function Rh(){return An().now()}An().transport;An().destination;An().destination;An().listener;An().draw;An();class wi{constructor(){this.initialized=!1,this.synth=new of(Mi,{oscillator:{type:"triangle"},envelope:{attack:.02,decay:.1,sustain:.3,release:1}}).toDestination(),this.synth.volume.value=0,this.drum=new da({pitchDecay:.02,octaves:2,oscillator:{type:"sine"},envelope:{attack:.001,decay:.1,sustain:0,release:.1}}).toDestination(),this.drum.volume.value=0}static getInstance(){return wi.instance||(wi.instance=new wi),wi.instance}async init(){this.initialized||(await UN(),this.initialized=!0)}playClick(){this.init().then(()=>{this.drum.triggerAttackRelease("C4","32n")})}playCorrect(){this.init().then(()=>{const e=Rh();this.synth.triggerAttackRelease("G4","16n",e),this.synth.triggerAttackRelease("C5","16n",e+.1),this.synth.triggerAttackRelease("E5","8n",e+.2)})}playWrong(){this.init().then(()=>{const e=Rh();this.synth.triggerAttackRelease(["C4","C#4"],"4n",e)})}playFanfare(){this.init().then(()=>{const e=Rh();this.synth.triggerAttackRelease("C4","8n",e),this.synth.triggerAttackRelease("E4","8n",e+.15),this.synth.triggerAttackRelease("G4","8n",e+.3),this.synth.triggerAttackRelease(["C5","E5","G5"],"2n",e+.45)})}}const tr=wi.getInstance(),lP=({progressData:n,onSelectSurah:e,onBack:t})=>{const{surahs:s}=Jo();return D.jsxs("div",{className:"max-w-md mx-auto min-h-screen bg-slate-50 pb-12",children:[D.jsxs("div",{className:"bg-white px-4 py-4 flex items-center gap-4 sticky top-[var(--app-top-offset)] z-20 border-b border-slate-100",children:[D.jsx("button",{onClick:()=>{tr.playClick(),vr(t)},className:"p-2 -ml-2 text-slate-400 hover:bg-slate-50 rounded-xl transition-colors",children:D.jsx(Fv,{className:"w-6 h-6"})}),D.jsx("h1",{className:"font-bold text-slate-800 text-lg",children:"Daftar Surat"})]}),D.jsx("div",{className:"px-4 py-6 space-y-3",children:s.map((o,l)=>{const u=n[o.id]||{lastVerseIndex:0},c=o.verses.length,d=Math.min(100,Math.round(u.lastVerseIndex/c*100));return D.jsxs("div",{onClick:()=>{tr.playClick(),vr(()=>e(o.id))},className:"bg-white rounded-2xl p-4 border-2 border-slate-100 hover:border-emerald-300 active:scale-[0.99] transition-all cursor-pointer group",children:[D.jsxs("div",{className:"flex items-center justify-between mb-3",children:[D.jsxs("div",{className:"flex items-center gap-4",children:[D.jsx("div",{className:"w-10 h-10 rounded-xl bg-slate-50 flex items-center justify-center text-slate-500 group-hover:text-emerald-600 font-bold text-sm border-2 border-slate-100 group-hover:bg-emerald-50 group-hover:border-emerald-100 transition-colors",children:D.jsx("span",{className:"font-sans",children:114-(s.length-1-l)})}),D.jsxs("div",{children:[D.jsx("h3",{className:"font-bold text-slate-800 text-lg group-hover:text-emerald-700 transition-colors",children:o.name}),D.jsxs("p",{className:"text-xs text-slate-500",children:[o.meaning,"  ",o.verses.length," Ayat"]})]})]}),D.jsx("div",{className:"font-arabic text-xl text-slate-300 group-hover:text-emerald-600 transition-colors",children:o.nameArabic})]}),D.jsxs("div",{className:"space-y-2",children:[D.jsxs("div",{className:"flex justify-between text-xs text-slate-500 font-medium",children:[D.jsx("div",{className:"flex items-center gap-1.5",children:D.jsx("span",{children:"Progres"})}),D.jsxs("span",{children:[d,"%"]})]}),D.jsx("div",{className:"w-full bg-slate-100 rounded-full h-2 overflow-hidden",children:D.jsx("div",{className:"bg-emerald-500 h-full rounded-full transition-all duration-500",style:{width:`${d}%`}})}),D.jsx("div",{className:"flex items-center justify-end pt-1",children:D.jsxs("div",{className:"flex items-center text-slate-400 group-hover:text-emerald-600 text-xs font-bold uppercase tracking-wider gap-1 transition-colors",children:["Lanjut ",D.jsx(Lv,{className:"w-3 h-3"})]})})]})]},o.id)})})]})},uP=({progressData:n,onSelectSurah:e,onShowAll:t})=>{const{surahs:s,refreshData:o,loading:l}=Jo(),u=b.useMemo(()=>{const d=new Date;let m=d.getFullYear()*1e4+(d.getMonth()+1)*100+d.getDate();const g=()=>(m=(m*1664525+1013904223)%4294967296,m/4294967296),v=[...s];let _=v.length;for(;_;){const w=Math.floor(g()*_--),S=v[_];v[_]=v[w],v[w]=S}return v.slice(0,5)},[s]),c=new Date().toLocaleDateString("id-ID",{weekday:"long",day:"numeric",month:"short"});return D.jsxs("div",{className:"max-w-md mx-auto min-h-screen bg-slate-50 pb-12",children:[D.jsxs("div",{className:"bg-emerald-600 px-6 pt-12 pb-10 rounded-b-[2rem] text-white",children:[D.jsxs("div",{className:"flex justify-between items-start mb-4",children:[D.jsxs("div",{children:[D.jsx("p",{className:"text-emerald-100 text-sm font-medium mb-1",children:"Assalamualaikum,"}),D.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Mulai hari dengan AlQuran"})]}),D.jsx("button",{type:"button",disabled:l,onClick:()=>{tr.playClick(),vr(()=>{o(!0)})},className:"w-10 h-10 bg-emerald-500 rounded-xl flex items-center justify-center border border-emerald-400 disabled:opacity-60","aria-label":"Refresh data surat",title:"Refresh data surat",children:D.jsx(jv,{className:`w-5 h-5 text-white ${l?"animate-spin":""}`})})]}),D.jsx("p",{className:"text-emerald-50 text-sm leading-relaxed opacity-90 border-l-2 border-emerald-400 pl-3",children:'"Barang siapa yang membaca satu huruf dari kitab Allah, maka baginya satu kebaikan."'})]}),D.jsxs("div",{className:"px-5 -mt-6",children:[D.jsx("div",{className:"flex justify-end mb-4",children:D.jsxs("span",{className:"bg-white border-2 border-slate-100 px-3 py-1.5 rounded-full text-xs font-bold text-slate-500 flex items-center gap-2",children:[D.jsx("span",{className:"w-2 h-2 rounded-full bg-emerald-500"}),c]})}),D.jsxs("div",{className:"space-y-4",children:[D.jsxs("div",{className:"flex items-center gap-2 px-1",children:[D.jsx("div",{className:"bg-amber-100 p-1.5 rounded-lg",children:D.jsx(Bv,{className:"w-4 h-4 text-amber-600 fill-amber-600"})}),D.jsx("h2",{className:"font-bold text-slate-800 text-lg",children:"Rekomendasi Hari Ini"})]}),D.jsx("div",{className:"grid gap-3",children:u.map(d=>{var C;const f=n[d.id]||{completionCount:0,lastVerseIndex:0},m=d.verses.length,g=Math.min(100,Math.round(f.lastVerseIndex/m*100)),v=f.lastVerseIndex>0||f.completionCount>0,_=new Date,w=`${_.getFullYear()}-${String(_.getMonth()+1).padStart(2,"0")}-${String(_.getDate()).padStart(2,"0")}`,S=((C=f.dailyCompletions)==null?void 0:C.date)===w?f.dailyCompletions.count:0,T=S>0;return D.jsxs("div",{onClick:()=>{tr.playClick(),vr(()=>e(d.id))},className:`rounded-2xl p-4 border-2 transition-colors cursor-pointer group active:scale-[0.98] duration-200 ${T?"bg-emerald-50 border-emerald-200 hover:border-emerald-400":"bg-white border-slate-100 hover:border-emerald-400"}`,children:[D.jsxs("div",{className:"flex items-center justify-between mb-3",children:[D.jsxs("div",{className:"flex items-center gap-3",children:[D.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center font-bold text-sm border-2 transition-colors ${T?"bg-emerald-100 border-emerald-200 text-emerald-700":"bg-slate-50 border-slate-100 text-slate-600 group-hover:border-emerald-200 group-hover:bg-emerald-50 group-hover:text-emerald-600"}`,children:T?D.jsx(fT,{className:"w-5 h-5"}):D.jsx("span",{className:"font-sans",children:"#"})}),D.jsxs("div",{children:[D.jsx("h3",{className:"font-bold text-slate-800 text-base group-hover:text-emerald-700 transition-colors",children:d.name}),D.jsxs("p",{className:"text-xs text-slate-400 font-medium",children:[d.meaning,"  ",d.verses.length," Ayat"]})]})]}),D.jsxs("div",{className:"flex items-center gap-2",children:[T&&D.jsx("div",{className:"flex items-center gap-1 bg-emerald-600 text-white px-2 py-0.5 rounded-full text-xs font-bold",children:D.jsxs("span",{children:[S,""]})}),D.jsx("div",{className:`font-arabic text-xl transition-colors ${T?"text-emerald-600":"text-slate-300 group-hover:text-emerald-600"}`,children:d.nameArabic})]})]}),D.jsxs("div",{className:"space-y-2 mt-2 pt-2 border-t border-slate-50",children:[D.jsxs("div",{className:"flex justify-between items-center text-xs",children:[D.jsx("span",{className:`font-bold px-2 py-0.5 rounded-md ${v?"bg-emerald-100 text-emerald-700":"bg-slate-100 text-slate-500"}`,children:v?`${g}% Selesai`:"Belum dimulai"}),D.jsxs("div",{className:"flex items-center gap-1 text-slate-400 group-hover:text-emerald-600 font-bold text-[10px] uppercase tracking-wider",children:[v?"Lanjut":"Mulai"," ",D.jsx(Lv,{className:"w-3 h-3"})]})]}),D.jsx("div",{className:"w-full bg-slate-100 rounded-full h-1.5 overflow-hidden",children:D.jsx("div",{className:`h-full rounded-full transition-all duration-500 ${g>0?"bg-emerald-500":"bg-slate-200"}`,style:{width:`${Math.max(5,g)}%`}})})]})]},d.id)})})]}),D.jsx("div",{className:"pt-6 pb-6",children:D.jsxs("button",{onClick:()=>{tr.playClick(),vr(t)},className:"w-full bg-transparent p-4 rounded-2xl border-2 border-dashed border-slate-300 flex items-center justify-center gap-2 group active:bg-slate-50 hover:border-emerald-400 hover:text-emerald-600 hover:bg-emerald-50/50 transition-all text-slate-500 font-bold",children:[D.jsx(dT,{className:"w-5 h-5"}),D.jsx("span",{children:"Lihat Semua Surat"})]})})]})]})},Y0=b.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"}),Mu=b.createContext({}),Du=b.createContext(null),Ou=typeof document<"u",uf=Ou?b.useLayoutEffect:b.useEffect,X0=b.createContext({strict:!1}),cf=n=>n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),cP="framerAppearId",Q0="data-"+cf(cP),K0={skipAnimations:!1,useManualTiming:!1};class ey{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const t=this.order.indexOf(e);t!==-1&&(this.order.splice(t,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function hP(n){let e=new ey,t=new ey,s=0,o=!1,l=!1;const u=new WeakSet,c={schedule:(d,f=!1,m=!1)=>{const g=m&&o,v=g?e:t;return f&&u.add(d),v.add(d)&&g&&o&&(s=e.order.length),d},cancel:d=>{t.remove(d),u.delete(d)},process:d=>{if(o){l=!0;return}if(o=!0,[e,t]=[t,e],t.clear(),s=e.order.length,s)for(let f=0;f<s;f++){const m=e.order[f];u.has(m)&&(c.schedule(m),n()),m(d)}o=!1,l&&(l=!1,c.process(d))}};return c}const Ml=["prepare","read","update","preRender","render","postRender"],dP=40;function Z0(n,e){let t=!1,s=!0;const o={delta:0,timestamp:0,isProcessing:!1},l=Ml.reduce((g,v)=>(g[v]=hP(()=>t=!0),g),{}),u=g=>{l[g].process(o)},c=()=>{const g=performance.now();t=!1,o.delta=s?1e3/60:Math.max(Math.min(g-o.timestamp,dP),1),o.timestamp=g,o.isProcessing=!0,Ml.forEach(u),o.isProcessing=!1,t&&e&&(s=!1,n(c))},d=()=>{t=!0,s=!0,o.isProcessing||n(c)};return{schedule:Ml.reduce((g,v)=>{const _=l[v];return g[v]=(w,S=!1,T=!1)=>(t||d(),_.schedule(w,S,T)),g},{}),cancel:g=>Ml.forEach(v=>l[v].cancel(g)),state:o,steps:l}}const{schedule:hf}=Z0(queueMicrotask,!1);function fP(n,e,t,s){const{visualElement:o}=b.useContext(Mu),l=b.useContext(X0),u=b.useContext(Du),c=b.useContext(Y0).reducedMotion,d=b.useRef();s=s||l.renderer,!d.current&&s&&(d.current=s(n,{visualState:e,parent:o,props:t,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:c}));const f=d.current;b.useInsertionEffect(()=>{f&&f.update(t,u)});const m=b.useRef(!!(t[Q0]&&!window.HandoffComplete));return uf(()=>{f&&(hf.postRender(f.render),m.current&&f.animationState&&f.animationState.animateChanges())}),b.useEffect(()=>{f&&(f.updateFeatures(),!m.current&&f.animationState&&f.animationState.animateChanges(),m.current&&(m.current=!1,window.HandoffComplete=!0))}),f}function xi(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function pP(n,e,t){return b.useCallback(s=>{s&&n.mount&&n.mount(s),e&&(s?e.mount(s):e.unmount()),t&&(typeof t=="function"?t(s):xi(t)&&(t.current=s))},[e])}function Ho(n){return typeof n=="string"||Array.isArray(n)}function Iu(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}const df=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],ff=["initial",...df];function Vu(n){return Iu(n.animate)||ff.some(e=>Ho(n[e]))}function J0(n){return!!(Vu(n)||n.variants)}function mP(n,e){if(Vu(n)){const{initial:t,animate:s}=n;return{initial:t===!1||Ho(t)?t:void 0,animate:Ho(s)?s:void 0}}return n.inherit!==!1?e:{}}function gP(n){const{initial:e,animate:t}=mP(n,b.useContext(Mu));return b.useMemo(()=>({initial:e,animate:t}),[ty(e),ty(t)])}function ty(n){return Array.isArray(n)?n.join(" "):n}const ny={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Go={};for(const n in ny)Go[n]={isEnabled:e=>ny[n].some(t=>!!e[t])};function yP(n){for(const e in n)Go[e]={...Go[e],...n[e]}}const Yo=b.createContext({}),e_=b.createContext({}),vP=Symbol.for("motionComponentSymbol");function _P({preloadedFeatures:n,createVisualElement:e,useRender:t,useVisualState:s,Component:o}){n&&yP(n);function l(c,d){let f;const m={...b.useContext(Y0),...c,layoutId:wP(c)},{isStatic:g}=m,v=gP(c),_=s(c,g);if(!g&&Ou){v.visualElement=fP(o,_,m,e);const w=b.useContext(e_),S=b.useContext(X0).strict;v.visualElement&&(f=v.visualElement.loadFeatures(m,S,n,w))}return b.createElement(Mu.Provider,{value:v},f&&v.visualElement?b.createElement(f,{visualElement:v.visualElement,...m}):null,t(o,c,pP(_,v.visualElement,d),_,g,v.visualElement))}const u=b.forwardRef(l);return u[vP]=o,u}function wP({layoutId:n}){const e=b.useContext(Yo).id;return e&&n!==void 0?e+"-"+n:n}function xP(n){function e(s,o={}){return _P(n(s,o))}if(typeof Proxy>"u")return e;const t=new Map;return new Proxy(e,{get:(s,o)=>(t.has(o)||t.set(o,e(o)),t.get(o))})}const SP=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function pf(n){return typeof n!="string"||n.includes("-")?!1:!!(SP.indexOf(n)>-1||/[A-Z]/.test(n))}const nu={};function TP(n){Object.assign(nu,n)}const fa=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Gs=new Set(fa);function t_(n,{layout:e,layoutId:t}){return Gs.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!nu[n]||n==="opacity")}const nn=n=>!!(n&&n.getVelocity),CP={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},kP=fa.length;function EP(n,{enableHardwareAcceleration:e=!0,allowTransformNone:t=!0},s,o){let l="";for(let u=0;u<kP;u++){const c=fa[u];if(n[c]!==void 0){const d=CP[c]||c;l+=`${d}(${n[c]}) `}}return e&&!n.z&&(l+="translateZ(0)"),l=l.trim(),o?l=o(n,s?"":l):t&&s&&(l="none"),l}const n_=n=>e=>typeof e=="string"&&e.startsWith(n),r_=n_("--"),AP=n_("var(--"),ru=n=>AP(n)?NP.test(n.split("/*")[0].trim()):!1,NP=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)$/i,PP=(n,e)=>e&&typeof n=="number"?e.transform(n):n,ls=(n,e,t)=>t>e?e:t<n?n:t,qi={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},Lo={...qi,transform:n=>ls(0,1,n)},Dl={...qi,default:1},jo=n=>Math.round(n*1e5)/1e5,mf=/(-)?([\d]*\.?[\d])+/g,bP=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,RP=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function pa(n){return typeof n=="string"}const ma=n=>({test:e=>pa(e)&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),es=ma("deg"),nr=ma("%"),xe=ma("px"),MP=ma("vh"),DP=ma("vw"),ry={...nr,parse:n=>nr.parse(n)/100,transform:n=>nr.transform(n*100)},sy={...qi,transform:Math.round},s_={borderWidth:xe,borderTopWidth:xe,borderRightWidth:xe,borderBottomWidth:xe,borderLeftWidth:xe,borderRadius:xe,radius:xe,borderTopLeftRadius:xe,borderTopRightRadius:xe,borderBottomRightRadius:xe,borderBottomLeftRadius:xe,width:xe,maxWidth:xe,height:xe,maxHeight:xe,size:xe,top:xe,right:xe,bottom:xe,left:xe,padding:xe,paddingTop:xe,paddingRight:xe,paddingBottom:xe,paddingLeft:xe,margin:xe,marginTop:xe,marginRight:xe,marginBottom:xe,marginLeft:xe,rotate:es,rotateX:es,rotateY:es,rotateZ:es,scale:Dl,scaleX:Dl,scaleY:Dl,scaleZ:Dl,skew:es,skewX:es,skewY:es,distance:xe,translateX:xe,translateY:xe,translateZ:xe,x:xe,y:xe,z:xe,perspective:xe,transformPerspective:xe,opacity:Lo,originX:ry,originY:ry,originZ:xe,zIndex:sy,fillOpacity:Lo,strokeOpacity:Lo,numOctaves:sy};function gf(n,e,t,s){const{style:o,vars:l,transform:u,transformOrigin:c}=n;let d=!1,f=!1,m=!0;for(const g in e){const v=e[g];if(r_(g)){l[g]=v;continue}const _=s_[g],w=PP(v,_);if(Gs.has(g)){if(d=!0,u[g]=w,!m)continue;v!==(_.default||0)&&(m=!1)}else g.startsWith("origin")?(f=!0,c[g]=w):o[g]=w}if(e.transform||(d||s?o.transform=EP(n.transform,t,m,s):o.transform&&(o.transform="none")),f){const{originX:g="50%",originY:v="50%",originZ:_=0}=c;o.transformOrigin=`${g} ${v} ${_}`}}const yf=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function i_(n,e,t){for(const s in e)!nn(e[s])&&!t_(s,t)&&(n[s]=e[s])}function OP({transformTemplate:n},e,t){return b.useMemo(()=>{const s=yf();return gf(s,e,{enableHardwareAcceleration:!t},n),Object.assign({},s.vars,s.style)},[e])}function IP(n,e,t){const s=n.style||{},o={};return i_(o,s,n),Object.assign(o,OP(n,e,t)),o}function VP(n,e,t){const s={},o=IP(n,e,t);return n.drag&&n.dragListener!==!1&&(s.draggable=!1,o.userSelect=o.WebkitUserSelect=o.WebkitTouchCallout="none",o.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(s.tabIndex=0),s.style=o,s}const FP=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function su(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||FP.has(n)}let o_=n=>!su(n);function LP(n){n&&(o_=e=>e.startsWith("on")?!su(e):n(e))}try{LP(require("@emotion/is-prop-valid").default)}catch{}function jP(n,e,t){const s={};for(const o in n)o==="values"&&typeof n.values=="object"||(o_(o)||t===!0&&su(o)||!e&&!su(o)||n.draggable&&o.startsWith("onDrag"))&&(s[o]=n[o]);return s}function iy(n,e,t){return typeof n=="string"?n:xe.transform(e+t*n)}function BP(n,e,t){const s=iy(e,n.x,n.width),o=iy(t,n.y,n.height);return`${s} ${o}`}const UP={offset:"stroke-dashoffset",array:"stroke-dasharray"},WP={offset:"strokeDashoffset",array:"strokeDasharray"};function zP(n,e,t=1,s=0,o=!0){n.pathLength=1;const l=o?UP:WP;n[l.offset]=xe.transform(-s);const u=xe.transform(e),c=xe.transform(t);n[l.array]=`${u} ${c}`}function vf(n,{attrX:e,attrY:t,attrScale:s,originX:o,originY:l,pathLength:u,pathSpacing:c=1,pathOffset:d=0,...f},m,g,v){if(gf(n,f,m,v),g){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:_,style:w,dimensions:S}=n;_.transform&&(S&&(w.transform=_.transform),delete _.transform),S&&(o!==void 0||l!==void 0||w.transform)&&(w.transformOrigin=BP(S,o!==void 0?o:.5,l!==void 0?l:.5)),e!==void 0&&(_.x=e),t!==void 0&&(_.y=t),s!==void 0&&(_.scale=s),u!==void 0&&zP(_,u,c,d,!1)}const a_=()=>({...yf(),attrs:{}}),_f=n=>typeof n=="string"&&n.toLowerCase()==="svg";function $P(n,e,t,s){const o=b.useMemo(()=>{const l=a_();return vf(l,e,{enableHardwareAcceleration:!1},_f(s),n.transformTemplate),{...l.attrs,style:{...l.style}}},[e]);if(n.style){const l={};i_(l,n.style,n),o.style={...l,...o.style}}return o}function qP(n=!1){return(t,s,o,{latestValues:l},u)=>{const d=(pf(t)?$P:VP)(s,l,u,t),f=jP(s,typeof t=="string",n),m=t!==b.Fragment?{...f,...d,ref:o}:{},{children:g}=s,v=b.useMemo(()=>nn(g)?g.get():g,[g]);return b.createElement(t,{...m,children:v})}}function l_(n,{style:e,vars:t},s,o){Object.assign(n.style,e,o&&o.getProjectionStyles(s));for(const l in t)n.style.setProperty(l,t[l])}const u_=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function c_(n,e,t,s){l_(n,e,void 0,s);for(const o in e.attrs)n.setAttribute(u_.has(o)?o:cf(o),e.attrs[o])}function wf(n,e){const{style:t}=n,s={};for(const o in t)(nn(t[o])||e.style&&nn(e.style[o])||t_(o,n))&&(s[o]=t[o]);return s}function h_(n,e){const t=wf(n,e);for(const s in n)if(nn(n[s])||nn(e[s])){const o=fa.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;t[o]=n[s]}return t}function xf(n,e,t,s={},o={}){return typeof e=="function"&&(e=e(t!==void 0?t:n.custom,s,o)),typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"&&(e=e(t!==void 0?t:n.custom,s,o)),e}function d_(n){const e=b.useRef(null);return e.current===null&&(e.current=n()),e.current}const iu=n=>Array.isArray(n),HP=n=>!!(n&&typeof n=="object"&&n.mix&&n.toValue),GP=n=>iu(n)?n[n.length-1]||0:n;function Bl(n){const e=nn(n)?n.get():n;return HP(e)?e.toValue():e}function YP({scrapeMotionValuesFromProps:n,createRenderState:e,onMount:t},s,o,l){const u={latestValues:XP(s,o,l,n),renderState:e()};return t&&(u.mount=c=>t(s,c,u)),u}const f_=n=>(e,t)=>{const s=b.useContext(Mu),o=b.useContext(Du),l=()=>YP(n,e,s,o);return t?l():d_(l)};function XP(n,e,t,s){const o={},l=s(n,{});for(const v in l)o[v]=Bl(l[v]);let{initial:u,animate:c}=n;const d=Vu(n),f=J0(n);e&&f&&!d&&n.inherit!==!1&&(u===void 0&&(u=e.initial),c===void 0&&(c=e.animate));let m=t?t.initial===!1:!1;m=m||u===!1;const g=m?c:u;return g&&typeof g!="boolean"&&!Iu(g)&&(Array.isArray(g)?g:[g]).forEach(_=>{const w=xf(n,_);if(!w)return;const{transitionEnd:S,transition:T,...C}=w;for(const P in C){let k=C[P];if(Array.isArray(k)){const V=m?k.length-1:0;k=k[V]}k!==null&&(o[P]=k)}for(const P in S)o[P]=S[P]}),o}const vt=n=>n,{schedule:Ze,cancel:Ar,state:bt,steps:Mh}=Z0(typeof requestAnimationFrame<"u"?requestAnimationFrame:vt,!0),QP={useVisualState:f_({scrapeMotionValuesFromProps:h_,createRenderState:a_,onMount:(n,e,{renderState:t,latestValues:s})=>{Ze.read(()=>{try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}),Ze.render(()=>{vf(t,s,{enableHardwareAcceleration:!1},_f(e.tagName),n.transformTemplate),c_(e,t)})}})},KP={useVisualState:f_({scrapeMotionValuesFromProps:wf,createRenderState:yf})};function ZP(n,{forwardMotionProps:e=!1},t,s){return{...pf(n)?QP:KP,preloadedFeatures:t,useRender:qP(e),createVisualElement:s,Component:n}}function _r(n,e,t,s={passive:!0}){return n.addEventListener(e,t,s),()=>n.removeEventListener(e,t)}const p_=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1;function Fu(n,e="page"){return{point:{x:n[e+"X"],y:n[e+"Y"]}}}const JP=n=>e=>p_(e)&&n(e,Fu(e));function Sr(n,e,t,s){return _r(n,e,JP(t),s)}const eb=(n,e)=>t=>e(n(t)),Tr=(...n)=>n.reduce(eb);function m_(n){let e=null;return()=>{const t=()=>{e=null};return e===null?(e=n,t):!1}}const oy=m_("dragHorizontal"),ay=m_("dragVertical");function g_(n){let e=!1;if(n==="y")e=ay();else if(n==="x")e=oy();else{const t=oy(),s=ay();t&&s?e=()=>{t(),s()}:(t&&t(),s&&s())}return e}function y_(){const n=g_(!0);return n?(n(),!1):!0}class ms{constructor(e){this.isMounted=!1,this.node=e}update(){}}function ly(n,e){const t="pointer"+(e?"enter":"leave"),s="onHover"+(e?"Start":"End"),o=(l,u)=>{if(l.pointerType==="touch"||y_())return;const c=n.getProps();n.animationState&&c.whileHover&&n.animationState.setActive("whileHover",e),c[s]&&Ze.update(()=>c[s](l,u))};return Sr(n.current,t,o,{passive:!n.getProps()[s]})}class tb extends ms{mount(){this.unmount=Tr(ly(this.node,!0),ly(this.node,!1))}unmount(){}}class nb extends ms{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Tr(_r(this.node.current,"focus",()=>this.onFocus()),_r(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const v_=(n,e)=>e?n===e?!0:v_(n,e.parentElement):!1;function Dh(n,e){if(!e)return;const t=new PointerEvent("pointer"+n);e(t,Fu(t))}class rb extends ms{constructor(){super(...arguments),this.removeStartListeners=vt,this.removeEndListeners=vt,this.removeAccessibleListeners=vt,this.startPointerPress=(e,t)=>{if(this.isPressing)return;this.removeEndListeners();const s=this.node.getProps(),l=Sr(window,"pointerup",(c,d)=>{if(!this.checkPressEnd())return;const{onTap:f,onTapCancel:m,globalTapTarget:g}=this.node.getProps();Ze.update(()=>{!g&&!v_(this.node.current,c.target)?m&&m(c,d):f&&f(c,d)})},{passive:!(s.onTap||s.onPointerUp)}),u=Sr(window,"pointercancel",(c,d)=>this.cancelPress(c,d),{passive:!(s.onTapCancel||s.onPointerCancel)});this.removeEndListeners=Tr(l,u),this.startPress(e,t)},this.startAccessiblePress=()=>{const e=l=>{if(l.key!=="Enter"||this.isPressing)return;const u=c=>{c.key!=="Enter"||!this.checkPressEnd()||Dh("up",(d,f)=>{const{onTap:m}=this.node.getProps();m&&Ze.update(()=>m(d,f))})};this.removeEndListeners(),this.removeEndListeners=_r(this.node.current,"keyup",u),Dh("down",(c,d)=>{this.startPress(c,d)})},t=_r(this.node.current,"keydown",e),s=()=>{this.isPressing&&Dh("cancel",(l,u)=>this.cancelPress(l,u))},o=_r(this.node.current,"blur",s);this.removeAccessibleListeners=Tr(t,o)}}startPress(e,t){this.isPressing=!0;const{onTapStart:s,whileTap:o}=this.node.getProps();o&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),s&&Ze.update(()=>s(e,t))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!y_()}cancelPress(e,t){if(!this.checkPressEnd())return;const{onTapCancel:s}=this.node.getProps();s&&Ze.update(()=>s(e,t))}mount(){const e=this.node.getProps(),t=Sr(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),s=_r(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Tr(t,s)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const rd=new WeakMap,Oh=new WeakMap,sb=n=>{const e=rd.get(n.target);e&&e(n)},ib=n=>{n.forEach(sb)};function ob({root:n,...e}){const t=n||document;Oh.has(t)||Oh.set(t,{});const s=Oh.get(t),o=JSON.stringify(e);return s[o]||(s[o]=new IntersectionObserver(ib,{root:n,...e})),s[o]}function ab(n,e,t){const s=ob(e);return rd.set(n,t),s.observe(n),()=>{rd.delete(n),s.unobserve(n)}}const lb={some:0,all:1};class ub extends ms{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:s,amount:o="some",once:l}=e,u={root:t?t.current:void 0,rootMargin:s,threshold:typeof o=="number"?o:lb[o]},c=d=>{const{isIntersecting:f}=d;if(this.isInView===f||(this.isInView=f,l&&!f&&this.hasEnteredView))return;f&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",f);const{onViewportEnter:m,onViewportLeave:g}=this.node.getProps(),v=f?m:g;v&&v(d)};return ab(this.node.current,u,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(cb(e,t))&&this.startObserver()}unmount(){}}function cb({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const hb={inView:{Feature:ub},tap:{Feature:rb},focus:{Feature:nb},hover:{Feature:tb}};function __(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let s=0;s<t;s++)if(e[s]!==n[s])return!1;return!0}function db(n){const e={};return n.values.forEach((t,s)=>e[s]=t.get()),e}function fb(n){const e={};return n.values.forEach((t,s)=>e[s]=t.getVelocity()),e}function Lu(n,e,t){const s=n.getProps();return xf(s,e,t!==void 0?t:s.custom,db(n),fb(n))}let Sf=vt;const js=n=>n*1e3,Cr=n=>n/1e3,pb={current:!1},w_=n=>Array.isArray(n)&&typeof n[0]=="number";function x_(n){return!!(!n||typeof n=="string"&&S_[n]||w_(n)||Array.isArray(n)&&n.every(x_))}const Vo=([n,e,t,s])=>`cubic-bezier(${n}, ${e}, ${t}, ${s})`,S_={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Vo([0,.65,.55,1]),circOut:Vo([.55,0,1,.45]),backIn:Vo([.31,.01,.66,-.59]),backOut:Vo([.33,1.53,.69,.99])};function T_(n){if(n)return w_(n)?Vo(n):Array.isArray(n)?n.map(T_):S_[n]}function mb(n,e,t,{delay:s=0,duration:o,repeat:l=0,repeatType:u="loop",ease:c,times:d}={}){const f={[e]:t};d&&(f.offset=d);const m=T_(c);return Array.isArray(m)&&(f.easing=m),n.animate(f,{delay:s,duration:o,easing:Array.isArray(m)?"linear":m,fill:"both",iterations:l+1,direction:u==="reverse"?"alternate":"normal"})}function gb(n,{repeat:e,repeatType:t="loop"}){const s=e&&t!=="loop"&&e%2===1?0:n.length-1;return n[s]}const C_=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,yb=1e-7,vb=12;function _b(n,e,t,s,o){let l,u,c=0;do u=e+(t-e)/2,l=C_(u,s,o)-n,l>0?t=u:e=u;while(Math.abs(l)>yb&&++c<vb);return u}function ga(n,e,t,s){if(n===e&&t===s)return vt;const o=l=>_b(l,0,1,n,t);return l=>l===0||l===1?l:C_(o(l),e,s)}const wb=ga(.42,0,1,1),xb=ga(0,0,.58,1),k_=ga(.42,0,.58,1),Sb=n=>Array.isArray(n)&&typeof n[0]!="number",E_=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,A_=n=>e=>1-n(1-e),Tf=n=>1-Math.sin(Math.acos(n)),N_=A_(Tf),Tb=E_(Tf),P_=ga(.33,1.53,.69,.99),Cf=A_(P_),Cb=E_(Cf),kb=n=>(n*=2)<1?.5*Cf(n):.5*(2-Math.pow(2,-10*(n-1))),Eb={linear:vt,easeIn:wb,easeInOut:k_,easeOut:xb,circIn:Tf,circInOut:Tb,circOut:N_,backIn:Cf,backInOut:Cb,backOut:P_,anticipate:kb},uy=n=>{if(Array.isArray(n)){Sf(n.length===4);const[e,t,s,o]=n;return ga(e,t,s,o)}else if(typeof n=="string")return Eb[n];return n},Xo=(n,e,t)=>{const s=e-n;return s===0?1:(t-n)/s},st=(n,e,t)=>n+(e-n)*t;function Ih(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function Ab({hue:n,saturation:e,lightness:t,alpha:s}){n/=360,e/=100,t/=100;let o=0,l=0,u=0;if(!e)o=l=u=t;else{const c=t<.5?t*(1+e):t+e-t*e,d=2*t-c;o=Ih(d,c,n+1/3),l=Ih(d,c,n),u=Ih(d,c,n-1/3)}return{red:Math.round(o*255),green:Math.round(l*255),blue:Math.round(u*255),alpha:s}}const kf=(n,e)=>t=>!!(pa(t)&&RP.test(t)&&t.startsWith(n)||e&&Object.prototype.hasOwnProperty.call(t,e)),b_=(n,e,t)=>s=>{if(!pa(s))return s;const[o,l,u,c]=s.match(mf);return{[n]:parseFloat(o),[e]:parseFloat(l),[t]:parseFloat(u),alpha:c!==void 0?parseFloat(c):1}},Nb=n=>ls(0,255,n),Vh={...qi,transform:n=>Math.round(Nb(n))},Vs={test:kf("rgb","red"),parse:b_("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:s=1})=>"rgba("+Vh.transform(n)+", "+Vh.transform(e)+", "+Vh.transform(t)+", "+jo(Lo.transform(s))+")"};function Pb(n){let e="",t="",s="",o="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),s=n.substring(5,7),o=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),s=n.substring(3,4),o=n.substring(4,5),e+=e,t+=t,s+=s,o+=o),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(s,16),alpha:o?parseInt(o,16)/255:1}}const sd={test:kf("#"),parse:Pb,transform:Vs.transform},Si={test:kf("hsl","hue"),parse:b_("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:s=1})=>"hsla("+Math.round(n)+", "+nr.transform(jo(e))+", "+nr.transform(jo(t))+", "+jo(Lo.transform(s))+")"},Fh=(n,e,t)=>{const s=n*n,o=t*(e*e-s)+s;return o<0?0:Math.sqrt(o)},bb=[sd,Vs,Si],Rb=n=>bb.find(e=>e.test(n));function cy(n){const e=Rb(n);let t=e.parse(n);return e===Si&&(t=Ab(t)),t}const hy=(n,e)=>{const t=cy(n),s=cy(e),o={...t};return l=>(o.red=Fh(t.red,s.red,l),o.green=Fh(t.green,s.green,l),o.blue=Fh(t.blue,s.blue,l),o.alpha=st(t.alpha,s.alpha,l),Vs.transform(o))},Vt={test:n=>Vs.test(n)||sd.test(n)||Si.test(n),parse:n=>Vs.test(n)?Vs.parse(n):Si.test(n)?Si.parse(n):sd.parse(n),transform:n=>pa(n)?n:n.hasOwnProperty("red")?Vs.transform(n):Si.transform(n)};function Mb(n){var e,t;return isNaN(n)&&pa(n)&&(((e=n.match(mf))===null||e===void 0?void 0:e.length)||0)+(((t=n.match(bP))===null||t===void 0?void 0:t.length)||0)>0}const R_="number",M_="color",Db="var",Ob="var(",dy="${}",fy=/(var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\))|(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))|((-)?([\d]*\.?[\d])+)/gi;function ou(n){const e=n.toString(),t=e.match(fy)||[],s=[],o={color:[],number:[],var:[]},l=[];for(let d=0;d<t.length;d++){const f=t[d];Vt.test(f)?(o.color.push(d),l.push(M_),s.push(Vt.parse(f))):f.startsWith(Ob)?(o.var.push(d),l.push(Db),s.push(f)):(o.number.push(d),l.push(R_),s.push(parseFloat(f)))}const c=e.replace(fy,dy).split(dy);return{values:s,split:c,indexes:o,types:l}}function D_(n){return ou(n).values}function O_(n){const{split:e,types:t}=ou(n),s=e.length;return o=>{let l="";for(let u=0;u<s;u++)if(l+=e[u],o[u]!==void 0){const c=t[u];c===R_?l+=jo(o[u]):c===M_?l+=Vt.transform(o[u]):l+=o[u]}return l}}const Ib=n=>typeof n=="number"?0:n;function Vb(n){const e=D_(n);return O_(n)(e.map(Ib))}const us={test:Mb,parse:D_,createTransformer:O_,getAnimatableNone:Vb};function id(n,e){return t=>t>0?e:n}function Fb(n,e){return t=>st(n,e,t)}function Ef(n){return typeof n=="number"?Fb:typeof n=="string"?ru(n)?id:Vt.test(n)?hy:Bb:Array.isArray(n)?I_:typeof n=="object"?Vt.test(n)?hy:Lb:id}function I_(n,e){const t=[...n],s=t.length,o=n.map((l,u)=>Ef(l)(l,e[u]));return l=>{for(let u=0;u<s;u++)t[u]=o[u](l);return t}}function Lb(n,e){const t={...n,...e},s={};for(const o in t)n[o]!==void 0&&e[o]!==void 0&&(s[o]=Ef(n[o])(n[o],e[o]));return o=>{for(const l in s)t[l]=s[l](o);return t}}function jb(n,e){var t;const s=[],o={color:0,var:0,number:0};for(let l=0;l<e.values.length;l++){const u=e.types[l],c=n.indexes[u][o[u]],d=(t=n.values[c])!==null&&t!==void 0?t:0;s[l]=d,o[u]++}return s}const Bb=(n,e)=>{const t=us.createTransformer(e),s=ou(n),o=ou(e);return s.indexes.var.length===o.indexes.var.length&&s.indexes.color.length===o.indexes.color.length&&s.indexes.number.length>=o.indexes.number.length?Tr(I_(jb(s,o),o.values),t):id(n,e)};function V_(n,e,t){return typeof n=="number"&&typeof e=="number"&&typeof t=="number"?st(n,e,t):Ef(n)(n,e)}function Ub(n,e,t){const s=[],o=t||V_,l=n.length-1;for(let u=0;u<l;u++){let c=o(n[u],n[u+1]);if(e){const d=Array.isArray(e)?e[u]||vt:e;c=Tr(d,c)}s.push(c)}return s}function Wb(n,e,{clamp:t=!0,ease:s,mixer:o}={}){const l=n.length;if(Sf(l===e.length),l===1)return()=>e[0];n[0]>n[l-1]&&(n=[...n].reverse(),e=[...e].reverse());const u=Ub(e,s,o),c=u.length,d=f=>{let m=0;if(c>1)for(;m<n.length-2&&!(f<n[m+1]);m++);const g=Xo(n[m],n[m+1],f);return u[m](g)};return t?f=>d(ls(n[0],n[l-1],f)):d}function zb(n,e){const t=n[n.length-1];for(let s=1;s<=e;s++){const o=Xo(0,e,s);n.push(st(t,1,o))}}function $b(n){const e=[0];return zb(e,n.length-1),e}function qb(n,e){return n.map(t=>t*e)}function Hb(n,e){return n.map(()=>e||k_).splice(0,n.length-1)}function au({duration:n=300,keyframes:e,times:t,ease:s="easeInOut"}){const o=Sb(s)?s.map(uy):uy(s),l={done:!1,value:e[0]},u=qb(t&&t.length===e.length?t:$b(e),n),c=Wb(u,e,{ease:Array.isArray(o)?o:Hb(e,o)});return{calculatedDuration:n,next:d=>(l.value=c(d),l.done=d>=n,l)}}function F_(n,e){return e?n*(1e3/e):0}const Gb=5;function L_(n,e,t){const s=Math.max(e-Gb,0);return F_(t-n(s),e-s)}const Lh=.001,Yb=.01,Xb=10,Qb=.05,Kb=1;function Zb({duration:n=800,bounce:e=.25,velocity:t=0,mass:s=1}){let o,l,u=1-e;u=ls(Qb,Kb,u),n=ls(Yb,Xb,Cr(n)),u<1?(o=f=>{const m=f*u,g=m*n,v=m-t,_=od(f,u),w=Math.exp(-g);return Lh-v/_*w},l=f=>{const g=f*u*n,v=g*t+t,_=Math.pow(u,2)*Math.pow(f,2)*n,w=Math.exp(-g),S=od(Math.pow(f,2),u);return(-o(f)+Lh>0?-1:1)*((v-_)*w)/S}):(o=f=>{const m=Math.exp(-f*n),g=(f-t)*n+1;return-Lh+m*g},l=f=>{const m=Math.exp(-f*n),g=(t-f)*(n*n);return m*g});const c=5/n,d=eR(o,l,c);if(n=js(n),isNaN(d))return{stiffness:100,damping:10,duration:n};{const f=Math.pow(d,2)*s;return{stiffness:f,damping:u*2*Math.sqrt(s*f),duration:n}}}const Jb=12;function eR(n,e,t){let s=t;for(let o=1;o<Jb;o++)s=s-n(s)/e(s);return s}function od(n,e){return n*Math.sqrt(1-e*e)}const tR=["duration","bounce"],nR=["stiffness","damping","mass"];function py(n,e){return e.some(t=>n[t]!==void 0)}function rR(n){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...n};if(!py(n,nR)&&py(n,tR)){const t=Zb(n);e={...e,...t,mass:1},e.isResolvedFromDuration=!0}return e}function j_({keyframes:n,restDelta:e,restSpeed:t,...s}){const o=n[0],l=n[n.length-1],u={done:!1,value:o},{stiffness:c,damping:d,mass:f,duration:m,velocity:g,isResolvedFromDuration:v}=rR({...s,velocity:-Cr(s.velocity||0)}),_=g||0,w=d/(2*Math.sqrt(c*f)),S=l-o,T=Cr(Math.sqrt(c/f)),C=Math.abs(S)<5;t||(t=C?.01:2),e||(e=C?.005:.5);let P;if(w<1){const k=od(T,w);P=V=>{const E=Math.exp(-w*T*V);return l-E*((_+w*T*S)/k*Math.sin(k*V)+S*Math.cos(k*V))}}else if(w===1)P=k=>l-Math.exp(-T*k)*(S+(_+T*S)*k);else{const k=T*Math.sqrt(w*w-1);P=V=>{const E=Math.exp(-w*T*V),I=Math.min(k*V,300);return l-E*((_+w*T*S)*Math.sinh(I)+k*S*Math.cosh(I))/k}}return{calculatedDuration:v&&m||null,next:k=>{const V=P(k);if(v)u.done=k>=m;else{let E=_;k!==0&&(w<1?E=L_(P,k,V):E=0);const I=Math.abs(E)<=t,F=Math.abs(l-V)<=e;u.done=I&&F}return u.value=u.done?l:V,u}}}function my({keyframes:n,velocity:e=0,power:t=.8,timeConstant:s=325,bounceDamping:o=10,bounceStiffness:l=500,modifyTarget:u,min:c,max:d,restDelta:f=.5,restSpeed:m}){const g=n[0],v={done:!1,value:g},_=R=>c!==void 0&&R<c||d!==void 0&&R>d,w=R=>c===void 0?d:d===void 0||Math.abs(c-R)<Math.abs(d-R)?c:d;let S=t*e;const T=g+S,C=u===void 0?T:u(T);C!==T&&(S=C-g);const P=R=>-S*Math.exp(-R/s),k=R=>C+P(R),V=R=>{const W=P(R),$=k(R);v.done=Math.abs(W)<=f,v.value=v.done?C:$};let E,I;const F=R=>{_(v.value)&&(E=R,I=j_({keyframes:[v.value,w(v.value)],velocity:L_(k,R,v.value),damping:o,stiffness:l,restDelta:f,restSpeed:m}))};return F(0),{calculatedDuration:null,next:R=>{let W=!1;return!I&&E===void 0&&(W=!0,V(R),F(R)),E!==void 0&&R>E?I.next(R-E):(!W&&V(R),v)}}}let Ul;function sR(){Ul=void 0}const Bs={now:()=>(Ul===void 0&&Bs.set(bt.isProcessing||K0.useManualTiming?bt.timestamp:performance.now()),Ul),set:n=>{Ul=n,queueMicrotask(sR)}},iR=n=>{const e=({timestamp:t})=>n(t);return{start:()=>Ze.update(e,!0),stop:()=>Ar(e),now:()=>bt.isProcessing?bt.timestamp:Bs.now()}},gy=2e4;function yy(n){let e=0;const t=50;let s=n.next(e);for(;!s.done&&e<gy;)e+=t,s=n.next(e);return e>=gy?1/0:e}const oR={decay:my,inertia:my,tween:au,keyframes:au,spring:j_},aR=n=>n/100;function lu({autoplay:n=!0,delay:e=0,driver:t=iR,keyframes:s,type:o="keyframes",repeat:l=0,repeatDelay:u=0,repeatType:c="loop",onPlay:d,onStop:f,onComplete:m,onUpdate:g,...v}){let _=1,w=!1,S,T;const C=()=>{T=new Promise(N=>{S=N})};C();let P;const k=oR[o]||au;let V;k!==au&&typeof s[0]!="number"&&(V=Tr(aR,V_(s[0],s[1])),s=[0,100]);const E=k({...v,keyframes:s});let I;c==="mirror"&&(I=k({...v,keyframes:[...s].reverse(),velocity:-(v.velocity||0)}));let F="idle",R=null,W=null,$=null;E.calculatedDuration===null&&l&&(E.calculatedDuration=yy(E));const{calculatedDuration:Y}=E;let z=1/0,ee=1/0;Y!==null&&(z=Y+u,ee=z*(l+1)-u);let X=0;const ae=N=>{if(W===null)return;_>0&&(W=Math.min(W,N)),_<0&&(W=Math.min(N-ee/_,W)),R!==null?X=R:X=Math.round(N-W)*_;const j=X-e*(_>=0?1:-1),me=_>=0?j<0:j>ee;X=Math.max(j,0),F==="finished"&&R===null&&(X=ee);let de=X,ie=E;if(l){const Ee=Math.min(X,ee)/z;let Le=Math.floor(Ee),lt=Ee%1;!lt&&Ee>=1&&(lt=1),lt===1&&Le--,Le=Math.min(Le,l+1),!!(Le%2)&&(c==="reverse"?(lt=1-lt,u&&(lt-=u/z)):c==="mirror"&&(ie=I)),de=ls(0,1,lt)*z}const ce=me?{done:!1,value:s[0]}:ie.next(de);V&&(ce.value=V(ce.value));let{done:_e}=ce;!me&&Y!==null&&(_e=_>=0?X>=ee:X<=0);const re=R===null&&(F==="finished"||F==="running"&&_e);return g&&g(ce.value),re&&H(),ce},Z=()=>{P&&P.stop(),P=void 0},te=()=>{F="idle",Z(),S(),C(),W=$=null},H=()=>{F="finished",m&&m(),Z(),S()},G=()=>{if(w)return;P||(P=t(ae));const N=P.now();d&&d(),R!==null?W=N-R:(!W||F==="finished")&&(W=N),F==="finished"&&C(),$=W,R=null,F="running",P.start()};n&&G();const q={then(N,j){return T.then(N,j)},get time(){return Cr(X)},set time(N){N=js(N),X=N,R!==null||!P||_===0?R=N:W=P.now()-N/_},get duration(){const N=E.calculatedDuration===null?yy(E):E.calculatedDuration;return Cr(N)},get speed(){return _},set speed(N){N===_||!P||(_=N,q.time=Cr(X))},get state(){return F},play:G,pause:()=>{F="paused",R=X},stop:()=>{w=!0,F!=="idle"&&(F="idle",f&&f(),te())},cancel:()=>{$!==null&&ae($),te()},complete:()=>{F="finished"},sample:N=>(W=0,ae(N))};return q}function lR(n){let e;return()=>(e===void 0&&(e=n()),e)}const uR=lR(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),cR=new Set(["opacity","clipPath","filter","transform"]),Ol=10,hR=2e4,dR=(n,e)=>e.type==="spring"||n==="backgroundColor"||!x_(e.ease);function fR(n,e,{onUpdate:t,onComplete:s,...o}){if(!(uR()&&cR.has(e)&&!o.repeatDelay&&o.repeatType!=="mirror"&&o.damping!==0&&o.type!=="inertia"))return!1;let u=!1,c,d,f=!1;const m=()=>{d=new Promise(k=>{c=k})};m();let{keyframes:g,duration:v=300,ease:_,times:w}=o;if(dR(e,o)){const k=lu({...o,repeat:0,delay:0});let V={done:!1,value:g[0]};const E=[];let I=0;for(;!V.done&&I<hR;)V=k.sample(I),E.push(V.value),I+=Ol;w=void 0,g=E,v=I-Ol,_="linear"}const S=mb(n.owner.current,e,g,{...o,duration:v,ease:_,times:w}),T=()=>{f=!1,S.cancel()},C=()=>{f=!0,Ze.update(T),c(),m()};return S.onfinish=()=>{f||(n.set(gb(g,o)),s&&s(),C())},{then(k,V){return d.then(k,V)},attachTimeline(k){return S.timeline=k,S.onfinish=null,vt},get time(){return Cr(S.currentTime||0)},set time(k){S.currentTime=js(k)},get speed(){return S.playbackRate},set speed(k){S.playbackRate=k},get duration(){return Cr(v)},play:()=>{u||(S.play(),Ar(T))},pause:()=>S.pause(),stop:()=>{if(u=!0,S.playState==="idle")return;const{currentTime:k}=S;if(k){const V=lu({...o,autoplay:!1});n.setWithVelocity(V.sample(k-Ol).value,V.sample(k).value,Ol)}C()},complete:()=>{f||S.finish()},cancel:C}}function pR({keyframes:n,delay:e,onUpdate:t,onComplete:s}){const o=()=>(t&&t(n[n.length-1]),s&&s(),{time:0,speed:1,duration:0,play:vt,pause:vt,stop:vt,then:l=>(l(),Promise.resolve()),cancel:vt,complete:vt});return e?lu({keyframes:[0,1],duration:0,delay:e,onComplete:o}):o()}const mR={type:"spring",stiffness:500,damping:25,restSpeed:10},gR=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),yR={type:"keyframes",duration:.8},vR={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},_R=(n,{keyframes:e})=>e.length>2?yR:Gs.has(n)?n.startsWith("scale")?gR(e[1]):mR:vR,ad=(n,e)=>n==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(us.test(e)||e==="0")&&!e.startsWith("url(")),wR=new Set(["brightness","contrast","saturate","opacity"]);function xR(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[s]=t.match(mf)||[];if(!s)return n;const o=t.replace(s,"");let l=wR.has(e)?1:0;return s!==t&&(l*=100),e+"("+l+o+")"}const SR=/([a-z-]*)\(.*?\)/g,ld={...us,getAnimatableNone:n=>{const e=n.match(SR);return e?e.map(xR).join(" "):n}},TR={...s_,color:Vt,backgroundColor:Vt,outlineColor:Vt,fill:Vt,stroke:Vt,borderColor:Vt,borderTopColor:Vt,borderRightColor:Vt,borderBottomColor:Vt,borderLeftColor:Vt,filter:ld,WebkitFilter:ld},Af=n=>TR[n];function B_(n,e){let t=Af(n);return t!==ld&&(t=us),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const U_=n=>/^0[^.\s]+$/.test(n);function CR(n){if(typeof n=="number")return n===0;if(n!==null)return n==="none"||n==="0"||U_(n)}function kR(n,e,t,s){const o=ad(e,t);let l;Array.isArray(t)?l=[...t]:l=[null,t];const u=s.from!==void 0?s.from:n.get();let c;const d=[];for(let f=0;f<l.length;f++)l[f]===null&&(l[f]=f===0?u:l[f-1]),CR(l[f])&&d.push(f),typeof l[f]=="string"&&l[f]!=="none"&&l[f]!=="0"&&(c=l[f]);if(o&&d.length&&c)for(let f=0;f<d.length;f++){const m=d[f];l[m]=B_(e,c)}return l}function ER({when:n,delay:e,delayChildren:t,staggerChildren:s,staggerDirection:o,repeat:l,repeatType:u,repeatDelay:c,from:d,elapsed:f,...m}){return!!Object.keys(m).length}function Nf(n,e){return n[e]||n.default||n}const Pf=(n,e,t,s={})=>o=>{const l=Nf(s,n)||{},u=l.delay||s.delay||0;let{elapsed:c=0}=s;c=c-js(u);const d=kR(e,n,t,l),f=d[0],m=d[d.length-1],g=ad(n,f),v=ad(n,m);let _={keyframes:d,velocity:e.getVelocity(),ease:"easeOut",...l,delay:-c,onUpdate:w=>{e.set(w),l.onUpdate&&l.onUpdate(w)},onComplete:()=>{o(),l.onComplete&&l.onComplete()}};if(ER(l)||(_={..._,..._R(n,_)}),_.duration&&(_.duration=js(_.duration)),_.repeatDelay&&(_.repeatDelay=js(_.repeatDelay)),!g||!v||pb.current||l.type===!1||K0.skipAnimations)return pR(_);if(!s.isHandoff&&e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const w=fR(e,n,_);if(w)return w}return lu(_)};function uu(n){return!!(nn(n)&&n.add)}const W_=n=>/^\-?\d*\.?\d+$/.test(n);function bf(n,e){n.indexOf(e)===-1&&n.push(e)}function Rf(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}class Mf{constructor(){this.subscriptions=[]}add(e){return bf(this.subscriptions,e),()=>Rf(this.subscriptions,e)}notify(e,t,s){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](e,t,s);else for(let l=0;l<o;l++){const u=this.subscriptions[l];u&&u(e,t,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const vy=30,AR=n=>!isNaN(parseFloat(n));class NR{constructor(e,t={}){this.version="11.0.8",this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(s,o=!0)=>{const l=Bs.now();this.updatedAt!==l&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),o&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.canTrackVelocity=AR(this.current),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=Bs.now()}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new Mf);const s=this.events[e].add(t);return e==="change"?()=>{s(),Ze.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){!t||!this.passiveEffect?this.updateAndNotify(e,t):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,t,s){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Bs.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>vy)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,vy);return F_(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Di(n,e){return new NR(n,e)}const z_=n=>e=>e.test(n),PR={test:n=>n==="auto",parse:n=>n},$_=[qi,xe,nr,es,DP,MP,PR],Do=n=>$_.find(z_(n)),bR=[...$_,Vt,us],RR=n=>bR.find(z_(n));function MR(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,Di(t))}function DR(n,e){const t=Lu(n,e);let{transitionEnd:s={},transition:o={},...l}=t?n.makeTargetAnimatable(t,!1):{};l={...l,...s};for(const u in l){const c=GP(l[u]);MR(n,u,c)}}function OR(n,e,t){var s,o;const l=Object.keys(e).filter(c=>!n.hasValue(c)),u=l.length;if(u)for(let c=0;c<u;c++){const d=l[c],f=e[d];let m=null;Array.isArray(f)&&(m=f[0]),m===null&&(m=(o=(s=t[d])!==null&&s!==void 0?s:n.readValue(d))!==null&&o!==void 0?o:e[d]),m!=null&&(typeof m=="string"&&(W_(m)||U_(m))?m=parseFloat(m):!RR(m)&&us.test(f)&&(m=B_(d,f)),n.addValue(d,Di(m,{owner:n})),t[d]===void 0&&(t[d]=m),m!==null&&n.setBaseTarget(d,m))}}function IR(n,e){return e?(e[n]||e.default||e).from:void 0}function VR(n,e,t){const s={};for(const o in n){const l=IR(o,e);if(l!==void 0)s[o]=l;else{const u=t.getValue(o);u&&(s[o]=u.get())}}return s}function FR({protectedKeys:n,needsAnimating:e},t){const s=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,s}function LR(n,e){const t=n.get();if(Array.isArray(e)){for(let s=0;s<e.length;s++)if(e[s]!==t)return!0}else return t!==e}function q_(n,e,{delay:t=0,transitionOverride:s,type:o}={}){let{transition:l=n.getDefaultTransition(),transitionEnd:u,...c}=n.makeTargetAnimatable(e);const d=n.getValue("willChange");s&&(l=s);const f=[],m=o&&n.animationState&&n.animationState.getState()[o];for(const g in c){const v=n.getValue(g),_=c[g];if(!v||_===void 0||m&&FR(m,g))continue;const w={delay:t,elapsed:0,...Nf(l||{},g)};if(window.HandoffAppearAnimations){const C=n.getProps()[Q0];if(C){const P=window.HandoffAppearAnimations(C,g,v,Ze);P!==null&&(w.elapsed=P,w.isHandoff=!0)}}let S=!w.isHandoff&&!LR(v,_);if(w.type==="spring"&&(v.getVelocity()||w.velocity)&&(S=!1),v.animation&&(S=!1),S)continue;v.start(Pf(g,v,_,n.shouldReduceMotion&&Gs.has(g)?{type:!1}:w));const T=v.animation;uu(d)&&(d.add(g),T.then(()=>d.remove(g))),f.push(T)}return u&&Promise.all(f).then(()=>{u&&DR(n,u)}),f}function ud(n,e,t={}){const s=Lu(n,e,t.custom);let{transition:o=n.getDefaultTransition()||{}}=s||{};t.transitionOverride&&(o=t.transitionOverride);const l=s?()=>Promise.all(q_(n,s,t)):()=>Promise.resolve(),u=n.variantChildren&&n.variantChildren.size?(d=0)=>{const{delayChildren:f=0,staggerChildren:m,staggerDirection:g}=o;return jR(n,e,f+d,m,g,t)}:()=>Promise.resolve(),{when:c}=o;if(c){const[d,f]=c==="beforeChildren"?[l,u]:[u,l];return d().then(()=>f())}else return Promise.all([l(),u(t.delay)])}function jR(n,e,t=0,s=0,o=1,l){const u=[],c=(n.variantChildren.size-1)*s,d=o===1?(f=0)=>f*s:(f=0)=>c-f*s;return Array.from(n.variantChildren).sort(BR).forEach((f,m)=>{f.notify("AnimationStart",e),u.push(ud(f,e,{...l,delay:t+d(m)}).then(()=>f.notify("AnimationComplete",e)))}),Promise.all(u)}function BR(n,e){return n.sortNodePosition(e)}function UR(n,e,t={}){n.notify("AnimationStart",e);let s;if(Array.isArray(e)){const o=e.map(l=>ud(n,l,t));s=Promise.all(o)}else if(typeof e=="string")s=ud(n,e,t);else{const o=typeof e=="function"?Lu(n,e,t.custom):e;s=Promise.all(q_(n,o,t))}return s.then(()=>n.notify("AnimationComplete",e))}const WR=[...df].reverse(),zR=df.length;function $R(n){return e=>Promise.all(e.map(({animation:t,options:s})=>UR(n,t,s)))}function qR(n){let e=$R(n);const t=GR();let s=!0;const o=(d,f)=>{const m=Lu(n,f);if(m){const{transition:g,transitionEnd:v,..._}=m;d={...d,..._,...v}}return d};function l(d){e=d(n)}function u(d,f){const m=n.getProps(),g=n.getVariantContext(!0)||{},v=[],_=new Set;let w={},S=1/0;for(let C=0;C<zR;C++){const P=WR[C],k=t[P],V=m[P]!==void 0?m[P]:g[P],E=Ho(V),I=P===f?k.isActive:null;I===!1&&(S=C);let F=V===g[P]&&V!==m[P]&&E;if(F&&s&&n.manuallyAnimateOnMount&&(F=!1),k.protectedKeys={...w},!k.isActive&&I===null||!V&&!k.prevProp||Iu(V)||typeof V=="boolean")continue;let W=HR(k.prevProp,V)||P===f&&k.isActive&&!F&&E||C>S&&E,$=!1;const Y=Array.isArray(V)?V:[V];let z=Y.reduce(o,{});I===!1&&(z={});const{prevResolvedValues:ee={}}=k,X={...ee,...z},ae=Z=>{W=!0,_.has(Z)&&($=!0,_.delete(Z)),k.needsAnimating[Z]=!0};for(const Z in X){const te=z[Z],H=ee[Z];if(w.hasOwnProperty(Z))continue;let G=!1;iu(te)&&iu(H)?G=!__(te,H):G=te!==H,G?te!==void 0?ae(Z):_.add(Z):te!==void 0&&_.has(Z)?ae(Z):k.protectedKeys[Z]=!0}k.prevProp=V,k.prevResolvedValues=z,k.isActive&&(w={...w,...z}),s&&n.blockInitialAnimation&&(W=!1),W&&(!F||$)&&v.push(...Y.map(Z=>({animation:Z,options:{type:P,...d}})))}if(_.size){const C={};_.forEach(P=>{const k=n.getBaseTarget(P);k!==void 0&&(C[P]=k)}),v.push({animation:C})}let T=!!v.length;return s&&(m.initial===!1||m.initial===m.animate)&&!n.manuallyAnimateOnMount&&(T=!1),s=!1,T?e(v):Promise.resolve()}function c(d,f,m){var g;if(t[d].isActive===f)return Promise.resolve();(g=n.variantChildren)===null||g===void 0||g.forEach(_=>{var w;return(w=_.animationState)===null||w===void 0?void 0:w.setActive(d,f)}),t[d].isActive=f;const v=u(m,d);for(const _ in t)t[_].protectedKeys={};return v}return{animateChanges:u,setActive:c,setAnimateFunction:l,getState:()=>t}}function HR(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!__(e,n):!1}function bs(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function GR(){return{animate:bs(!0),whileInView:bs(),whileHover:bs(),whileTap:bs(),whileDrag:bs(),whileFocus:bs(),exit:bs()}}class YR extends ms{constructor(e){super(e),e.animationState||(e.animationState=qR(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),Iu(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){}}let XR=0;class QR extends ms{constructor(){super(...arguments),this.id=XR++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t,custom:s}=this.node.presenceContext,{isPresent:o}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===o)return;const l=this.node.animationState.setActive("exit",!e,{custom:s??this.node.getProps().custom});t&&!e&&l.then(()=>t(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const KR={animation:{Feature:YR},exit:{Feature:QR}},_y=(n,e)=>Math.abs(n-e);function ZR(n,e){const t=_y(n.x,e.x),s=_y(n.y,e.y);return Math.sqrt(t**2+s**2)}class H_{constructor(e,t,{transformPagePoint:s,contextWindow:o,dragSnapToOrigin:l=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=Bh(this.lastMoveEventInfo,this.history),v=this.startEvent!==null,_=ZR(g.offset,{x:0,y:0})>=3;if(!v&&!_)return;const{point:w}=g,{timestamp:S}=bt;this.history.push({...w,timestamp:S});const{onStart:T,onMove:C}=this.handlers;v||(T&&T(this.lastMoveEvent,g),this.startEvent=this.lastMoveEvent),C&&C(this.lastMoveEvent,g)},this.handlePointerMove=(g,v)=>{this.lastMoveEvent=g,this.lastMoveEventInfo=jh(v,this.transformPagePoint),Ze.update(this.updatePoint,!0)},this.handlePointerUp=(g,v)=>{this.end();const{onEnd:_,onSessionEnd:w,resumeAnimation:S}=this.handlers;if(this.dragSnapToOrigin&&S&&S(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const T=Bh(g.type==="pointercancel"?this.lastMoveEventInfo:jh(v,this.transformPagePoint),this.history);this.startEvent&&_&&_(g,T),w&&w(g,T)},!p_(e))return;this.dragSnapToOrigin=l,this.handlers=t,this.transformPagePoint=s,this.contextWindow=o||window;const u=Fu(e),c=jh(u,this.transformPagePoint),{point:d}=c,{timestamp:f}=bt;this.history=[{...d,timestamp:f}];const{onSessionStart:m}=t;m&&m(e,Bh(c,this.history)),this.removeListeners=Tr(Sr(this.contextWindow,"pointermove",this.handlePointerMove),Sr(this.contextWindow,"pointerup",this.handlePointerUp),Sr(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Ar(this.updatePoint)}}function jh(n,e){return e?{point:e(n.point)}:n}function wy(n,e){return{x:n.x-e.x,y:n.y-e.y}}function Bh({point:n},e){return{point:n,delta:wy(n,G_(e)),offset:wy(n,JR(e)),velocity:eM(e,.1)}}function JR(n){return n[0]}function G_(n){return n[n.length-1]}function eM(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,s=null;const o=G_(n);for(;t>=0&&(s=n[t],!(o.timestamp-s.timestamp>js(e)));)t--;if(!s)return{x:0,y:0};const l=Cr(o.timestamp-s.timestamp);if(l===0)return{x:0,y:0};const u={x:(o.x-s.x)/l,y:(o.y-s.y)/l};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function mn(n){return n.max-n.min}function cd(n,e=0,t=.01){return Math.abs(n-e)<=t}function xy(n,e,t,s=.5){n.origin=s,n.originPoint=st(e.min,e.max,n.origin),n.scale=mn(t)/mn(e),(cd(n.scale,1,1e-4)||isNaN(n.scale))&&(n.scale=1),n.translate=st(t.min,t.max,n.origin)-n.originPoint,(cd(n.translate)||isNaN(n.translate))&&(n.translate=0)}function Bo(n,e,t,s){xy(n.x,e.x,t.x,s?s.originX:void 0),xy(n.y,e.y,t.y,s?s.originY:void 0)}function Sy(n,e,t){n.min=t.min+e.min,n.max=n.min+mn(e)}function tM(n,e,t){Sy(n.x,e.x,t.x),Sy(n.y,e.y,t.y)}function Ty(n,e,t){n.min=e.min-t.min,n.max=n.min+mn(e)}function Uo(n,e,t){Ty(n.x,e.x,t.x),Ty(n.y,e.y,t.y)}function nM(n,{min:e,max:t},s){return e!==void 0&&n<e?n=s?st(e,n,s.min):Math.max(n,e):t!==void 0&&n>t&&(n=s?st(t,n,s.max):Math.min(n,t)),n}function Cy(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function rM(n,{top:e,left:t,bottom:s,right:o}){return{x:Cy(n.x,t,o),y:Cy(n.y,e,s)}}function ky(n,e){let t=e.min-n.min,s=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,s]=[s,t]),{min:t,max:s}}function sM(n,e){return{x:ky(n.x,e.x),y:ky(n.y,e.y)}}function iM(n,e){let t=.5;const s=mn(n),o=mn(e);return o>s?t=Xo(e.min,e.max-s,n.min):s>o&&(t=Xo(n.min,n.max-o,e.min)),ls(0,1,t)}function oM(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const hd=.35;function aM(n=hd){return n===!1?n=0:n===!0&&(n=hd),{x:Ey(n,"left","right"),y:Ey(n,"top","bottom")}}function Ey(n,e,t){return{min:Ay(n,e),max:Ay(n,t)}}function Ay(n,e){return typeof n=="number"?n:n[e]||0}const Ny=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ti=()=>({x:Ny(),y:Ny()}),Py=()=>({min:0,max:0}),ft=()=>({x:Py(),y:Py()});function En(n){return[n("x"),n("y")]}function Y_({top:n,left:e,right:t,bottom:s}){return{x:{min:e,max:t},y:{min:n,max:s}}}function lM({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function uM(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),s=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:s.y,right:s.x}}function Uh(n){return n===void 0||n===1}function dd({scale:n,scaleX:e,scaleY:t}){return!Uh(n)||!Uh(e)||!Uh(t)}function Rs(n){return dd(n)||X_(n)||n.z||n.rotate||n.rotateX||n.rotateY}function X_(n){return by(n.x)||by(n.y)}function by(n){return n&&n!=="0%"}function cu(n,e,t){const s=n-t,o=e*s;return t+o}function Ry(n,e,t,s,o){return o!==void 0&&(n=cu(n,o,s)),cu(n,t,s)+e}function fd(n,e=0,t=1,s,o){n.min=Ry(n.min,e,t,s,o),n.max=Ry(n.max,e,t,s,o)}function Q_(n,{x:e,y:t}){fd(n.x,e.translate,e.scale,e.originPoint),fd(n.y,t.translate,t.scale,t.originPoint)}function cM(n,e,t,s=!1){const o=t.length;if(!o)return;e.x=e.y=1;let l,u;for(let c=0;c<o;c++){l=t[c],u=l.projectionDelta;const d=l.instance;d&&d.style&&d.style.display==="contents"||(s&&l.options.layoutScroll&&l.scroll&&l!==l.root&&Ci(n,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),u&&(e.x*=u.x.scale,e.y*=u.y.scale,Q_(n,u)),s&&Rs(l.latestValues)&&Ci(n,l.latestValues))}e.x=My(e.x),e.y=My(e.y)}function My(n){return Number.isInteger(n)||n>1.0000000000001||n<.999999999999?n:1}function ns(n,e){n.min=n.min+e,n.max=n.max+e}function Dy(n,e,[t,s,o]){const l=e[o]!==void 0?e[o]:.5,u=st(n.min,n.max,l);fd(n,e[t],e[s],u,e.scale)}const hM=["x","scaleX","originX"],dM=["y","scaleY","originY"];function Ci(n,e){Dy(n.x,e,hM),Dy(n.y,e,dM)}function K_(n,e){return Y_(uM(n.getBoundingClientRect(),e))}function fM(n,e,t){const s=K_(n,t),{scroll:o}=e;return o&&(ns(s.x,o.offset.x),ns(s.y,o.offset.y)),s}const Z_=({current:n})=>n?n.ownerDocument.defaultView:null,pM=new WeakMap;class mM{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ft(),this.visualElement=e}start(e,{snapToCursor:t=!1}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const o=m=>{const{dragSnapToOrigin:g}=this.getProps();g?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(Fu(m,"page").point)},l=(m,g)=>{const{drag:v,dragPropagation:_,onDragStart:w}=this.getProps();if(v&&!_&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=g_(v),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),En(T=>{let C=this.getAxisMotionValue(T).get()||0;if(nr.test(C)){const{projection:P}=this.visualElement;if(P&&P.layout){const k=P.layout.layoutBox[T];k&&(C=mn(k)*(parseFloat(C)/100))}}this.originPoint[T]=C}),w&&Ze.update(()=>w(m,g),!1,!0);const{animationState:S}=this.visualElement;S&&S.setActive("whileDrag",!0)},u=(m,g)=>{const{dragPropagation:v,dragDirectionLock:_,onDirectionLock:w,onDrag:S}=this.getProps();if(!v&&!this.openGlobalLock)return;const{offset:T}=g;if(_&&this.currentDirection===null){this.currentDirection=gM(T),this.currentDirection!==null&&w&&w(this.currentDirection);return}this.updateAxis("x",g.point,T),this.updateAxis("y",g.point,T),this.visualElement.render(),S&&S(m,g)},c=(m,g)=>this.stop(m,g),d=()=>En(m=>{var g;return this.getAnimationState(m)==="paused"&&((g=this.getAxisMotionValue(m).animation)===null||g===void 0?void 0:g.play())}),{dragSnapToOrigin:f}=this.getProps();this.panSession=new H_(e,{onSessionStart:o,onStart:l,onMove:u,onSessionEnd:c,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:f,contextWindow:Z_(this.visualElement)})}stop(e,t){const s=this.isDragging;if(this.cancel(),!s)return;const{velocity:o}=t;this.startAnimation(o);const{onDragEnd:l}=this.getProps();l&&Ze.update(()=>l(e,t))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,s){const{drag:o}=this.getProps();if(!s||!Il(e,o,this.currentDirection))return;const l=this.getAxisMotionValue(e);let u=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(u=nM(u,this.constraints[e],this.elastic[e])),l.set(u)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:s}=this.getProps(),o=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,l=this.constraints;t&&xi(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&o?this.constraints=rM(o.layoutBox,t):this.constraints=!1,this.elastic=aM(s),l!==this.constraints&&o&&this.constraints&&!this.hasMutatedConstraints&&En(u=>{this.getAxisMotionValue(u)&&(this.constraints[u]=oM(o.layoutBox[u],this.constraints[u]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!xi(e))return!1;const s=e.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const l=fM(s,o.root,this.visualElement.getTransformPagePoint());let u=sM(o.layout.layoutBox,l);if(t){const c=t(lM(u));this.hasMutatedConstraints=!!c,c&&(u=Y_(c))}return u}startAnimation(e){const{drag:t,dragMomentum:s,dragElastic:o,dragTransition:l,dragSnapToOrigin:u,onDragTransitionEnd:c}=this.getProps(),d=this.constraints||{},f=En(m=>{if(!Il(m,t,this.currentDirection))return;let g=d&&d[m]||{};u&&(g={min:0,max:0});const v=o?200:1e6,_=o?40:1e7,w={type:"inertia",velocity:s?e[m]:0,bounceStiffness:v,bounceDamping:_,timeConstant:750,restDelta:1,restSpeed:10,...l,...g};return this.startAxisValueAnimation(m,w)});return Promise.all(f).then(c)}startAxisValueAnimation(e,t){const s=this.getAxisMotionValue(e);return s.start(Pf(e,s,0,t))}stopAnimation(){En(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){En(e=>{var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.pause()})}getAnimationState(e){var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.state}getAxisMotionValue(e){const t="_drag"+e.toUpperCase(),s=this.visualElement.getProps(),o=s[t];return o||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){En(t=>{const{drag:s}=this.getProps();if(!Il(t,s,this.currentDirection))return;const{projection:o}=this.visualElement,l=this.getAxisMotionValue(t);if(o&&o.layout){const{min:u,max:c}=o.layout.layoutBox[t];l.set(e[t]-st(u,c,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:s}=this.visualElement;if(!xi(t)||!s||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};En(u=>{const c=this.getAxisMotionValue(u);if(c){const d=c.get();o[u]=iM({min:d,max:d},this.constraints[u])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),En(u=>{if(!Il(u,e,null))return;const c=this.getAxisMotionValue(u),{min:d,max:f}=this.constraints[u];c.set(st(d,f,o[u]))})}addListeners(){if(!this.visualElement.current)return;pM.set(this.visualElement,this);const e=this.visualElement.current,t=Sr(e,"pointerdown",d=>{const{drag:f,dragListener:m=!0}=this.getProps();f&&m&&this.start(d)}),s=()=>{const{dragConstraints:d}=this.getProps();xi(d)&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,l=o.addEventListener("measure",s);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),s();const u=_r(window,"resize",()=>this.scalePositionWithinConstraints()),c=o.addEventListener("didUpdate",(({delta:d,hasLayoutChanged:f})=>{this.isDragging&&f&&(En(m=>{const g=this.getAxisMotionValue(m);g&&(this.originPoint[m]+=d[m].translate,g.set(g.get()+d[m].translate))}),this.visualElement.render())}));return()=>{u(),t(),l(),c&&c()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:s=!1,dragPropagation:o=!1,dragConstraints:l=!1,dragElastic:u=hd,dragMomentum:c=!0}=e;return{...e,drag:t,dragDirectionLock:s,dragPropagation:o,dragConstraints:l,dragElastic:u,dragMomentum:c}}}function Il(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function gM(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class yM extends ms{constructor(e){super(e),this.removeGroupControls=vt,this.removeListeners=vt,this.controls=new mM(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||vt}unmount(){this.removeGroupControls(),this.removeListeners()}}const Oy=n=>(e,t)=>{n&&Ze.update(()=>n(e,t))};class vM extends ms{constructor(){super(...arguments),this.removePointerDownListener=vt}onPointerDown(e){this.session=new H_(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Z_(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:s,onPanEnd:o}=this.node.getProps();return{onSessionStart:Oy(e),onStart:Oy(t),onMove:s,onEnd:(l,u)=>{delete this.session,o&&Ze.update(()=>o(l,u))}}}mount(){this.removePointerDownListener=Sr(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function _M(){const n=b.useContext(Du);if(n===null)return[!0,null];const{isPresent:e,onExitComplete:t,register:s}=n,o=b.useId();return b.useEffect(()=>s(o),[]),!e&&t?[!1,()=>t&&t(o)]:[!0]}const Wl={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Iy(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const Oo={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(xe.test(n))n=parseFloat(n);else return n;const t=Iy(n,e.target.x),s=Iy(n,e.target.y);return`${t}% ${s}%`}},wM={correct:(n,{treeScale:e,projectionDelta:t})=>{const s=n,o=us.parse(n);if(o.length>5)return s;const l=us.createTransformer(n),u=typeof o[0]!="number"?1:0,c=t.x.scale*e.x,d=t.y.scale*e.y;o[0+u]/=c,o[1+u]/=d;const f=st(c,d,.5);return typeof o[2+u]=="number"&&(o[2+u]/=f),typeof o[3+u]=="number"&&(o[3+u]/=f),l(o)}};class xM extends yd.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:s,layoutId:o}=this.props,{projection:l}=e;TP(SM),l&&(t.group&&t.group.add(l),s&&s.register&&o&&s.register(l),l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),Wl.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:s,drag:o,isPresent:l}=this.props,u=s.projection;return u&&(u.isPresent=l,o||e.layoutDependency!==t||t===void 0?u.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?u.promote():u.relegate()||Ze.postRender(()=>{const c=u.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),hf.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:s}=this.props,{projection:o}=e;o&&(o.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(o),s&&s.deregister&&s.deregister(o))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function J_(n){const[e,t]=_M(),s=b.useContext(Yo);return yd.createElement(xM,{...n,layoutGroup:s,switchLayoutGroup:b.useContext(e_),isPresent:e,safeToRemove:t})}const SM={borderRadius:{...Oo,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Oo,borderTopRightRadius:Oo,borderBottomLeftRadius:Oo,borderBottomRightRadius:Oo,boxShadow:wM},ew=["TopLeft","TopRight","BottomLeft","BottomRight"],TM=ew.length,Vy=n=>typeof n=="string"?parseFloat(n):n,Fy=n=>typeof n=="number"||xe.test(n);function CM(n,e,t,s,o,l){o?(n.opacity=st(0,t.opacity!==void 0?t.opacity:1,kM(s)),n.opacityExit=st(e.opacity!==void 0?e.opacity:1,0,EM(s))):l&&(n.opacity=st(e.opacity!==void 0?e.opacity:1,t.opacity!==void 0?t.opacity:1,s));for(let u=0;u<TM;u++){const c=`border${ew[u]}Radius`;let d=Ly(e,c),f=Ly(t,c);if(d===void 0&&f===void 0)continue;d||(d=0),f||(f=0),d===0||f===0||Fy(d)===Fy(f)?(n[c]=Math.max(st(Vy(d),Vy(f),s),0),(nr.test(f)||nr.test(d))&&(n[c]+="%")):n[c]=f}(e.rotate||t.rotate)&&(n.rotate=st(e.rotate||0,t.rotate||0,s))}function Ly(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const kM=tw(0,.5,N_),EM=tw(.5,.95,vt);function tw(n,e,t){return s=>s<n?0:s>e?1:t(Xo(n,e,s))}function jy(n,e){n.min=e.min,n.max=e.max}function kn(n,e){jy(n.x,e.x),jy(n.y,e.y)}function By(n,e,t,s,o){return n-=e,n=cu(n,1/t,s),o!==void 0&&(n=cu(n,1/o,s)),n}function AM(n,e=0,t=1,s=.5,o,l=n,u=n){if(nr.test(e)&&(e=parseFloat(e),e=st(u.min,u.max,e/100)-u.min),typeof e!="number")return;let c=st(l.min,l.max,s);n===l&&(c-=e),n.min=By(n.min,e,t,c,o),n.max=By(n.max,e,t,c,o)}function Uy(n,e,[t,s,o],l,u){AM(n,e[t],e[s],e[o],e.scale,l,u)}const NM=["x","scaleX","originX"],PM=["y","scaleY","originY"];function Wy(n,e,t,s){Uy(n.x,e,NM,t?t.x:void 0,s?s.x:void 0),Uy(n.y,e,PM,t?t.y:void 0,s?s.y:void 0)}function zy(n){return n.translate===0&&n.scale===1}function nw(n){return zy(n.x)&&zy(n.y)}function bM(n,e){return n.x.min===e.x.min&&n.x.max===e.x.max&&n.y.min===e.y.min&&n.y.max===e.y.max}function rw(n,e){return Math.round(n.x.min)===Math.round(e.x.min)&&Math.round(n.x.max)===Math.round(e.x.max)&&Math.round(n.y.min)===Math.round(e.y.min)&&Math.round(n.y.max)===Math.round(e.y.max)}function $y(n){return mn(n.x)/mn(n.y)}class RM{constructor(){this.members=[]}add(e){bf(this.members,e),e.scheduleRender()}remove(e){if(Rf(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(o=>e===o);if(t===0)return!1;let s;for(let o=t;o>=0;o--){const l=this.members[o];if(l.isPresent!==!1){s=l;break}}return s?(this.promote(s),!0):!1}promote(e,t){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender(),e.resumeFrom=s,t&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:o}=e.options;o===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:s}=e;t.onExitComplete&&t.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function qy(n,e,t){let s="";const o=n.x.translate/e.x,l=n.y.translate/e.y;if((o||l)&&(s=`translate3d(${o}px, ${l}px, 0) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),t){const{rotate:d,rotateX:f,rotateY:m}=t;d&&(s+=`rotate(${d}deg) `),f&&(s+=`rotateX(${f}deg) `),m&&(s+=`rotateY(${m}deg) `)}const u=n.x.scale*e.x,c=n.y.scale*e.y;return(u!==1||c!==1)&&(s+=`scale(${u}, ${c})`),s||"none"}const MM=(n,e)=>n.depth-e.depth;class DM{constructor(){this.children=[],this.isDirty=!1}add(e){bf(this.children,e),this.isDirty=!0}remove(e){Rf(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(MM),this.isDirty=!1,this.children.forEach(e)}}function OM(n,e){const t=Bs.now(),s=({timestamp:o})=>{const l=o-t;l>=e&&(Ar(s),n(l-e))};return Ze.read(s,!0),()=>Ar(s)}function IM(n){window.MotionDebug&&window.MotionDebug.record(n)}function VM(n){return n instanceof SVGElement&&n.tagName!=="svg"}function FM(n,e,t){const s=nn(n)?n:Di(n);return s.start(Pf("",s,e,t)),s.animation}const Hy=["","X","Y","Z"],LM={visibility:"hidden"},Gy=1e3;let jM=0;const Ms={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function sw({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:s,resetTransform:o}){return class{constructor(u={},c=e==null?void 0:e()){this.id=jM++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Ms.totalNodes=Ms.resolvedTargetDeltas=Ms.recalculatedProjection=0,this.nodes.forEach(WM),this.nodes.forEach(GM),this.nodes.forEach(YM),this.nodes.forEach(zM),IM(Ms)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new DM)}addEventListener(u,c){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new Mf),this.eventHandlers.get(u).add(c)}notifyListeners(u,...c){const d=this.eventHandlers.get(u);d&&d.notify(...c)}hasListeners(u){return this.eventHandlers.has(u)}mount(u,c=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=VM(u),this.instance=u;const{layoutId:d,layout:f,visualElement:m}=this.options;if(m&&!m.current&&m.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),c&&(f||d)&&(this.isLayoutDirty=!0),n){let g;const v=()=>this.root.updateBlockedByResize=!1;n(u,()=>{this.root.updateBlockedByResize=!0,g&&g(),g=OM(v,250),Wl.hasAnimatedSinceResize&&(Wl.hasAnimatedSinceResize=!1,this.nodes.forEach(Xy))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&m&&(d||f)&&this.addEventListener("didUpdate",({delta:g,hasLayoutChanged:v,hasRelativeTargetChanged:_,layout:w})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const S=this.options.transition||m.getDefaultTransition()||JM,{onLayoutAnimationStart:T,onLayoutAnimationComplete:C}=m.getProps(),P=!this.targetLayout||!rw(this.targetLayout,w)||_,k=!v&&_;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||k||v&&(P||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(g,k);const V={...Nf(S,"layout"),onPlay:T,onComplete:C};(m.shouldReduceMotion||this.options.layoutRoot)&&(V.delay=0,V.type=!1),this.startAnimation(V)}else v||Xy(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=w})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Ar(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(XM),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let m=0;m<this.path.length;m++){const g=this.path[m];g.shouldResetTransform=!0,g.updateScroll("snapshot"),g.options.layoutRoot&&g.willUpdate(!1)}const{layoutId:c,layout:d}=this.options;if(c===void 0&&!d)return;const f=this.getTransformTemplate();this.prevTransformTemplateValue=f?f(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Yy);return}this.isUpdating||this.nodes.forEach(qM),this.isUpdating=!1,window.HandoffCancelAllAnimations&&window.HandoffCancelAllAnimations(),this.nodes.forEach(HM),this.nodes.forEach(BM),this.nodes.forEach(UM),this.clearAllSnapshots();const c=Bs.now();bt.delta=ls(0,1e3/60,c-bt.timestamp),bt.timestamp=c,bt.isProcessing=!0,Mh.update.process(bt),Mh.preRender.process(bt),Mh.render.process(bt),bt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,hf.read(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach($M),this.sharedNodes.forEach(QM)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ze.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ze.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ft(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let c=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(c=!1),c&&(this.scroll={animationId:this.root.animationId,phase:u,isRoot:s(this.instance),offset:t(this.instance)})}resetTransform(){if(!o)return;const u=this.isLayoutDirty||this.shouldResetTransform,c=this.projectionDelta&&!nw(this.projectionDelta),d=this.getTransformTemplate(),f=d?d(this.latestValues,""):void 0,m=f!==this.prevTransformTemplateValue;u&&(c||Rs(this.latestValues)||m)&&(o(this.instance,f),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const c=this.measurePageBox();let d=this.removeElementScroll(c);return u&&(d=this.removeTransform(d)),eD(d),{animationId:this.root.animationId,measuredBox:c,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:u}=this.options;if(!u)return ft();const c=u.measureViewportBox(),{scroll:d}=this.root;return d&&(ns(c.x,d.offset.x),ns(c.y,d.offset.y)),c}removeElementScroll(u){const c=ft();kn(c,u);for(let d=0;d<this.path.length;d++){const f=this.path[d],{scroll:m,options:g}=f;if(f!==this.root&&m&&g.layoutScroll){if(m.isRoot){kn(c,u);const{scroll:v}=this.root;v&&(ns(c.x,-v.offset.x),ns(c.y,-v.offset.y))}ns(c.x,m.offset.x),ns(c.y,m.offset.y)}}return c}applyTransform(u,c=!1){const d=ft();kn(d,u);for(let f=0;f<this.path.length;f++){const m=this.path[f];!c&&m.options.layoutScroll&&m.scroll&&m!==m.root&&Ci(d,{x:-m.scroll.offset.x,y:-m.scroll.offset.y}),Rs(m.latestValues)&&Ci(d,m.latestValues)}return Rs(this.latestValues)&&Ci(d,this.latestValues),d}removeTransform(u){const c=ft();kn(c,u);for(let d=0;d<this.path.length;d++){const f=this.path[d];if(!f.instance||!Rs(f.latestValues))continue;dd(f.latestValues)&&f.updateSnapshot();const m=ft(),g=f.measurePageBox();kn(m,g),Wy(c,f.latestValues,f.snapshot?f.snapshot.layoutBox:void 0,m)}return Rs(this.latestValues)&&Wy(c,this.latestValues),c}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==bt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){var c;const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const f=!!this.resumingFrom||this!==d;if(!(u||f&&this.isSharedProjectionDirty||this.isProjectionDirty||!((c=this.parent)===null||c===void 0)&&c.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:g,layoutId:v}=this.options;if(!(!this.layout||!(g||v))){if(this.resolvedRelativeTargetAt=bt.timestamp,!this.targetDelta&&!this.relativeTarget){const _=this.getClosestProjectingParent();_&&_.layout&&this.animationProgress!==1?(this.relativeParent=_,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ft(),this.relativeTargetOrigin=ft(),Uo(this.relativeTargetOrigin,this.layout.layoutBox,_.layout.layoutBox),kn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=ft(),this.targetWithTransforms=ft()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),tM(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):kn(this.target,this.layout.layoutBox),Q_(this.target,this.targetDelta)):kn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const _=this.getClosestProjectingParent();_&&!!_.resumingFrom==!!this.resumingFrom&&!_.options.layoutScroll&&_.target&&this.animationProgress!==1?(this.relativeParent=_,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ft(),this.relativeTargetOrigin=ft(),Uo(this.relativeTargetOrigin,this.target,_.target),kn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Ms.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||dd(this.parent.latestValues)||X_(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var u;const c=this.getLead(),d=!!this.resumingFrom||this!==c;let f=!0;if((this.isProjectionDirty||!((u=this.parent)===null||u===void 0)&&u.isProjectionDirty)&&(f=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(f=!1),this.resolvedRelativeTargetAt===bt.timestamp&&(f=!1),f)return;const{layout:m,layoutId:g}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(m||g))return;kn(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,_=this.treeScale.y;cM(this.layoutCorrected,this.treeScale,this.path,d),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=ft());const{target:w}=c;if(!w){this.projectionTransform&&(this.projectionDelta=Ti(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=Ti(),this.projectionDeltaWithTransform=Ti());const S=this.projectionTransform;Bo(this.projectionDelta,this.layoutCorrected,w,this.latestValues),this.projectionTransform=qy(this.projectionDelta,this.treeScale),(this.projectionTransform!==S||this.treeScale.x!==v||this.treeScale.y!==_)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",w)),Ms.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),u){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(u,c=!1){const d=this.snapshot,f=d?d.latestValues:{},m={...this.latestValues},g=Ti();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const v=ft(),_=d?d.source:void 0,w=this.layout?this.layout.source:void 0,S=_!==w,T=this.getStack(),C=!T||T.members.length<=1,P=!!(S&&!C&&this.options.crossfade===!0&&!this.path.some(ZM));this.animationProgress=0;let k;this.mixTargetDelta=V=>{const E=V/1e3;Qy(g.x,u.x,E),Qy(g.y,u.y,E),this.setTargetDelta(g),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Uo(v,this.layout.layoutBox,this.relativeParent.layout.layoutBox),KM(this.relativeTarget,this.relativeTargetOrigin,v,E),k&&bM(this.relativeTarget,k)&&(this.isProjectionDirty=!1),k||(k=ft()),kn(k,this.relativeTarget)),S&&(this.animationValues=m,CM(m,f,this.latestValues,E,P,C)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=E},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Ar(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ze.update(()=>{Wl.hasAnimatedSinceResize=!0,this.currentAnimation=FM(0,Gy,{...u,onUpdate:c=>{this.mixTargetDelta(c),u.onUpdate&&u.onUpdate(c)},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Gy),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:c,target:d,layout:f,latestValues:m}=u;if(!(!c||!d||!f)){if(this!==u&&this.layout&&f&&iw(this.options.animationType,this.layout.layoutBox,f.layoutBox)){d=this.target||ft();const g=mn(this.layout.layoutBox.x);d.x.min=u.target.x.min,d.x.max=d.x.min+g;const v=mn(this.layout.layoutBox.y);d.y.min=u.target.y.min,d.y.max=d.y.min+v}kn(c,d),Ci(c,m),Bo(this.projectionDeltaWithTransform,this.layoutCorrected,c,m)}}registerSharedNode(u,c){this.sharedNodes.has(u)||this.sharedNodes.set(u,new RM),this.sharedNodes.get(u).add(c);const f=c.options.initialPromotionConfig;c.promote({transition:f?f.transition:void 0,preserveFollowOpacity:f&&f.shouldPreserveFollowOpacity?f.shouldPreserveFollowOpacity(c):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){var u;const{layoutId:c}=this.options;return c?((u=this.getStack())===null||u===void 0?void 0:u.lead)||this:this}getPrevLead(){var u;const{layoutId:c}=this.options;return c?(u=this.getStack())===null||u===void 0?void 0:u.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:c,preserveFollowOpacity:d}={}){const f=this.getStack();f&&f.promote(this,d),u&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetRotation(){const{visualElement:u}=this.options;if(!u)return;let c=!1;const{latestValues:d}=u;if((d.rotate||d.rotateX||d.rotateY||d.rotateZ)&&(c=!0),!c)return;const f={};for(let m=0;m<Hy.length;m++){const g="rotate"+Hy[m];d[g]&&(f[g]=d[g],u.setStaticValue(g,0))}u.render();for(const m in f)u.setStaticValue(m,f[m]);u.scheduleRender()}getProjectionStyles(u){var c,d;if(!this.instance||this.isSVG)return;if(!this.isVisible)return LM;const f={visibility:""},m=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,f.opacity="",f.pointerEvents=Bl(u==null?void 0:u.pointerEvents)||"",f.transform=m?m(this.latestValues,""):"none",f;const g=this.getLead();if(!this.projectionDelta||!this.layout||!g.target){const S={};return this.options.layoutId&&(S.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,S.pointerEvents=Bl(u==null?void 0:u.pointerEvents)||""),this.hasProjected&&!Rs(this.latestValues)&&(S.transform=m?m({},""):"none",this.hasProjected=!1),S}const v=g.animationValues||g.latestValues;this.applyTransformsToTarget(),f.transform=qy(this.projectionDeltaWithTransform,this.treeScale,v),m&&(f.transform=m(v,f.transform));const{x:_,y:w}=this.projectionDelta;f.transformOrigin=`${_.origin*100}% ${w.origin*100}% 0`,g.animationValues?f.opacity=g===this?(d=(c=v.opacity)!==null&&c!==void 0?c:this.latestValues.opacity)!==null&&d!==void 0?d:1:this.preserveOpacity?this.latestValues.opacity:v.opacityExit:f.opacity=g===this?v.opacity!==void 0?v.opacity:"":v.opacityExit!==void 0?v.opacityExit:0;for(const S in nu){if(v[S]===void 0)continue;const{correct:T,applyTo:C}=nu[S],P=f.transform==="none"?v[S]:T(v[S],g);if(C){const k=C.length;for(let V=0;V<k;V++)f[C[V]]=P}else f[S]=P}return this.options.layoutId&&(f.pointerEvents=g===this?Bl(u==null?void 0:u.pointerEvents)||"":"none"),f}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>{var c;return(c=u.currentAnimation)===null||c===void 0?void 0:c.stop()}),this.root.nodes.forEach(Yy),this.root.sharedNodes.clear()}}}function BM(n){n.updateLayout()}function UM(n){var e;const t=((e=n.resumeFrom)===null||e===void 0?void 0:e.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&t&&n.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:o}=n.layout,{animationType:l}=n.options,u=t.source!==n.layout.source;l==="size"?En(g=>{const v=u?t.measuredBox[g]:t.layoutBox[g],_=mn(v);v.min=s[g].min,v.max=v.min+_}):iw(l,t.layoutBox,s)&&En(g=>{const v=u?t.measuredBox[g]:t.layoutBox[g],_=mn(s[g]);v.max=v.min+_,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[g].max=n.relativeTarget[g].min+_)});const c=Ti();Bo(c,s,t.layoutBox);const d=Ti();u?Bo(d,n.applyTransform(o,!0),t.measuredBox):Bo(d,s,t.layoutBox);const f=!nw(c);let m=!1;if(!n.resumeFrom){const g=n.getClosestProjectingParent();if(g&&!g.resumeFrom){const{snapshot:v,layout:_}=g;if(v&&_){const w=ft();Uo(w,t.layoutBox,v.layoutBox);const S=ft();Uo(S,s,_.layoutBox),rw(w,S)||(m=!0),g.options.layoutRoot&&(n.relativeTarget=S,n.relativeTargetOrigin=w,n.relativeParent=g)}}}n.notifyListeners("didUpdate",{layout:s,snapshot:t,delta:d,layoutDelta:c,hasLayoutChanged:f,hasRelativeTargetChanged:m})}else if(n.isLead()){const{onExitComplete:s}=n.options;s&&s()}n.options.transition=void 0}function WM(n){Ms.totalNodes++,n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function zM(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function $M(n){n.clearSnapshot()}function Yy(n){n.clearMeasurements()}function qM(n){n.isLayoutDirty=!1}function HM(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function Xy(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function GM(n){n.resolveTargetDelta()}function YM(n){n.calcProjection()}function XM(n){n.resetRotation()}function QM(n){n.removeLeadSnapshot()}function Qy(n,e,t){n.translate=st(e.translate,0,t),n.scale=st(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function Ky(n,e,t,s){n.min=st(e.min,t.min,s),n.max=st(e.max,t.max,s)}function KM(n,e,t,s){Ky(n.x,e.x,t.x,s),Ky(n.y,e.y,t.y,s)}function ZM(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const JM={duration:.45,ease:[.4,0,.1,1]},Zy=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),Jy=Zy("applewebkit/")&&!Zy("chrome/")?Math.round:vt;function ev(n){n.min=Jy(n.min),n.max=Jy(n.max)}function eD(n){ev(n.x),ev(n.y)}function iw(n,e,t){return n==="position"||n==="preserve-aspect"&&!cd($y(e),$y(t),.2)}const tD=sw({attachResizeListener:(n,e)=>_r(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Wh={current:void 0},ow=sw({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!Wh.current){const n=new tD({});n.mount(window),n.setOptions({layoutScroll:!0}),Wh.current=n}return Wh.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),nD={pan:{Feature:vM},drag:{Feature:yM,ProjectionNode:ow,MeasureLayout:J_}},rD=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function sD(n){const e=rD.exec(n);if(!e)return[,];const[,t,s]=e;return[t,s]}function pd(n,e,t=1){const[s,o]=sD(n);if(!s)return;const l=window.getComputedStyle(e).getPropertyValue(s);if(l){const u=l.trim();return W_(u)?parseFloat(u):u}else return ru(o)?pd(o,e,t+1):o}function iD(n,{...e},t){const s=n.current;if(!(s instanceof Element))return{target:e,transitionEnd:t};t&&(t={...t}),n.values.forEach(o=>{const l=o.get();if(!ru(l))return;const u=pd(l,s);u&&o.set(u)});for(const o in e){const l=e[o];if(!ru(l))continue;const u=pd(l,s);u&&(e[o]=u,t||(t={}),t[o]===void 0&&(t[o]=l))}return{target:e,transitionEnd:t}}const oD=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),aw=n=>oD.has(n),aD=n=>Object.keys(n).some(aw),tv=n=>n===qi||n===xe,nv=(n,e)=>parseFloat(n.split(", ")[e]),rv=(n,e)=>(t,{transform:s})=>{if(s==="none"||!s)return 0;const o=s.match(/^matrix3d\((.+)\)$/);if(o)return nv(o[1],e);{const l=s.match(/^matrix\((.+)\)$/);return l?nv(l[1],n):0}},lD=new Set(["x","y","z"]),uD=fa.filter(n=>!lD.has(n));function cD(n){const e=[];return uD.forEach(t=>{const s=n.getValue(t);s!==void 0&&(e.push([t,s.get()]),s.set(t.startsWith("scale")?1:0))}),e.length&&n.render(),e}const Oi={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:rv(4,13),y:rv(5,14)};Oi.translateX=Oi.x;Oi.translateY=Oi.y;const hD=(n,e,t)=>{const s=e.measureViewportBox(),o=e.current,l=getComputedStyle(o),{display:u}=l,c={};u==="none"&&e.setStaticValue("display",n.display||"block"),t.forEach(f=>{c[f]=Oi[f](s,l)}),e.render();const d=e.measureViewportBox();return t.forEach(f=>{const m=e.getValue(f);m&&m.jump(c[f]),n[f]=Oi[f](d,l)}),n},dD=(n,e,t={},s={})=>{e={...e},s={...s};const o=Object.keys(e).filter(aw);let l=[],u=!1;const c=[];if(o.forEach(d=>{const f=n.getValue(d);if(!n.hasValue(d))return;let m=t[d],g=Do(m);const v=e[d];let _;if(iu(v)){const w=v.length,S=v[0]===null?1:0;m=v[S],g=Do(m);for(let T=S;T<w&&v[T]!==null;T++)_?Sf(Do(v[T])===_):_=Do(v[T])}else _=Do(v);if(g!==_)if(tv(g)&&tv(_)){const w=f.get();typeof w=="string"&&f.set(parseFloat(w)),typeof v=="string"?e[d]=parseFloat(v):Array.isArray(v)&&_===xe&&(e[d]=v.map(parseFloat))}else g!=null&&g.transform&&(_!=null&&_.transform)&&(m===0||v===0)?m===0?f.set(_.transform(m)):e[d]=g.transform(v):(u||(l=cD(n),u=!0),c.push(d),s[d]=s[d]!==void 0?s[d]:e[d],f.jump(v))}),c.length){const d=c.indexOf("height")>=0?window.pageYOffset:null,f=hD(e,n,c);return l.length&&l.forEach(([m,g])=>{n.getValue(m).set(g)}),n.render(),Ou&&d!==null&&window.scrollTo({top:d}),{target:f,transitionEnd:s}}else return{target:e,transitionEnd:s}};function fD(n,e,t,s){return aD(e)?dD(n,e,t,s):{target:e,transitionEnd:s}}const pD=(n,e,t,s)=>{const o=iD(n,e,s);return e=o.target,s=o.transitionEnd,fD(n,e,t,s)},md={current:null},lw={current:!1};function mD(){if(lw.current=!0,!!Ou)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>md.current=n.matches;n.addListener(e),e()}else md.current=!1}function gD(n,e,t){const{willChange:s}=e;for(const o in e){const l=e[o],u=t[o];if(nn(l))n.addValue(o,l),uu(s)&&s.add(o);else if(nn(u))n.addValue(o,Di(l,{owner:n})),uu(s)&&s.remove(o);else if(u!==l)if(n.hasValue(o)){const c=n.getValue(o);!c.hasAnimated&&c.set(l)}else{const c=n.getStaticValue(o);n.addValue(o,Di(c!==void 0?c:l,{owner:n}))}}for(const o in t)e[o]===void 0&&n.removeValue(o);return e}const sv=new WeakMap,uw=Object.keys(Go),yD=uw.length,iv=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],vD=ff.length;class _D{constructor({parent:e,props:t,presenceContext:s,reducedMotionConfig:o,visualState:l},u={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Ze.render(this.render,!1,!0);const{latestValues:c,renderState:d}=l;this.latestValues=c,this.baseTarget={...c},this.initialValues=t.initial?{...c}:{},this.renderState=d,this.parent=e,this.props=t,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=o,this.options=u,this.isControllingVariants=Vu(t),this.isVariantNode=J0(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:f,...m}=this.scrapeMotionValuesFromProps(t,{});for(const g in m){const v=m[g];c[g]!==void 0&&nn(v)&&(v.set(c[g],!1),uu(f)&&f.add(g))}}scrapeMotionValuesFromProps(e,t){return{}}mount(e){this.current=e,sv.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,s)=>this.bindToMotionValue(s,t)),lw.current||mD(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:md.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){sv.delete(this.current),this.projection&&this.projection.unmount(),Ar(this.notifyUpdate),Ar(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,t){const s=Gs.has(e),o=t.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&Ze.update(this.notifyUpdate,!1,!0),s&&this.projection&&(this.projection.isTransformDirty=!0)}),l=t.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{o(),l()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...t},s,o,l){let u,c;for(let d=0;d<yD;d++){const f=uw[d],{isEnabled:m,Feature:g,ProjectionNode:v,MeasureLayout:_}=Go[f];v&&(u=v),m(t)&&(!this.features[f]&&g&&(this.features[f]=new g(this)),_&&(c=_))}if((this.type==="html"||this.type==="svg")&&!this.projection&&u){this.projection=new u(this.latestValues,this.parent&&this.parent.projection);const{layoutId:d,layout:f,drag:m,dragConstraints:g,layoutScroll:v,layoutRoot:_}=t;this.projection.setOptions({layoutId:d,layout:f,alwaysMeasureLayout:!!m||g&&xi(g),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof f=="string"?f:"both",initialPromotionConfig:l,layoutScroll:v,layoutRoot:_})}return c}updateFeatures(){for(const e in this.features){const t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ft()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}makeTargetAnimatable(e,t=!0){return this.makeTargetAnimatableFromInstance(e,t)}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let s=0;s<iv.length;s++){const o=iv[s];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const l=e["on"+o];l&&(this.propEventSubscriptions[o]=this.on(o,l))}this.prevMotionValues=gD(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const s=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(s.initial=this.props.initial),s}const t={};for(let s=0;s<vD;s++){const o=ff[s],l=this.props[o];(Ho(l)||l===!1)&&(t[o]=l)}return t}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){t!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,t)),this.values.set(e,t),this.latestValues[e]=t.get()}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&t!==void 0&&(s=Di(t,{owner:this}),this.addValue(e,s)),s}readValue(e){var t;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(t=this.getBaseTargetFromProps(this.props,e))!==null&&t!==void 0?t:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:s}=this.props,o=typeof s=="string"||typeof s=="object"?(t=xf(this.props,s))===null||t===void 0?void 0:t[e]:void 0;if(s&&o!==void 0)return o;const l=this.getBaseTargetFromProps(this.props,e);return l!==void 0&&!nn(l)?l:this.initialValues[e]!==void 0&&o===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new Mf),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}}class cw extends _D{sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:s}){delete t[e],delete s[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:t,...s},o){const l=VR(s,e||{},this);if(o){OR(this,s,l);const u=pD(this,s,l,t);t=u.transitionEnd,s=u.target}return{transition:e,transitionEnd:t,...s}}}function wD(n){return window.getComputedStyle(n)}class xD extends cw{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,t){if(Gs.has(t)){const s=Af(t);return s&&s.default||0}else{const s=wD(e),o=(r_(t)?s.getPropertyValue(t):s[t])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(e,{transformPagePoint:t}){return K_(e,t)}build(e,t,s,o){gf(e,t,s,o.transformTemplate)}scrapeMotionValuesFromProps(e,t){return wf(e,t)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;nn(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}renderInstance(e,t,s,o){l_(e,t,s,o)}}class SD extends cw{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(Gs.has(t)){const s=Af(t);return s&&s.default||0}return t=u_.has(t)?t:cf(t),e.getAttribute(t)}measureInstanceViewportBox(){return ft()}scrapeMotionValuesFromProps(e,t){return h_(e,t)}build(e,t,s,o){vf(e,t,s,this.isSVGTag,o.transformTemplate)}renderInstance(e,t,s,o){c_(e,t,s,o)}mount(e){this.isSVGTag=_f(e.tagName),super.mount(e)}}const TD=(n,e)=>pf(n)?new SD(e,{enableHardwareAcceleration:!1}):new xD(e,{enableHardwareAcceleration:!0}),CD={layout:{ProjectionNode:ow,MeasureLayout:J_}},kD={...KR,...hb,...nD,...CD},Un=xP((n,e)=>ZP(n,e,kD,TD));function hw(){const n=b.useRef(!1);return uf(()=>(n.current=!0,()=>{n.current=!1}),[]),n}function dw(){const n=hw(),[e,t]=b.useState(0),s=b.useCallback(()=>{n.current&&t(e+1)},[e]);return[b.useCallback(()=>Ze.postRender(s),[s]),e]}class ED extends b.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const s=this.props.sizeRef.current;s.height=t.offsetHeight||0,s.width=t.offsetWidth||0,s.top=t.offsetTop,s.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function AD({children:n,isPresent:e}){const t=b.useId(),s=b.useRef(null),o=b.useRef({width:0,height:0,top:0,left:0});return b.useInsertionEffect(()=>{const{width:l,height:u,top:c,left:d}=o.current;if(e||!s.current||!l||!u)return;s.current.dataset.motionPopId=t;const f=document.createElement("style");return document.head.appendChild(f),f.sheet&&f.sheet.insertRule(`
          [data-motion-pop-id="${t}"] {
            position: absolute !important;
            width: ${l}px !important;
            height: ${u}px !important;
            top: ${c}px !important;
            left: ${d}px !important;
          }
        `),()=>{document.head.removeChild(f)}},[e]),b.createElement(ED,{isPresent:e,childRef:s,sizeRef:o},b.cloneElement(n,{ref:s}))}const zh=({children:n,initial:e,isPresent:t,onExitComplete:s,custom:o,presenceAffectsLayout:l,mode:u})=>{const c=d_(ND),d=b.useId(),f=b.useMemo(()=>({id:d,initial:e,isPresent:t,custom:o,onExitComplete:m=>{c.set(m,!0);for(const g of c.values())if(!g)return;s&&s()},register:m=>(c.set(m,!1),()=>c.delete(m))}),l?void 0:[t]);return b.useMemo(()=>{c.forEach((m,g)=>c.set(g,!1))},[t]),b.useEffect(()=>{!t&&!c.size&&s&&s()},[t]),u==="popLayout"&&(n=b.createElement(AD,{isPresent:t},n)),b.createElement(Du.Provider,{value:f},n)};function ND(){return new Map}function PD(n){return b.useEffect(()=>()=>n(),[])}const Ds=n=>n.key||"";function bD(n,e){n.forEach(t=>{const s=Ds(t);e.set(s,t)})}function RD(n){const e=[];return b.Children.forEach(n,t=>{b.isValidElement(t)&&e.push(t)}),e}const MD=({children:n,custom:e,initial:t=!0,onExitComplete:s,exitBeforeEnter:o,presenceAffectsLayout:l=!0,mode:u="sync"})=>{const c=b.useContext(Yo).forceRender||dw()[0],d=hw(),f=RD(n);let m=f;const g=b.useRef(new Map).current,v=b.useRef(m),_=b.useRef(new Map).current,w=b.useRef(!0);if(uf(()=>{w.current=!1,bD(f,_),v.current=m}),PD(()=>{w.current=!0,_.clear(),g.clear()}),w.current)return b.createElement(b.Fragment,null,m.map(P=>b.createElement(zh,{key:Ds(P),isPresent:!0,initial:t?void 0:!1,presenceAffectsLayout:l,mode:u},P)));m=[...m];const S=v.current.map(Ds),T=f.map(Ds),C=S.length;for(let P=0;P<C;P++){const k=S[P];T.indexOf(k)===-1&&!g.has(k)&&g.set(k,void 0)}return u==="wait"&&g.size&&(m=[]),g.forEach((P,k)=>{if(T.indexOf(k)!==-1)return;const V=_.get(k);if(!V)return;const E=S.indexOf(k);let I=P;if(!I){const F=()=>{g.delete(k);const R=Array.from(_.keys()).filter(W=>!T.includes(W));if(R.forEach(W=>_.delete(W)),v.current=f.filter(W=>{const $=Ds(W);return $===k||R.includes($)}),!g.size){if(d.current===!1)return;c(),s&&s()}};I=b.createElement(zh,{key:Ds(V),isPresent:!1,onExitComplete:F,custom:e,presenceAffectsLayout:l,mode:u},V),g.set(k,I)}m.splice(E,0,I)}),m=m.map(P=>{const k=P.key;return g.has(k)?P:b.createElement(zh,{key:Ds(P),isPresent:!0,presenceAffectsLayout:l,mode:u},P)}),b.createElement(b.Fragment,null,g.size?m:m.map(P=>b.cloneElement(P)))},DD=b.createContext(null),OD=n=>!n.isLayoutDirty&&n.willUpdate(!1);function ov(){const n=new Set,e=new WeakMap,t=()=>n.forEach(OD);return{add:s=>{n.add(s),e.set(s,s.addEventListener("willUpdate",t))},remove:s=>{n.delete(s);const o=e.get(s);o&&(o(),e.delete(s)),t()},dirty:t}}const fw=n=>n===!0,ID=n=>fw(n===!0)||n==="id",VD=({children:n,id:e,inherit:t=!0})=>{const s=b.useContext(Yo),o=b.useContext(DD),[l,u]=dw(),c=b.useRef(null),d=s.id||o;c.current===null&&(ID(t)&&d&&(e=e?d+"-"+e:d),c.current={id:e,group:fw(t)&&s.group||ov()});const f=b.useMemo(()=>({...c.current,forceRender:l}),[u]);return b.createElement(Yo.Provider,{value:f},n)},av=({word:n,onClick:e,onPointerDown:t,selected:s=!1,disabled:o=!1,isCorrect:l=!1,isWrong:u=!1,layoutId:c})=>{let d="relative flex flex-col items-center justify-center p-2 rounded-xl border-2 border-b-[4px] cursor-pointer select-none touch-none active:border-b-0 active:translate-y-[4px]",f="bg-white border-slate-200 border-b-slate-300 text-slate-700 active:border-t-4 active:border-t-transparent";return s&&(f="bg-emerald-100 border-emerald-400 border-b-emerald-500 text-emerald-800"),l&&(f="bg-emerald-100 border-emerald-400 border-b-emerald-500 text-emerald-800"),u&&(f="bg-rose-100 border-rose-400 border-b-rose-500 text-rose-800"),o&&(d="relative flex flex-col items-center justify-center p-2 rounded-xl border-2 border-slate-100 bg-slate-100 text-slate-300 select-none touch-none",f=""),D.jsxs(Un.div,{layoutId:c,layout:!0,transition:{type:"spring",stiffness:900,damping:45,mass:.5},onPointerDown:o?void 0:t,onClick:o?void 0:e,className:`${d} ${f} w-full min-h-[3.5rem]`,initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},children:[D.jsx("span",{className:"text-[9px] font-bold text-slate-400 uppercase tracking-wider mb-0.5",children:n.latin}),D.jsx("span",{className:"font-arabic text-xl font-medium leading-relaxed mb-0.5",children:n.arabic}),D.jsx("span",{className:"text-[9px] text-slate-400 text-center leading-tight",children:n.meaning})]})},lv=({value:n,duration:e=1e3,isTime:t=!1})=>{const[s,o]=b.useState(0);if(b.useEffect(()=>{let l,u;const c=d=>{l||(l=d);const f=Math.min((d-l)/e,1),m=1-Math.pow(1-f,4);o(Math.floor(m*n)),f<1&&(u=requestAnimationFrame(c))};return u=requestAnimationFrame(c),()=>cancelAnimationFrame(u)},[n,e]),t){const l=Math.floor(s/60),u=s%60;return D.jsx(D.Fragment,{children:`${l}:${u.toString().padStart(2,"0")}`})}return D.jsx(D.Fragment,{children:s})},FD=({surahId:n,initialVerseIndex:e,initialDuration:t,onBack:s,onCompleteSurah:o})=>{var jt;const{surahs:l,getDistractors:u}=Jo(),c=b.useMemo(()=>l.find(se=>se.id===n),[l,n]),d=b.useMemo(()=>{if(!c)return[];const se=[],we=6,Ae=9;return c.verses.forEach((De,et)=>{const Bt=De.words,sn=Bt.length;if(sn<=we){const ct=Math.max(0,Ae-sn);se.push({id:`${De.id}-full`,verseIndex:et,verseId:De.id,words:Bt,distractors:u(Bt.map(Oe=>Oe.id),ct),isLastInVerse:!0})}else{let ct=0;for(;ct<sn;){const Oe=Math.min(ct+we,sn),ke=Bt.slice(ct,Oe),Mn=Math.max(0,Ae-ke.length);se.push({id:`${De.id}-part-${ct}`,verseIndex:et,verseId:De.id,words:ke,distractors:u(ke.map(ar=>ar.id),Mn),isLastInVerse:Oe===sn}),ct=Oe}}}),se},[c,u]),f=b.useMemo(()=>d.findIndex(se=>se.verseIndex===e),[d,e]),[m,g]=b.useState(Math.max(0,f)),v=d[m],_=v?v.verseIndex:0,[w,S]=b.useState([]),[T,C]=b.useState([]),[P,k]=b.useState("idle"),[V,E]=b.useState(!1),[I,F]=b.useState(0),[R,W]=b.useState(!1),[$,Y]=b.useState(t),[z,ee]=b.useState(!1),[X,ae]=b.useState("");b.useEffect(()=>{if(R)return;const se=setInterval(()=>Y(we=>we+1),1e3);return()=>clearInterval(se)},[R]);const Z=b.useRef(null),te=b.useRef([]),H=b.useRef([]);b.useEffect(()=>{H.current=w},[w]);const G=b.useRef(null),q=b.useRef(null),N=b.useRef(null),[j,me]=b.useState({active:!1,word:null,sourceType:null,x:0,y:0,offsetX:0,offsetY:0,width:0,height:0,didMove:!1,overIndex:null}),de=()=>{const se=q.current;if(!se){me({active:!1,word:null,sourceType:null,x:0,y:0,offsetX:0,offsetY:0,width:0,height:0,didMove:!1,overIndex:null});return}me({active:!0,word:se.word,sourceType:se.source.type,x:se.x,y:se.y,offsetX:se.offsetX,offsetY:se.offsetY,width:se.width,height:se.height,didMove:se.didMove,overIndex:se.overIndex})},ie=()=>{N.current==null&&(N.current=window.requestAnimationFrame(()=>{N.current=null,de()}))},ce=(se,we)=>{const Ae=H.current.length;for(let De=0;De<Ae;De++){const et=te.current[De];if(!et)continue;const Bt=et.getBoundingClientRect();if(se>=Bt.left&&se<=Bt.right&&we>=Bt.top&&we<=Bt.bottom)return De}return null},_e=se=>{window.removeEventListener("pointermove",se.move),window.removeEventListener("pointerup",se.up),window.removeEventListener("pointercancel",se.cancel),window.removeEventListener("keydown",se.key)},re=(se,we,Ae,De)=>{if(R||P!=="idle")return;const et=H.current.some(Oe=>(Oe==null?void 0:Oe.id)===we.id);if(Ae.type==="pool"&&et)return;se.preventDefault();const sn=se.currentTarget.getBoundingClientRect();G.current=H.current.slice(),q.current={pointerId:se.pointerId,word:we,source:Ae,startX:se.clientX,startY:se.clientY,x:se.clientX,y:se.clientY,offsetX:se.clientX-sn.left,offsetY:se.clientY-sn.top,width:sn.width,height:sn.height,didMove:!1,overIndex:null,currentSlotIndex:Ae.type==="placed"?Ae.index:null,clickAction:De};const ct={move:Oe=>{var yn;const ke=q.current;if(!ke||Oe.pointerId!==ke.pointerId)return;Oe.preventDefault(),ke.x=Oe.clientX,ke.y=Oe.clientY;const Mn=Oe.clientX-ke.startX,ar=Oe.clientY-ke.startY;if(Math.hypot(Mn,ar)>6&&(ke.didMove=!0),ke.didMove){const Dn=Oe.clientX-ke.offsetX,Mr=Oe.clientY-ke.offsetY,Xn=Dn+ke.width/2,Gi=Mr+ke.height/2,Ht=ce(Xn,Gi);if(Ht!==ke.overIndex)if(ke.overIndex=Ht,ke.source.type==="placed"){if(Ht!=null&&ke.currentSlotIndex!=null&&Ht!==ke.currentSlotIndex){const on=ke.currentSlotIndex,vn=Ht;S(lr=>{const Dr=lr.slice(),ya=Dr[vn];return Dr[vn]=Dr[on],Dr[on]=ya,Dr}),ke.currentSlotIndex=vn}}else{const on=G.current;if(!on)return;if(Ht==null)S(on.slice());else{const vn=on.slice();for(let lr=0;lr<vn.length;lr++)((yn=vn[lr])==null?void 0:yn.id)===ke.word.id&&(vn[lr]=null);vn[Ht]=ke.word,S(vn)}}}ie()},up:Oe=>{var Hi;const ke=q.current;if(!ke||Oe.pointerId!==ke.pointerId)return;ke.x=Oe.clientX,ke.y=Oe.clientY;const Mn=ke.didMove,ar=ke.overIndex;if(_e(ct),!Mn){ke.clickAction(),q.current=null,G.current=null,de();return}if(ar==null){const yn=G.current;yn&&S(yn.slice())}else if(ke.source.type==="pool"){const yn=G.current;if(yn){const Dn=yn.slice(),Mr=ke.word;for(let Xn=0;Xn<Dn.length;Xn++)((Hi=Dn[Xn])==null?void 0:Hi.id)===Mr.id&&(Dn[Xn]=null);Dn[ar]=Mr,S(Dn)}}q.current=null,G.current=null,de()},cancel:Oe=>{const ke=q.current;if(!ke||Oe.pointerId!==ke.pointerId)return;_e(ct);const Mn=G.current;Mn&&S(Mn.slice()),q.current=null,G.current=null,de()},key:Oe=>{Oe.key!=="Escape"||!q.current||(_e(ct),G.current&&S(G.current),q.current=null,G.current=null,de())}};window.addEventListener("pointermove",ct.move,{passive:!1}),window.addEventListener("pointerup",ct.up),window.addEventListener("pointercancel",ct.cancel),window.addEventListener("keydown",ct.key),de()};b.useEffect(()=>{if(q.current=null,G.current=null,de(),!v){d.length>0&&m>=d.length&&W(!0);return}const we=[...v.words,...v.distractors].sort(()=>.5-Math.random());C(we),S(new Array(v.words.length).fill(null)),k("idle"),setTimeout(()=>{var Ae;(Ae=Z.current)==null||Ae.scrollIntoView({behavior:"smooth",block:"center"})},100)},[m,v,d.length]);const Ee=w.reduce((se,we)=>se+(we?1:0),0),Le=se=>{if(P==="correct"||!v)return;const we=H.current.findIndex(Ae=>Ae==null);if(we===-1){E(!0),setTimeout(()=>E(!1),500);return}S(Ae=>{const De=Ae.slice();return De[we]=se,De}),k("idle"),tr.playClick()},lt=se=>{P!=="correct"&&(S(we=>{const Ae=we.slice();return Ae[se]=null,Ae}),k("idle"),tr.playClick())},rn=()=>{F(se=>se+1),k("wrong"),E(!0),tr.playWrong(),setTimeout(()=>E(!1),500)},Rr=()=>{if(!v)return;if(w.some(we=>we==null)){rn();return}w.every((we,Ae)=>we.arabic===v.words[Ae].arabic)?(k("correct"),tr.playCorrect(),setTimeout(()=>{m+1<d.length?g(we=>we+1):(tr.playFanfare(),W(!0))},500)):rn()},gs=()=>{s({lastVerseIndex:(v==null?void 0:v.verseIndex)||0,durationSeconds:$})},oe=()=>{S(se=>new Array(se.length).fill(null)),k("idle")};if(!c)return D.jsx("div",{children:"Surah not found"});const ge=c.verses.length,$e=ge+I,je=Math.round(ge/$e*100);if(!v&&!R)return null;const Pe=v?d.filter(se=>se.verseIndex===v.verseIndex).length>1:!1,Ve=v?Pe?`Susun Ayat ${v.verseIndex+1} (Lanjutan)`:`Susun Ayat ${v.verseIndex+1}`:"",ut=j.active&&j.didMove?(jt=j.word)==null?void 0:jt.id:null;return D.jsxs("div",{className:"max-w-md mx-auto min-h-screen bg-slate-50 flex flex-col",children:[D.jsxs("div",{className:"bg-white px-4 py-4 flex items-center justify-between sticky top-[var(--app-top-offset)] z-20 border-b border-slate-100",children:[D.jsx("button",{onClick:gs,className:"p-2 -ml-2 text-slate-400 hover:bg-slate-50 rounded-xl transition-colors",children:D.jsx(Fv,{className:"w-6 h-6"})}),D.jsx("div",{className:"flex flex-col items-center",children:D.jsx("span",{className:"font-bold text-slate-700 text-sm uppercase tracking-wide",children:c.name})}),D.jsx("button",{onClick:()=>{ae(""),ee(!0)},className:"p-2 -mr-2 text-slate-400 hover:bg-slate-50 rounded-xl transition-colors",title:"Lompat ke ayat",children:D.jsx(Dg,{className:"w-6 h-6"})})]}),D.jsx(VD,{children:D.jsxs("div",{className:"flex-1 flex flex-col p-4 pb-32 space-y-6",children:[D.jsx("div",{className:"text-center py-4 opacity-60",children:D.jsx("p",{className:"font-arabic text-2xl text-slate-700",children:"   "})}),c.verses.map((se,we)=>R||we<_?D.jsxs(Un.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"group cursor-pointer relative",onClick:()=>{const De=d.findIndex(et=>et.verseIndex===we);De!==-1&&(k("idle"),g(De))},children:[D.jsx("div",{className:"absolute inset-0 bg-slate-100 opacity-0 group-hover:opacity-50 rounded-xl transition-opacity -mx-2 -my-2"}),D.jsxs("div",{className:"relative flex gap-4 border-b border-slate-100 pb-4 last:border-0 mb-4",children:[D.jsx("div",{className:"flex-shrink-0 pt-1",children:D.jsx("div",{className:"w-8 h-8 rounded-full bg-emerald-100 text-emerald-700 flex items-center justify-center text-sm font-bold font-arabic group-hover:bg-emerald-200 transition-colors",children:we+1})}),D.jsxs("div",{className:"flex-grow text-right",dir:"rtl",children:[D.jsx("p",{className:"font-arabic text-3xl leading-[2.2] text-slate-800",children:se.words.map(De=>De.arabic).join(" ")}),D.jsx("p",{className:"text-sm text-slate-500 mt-2 text-left",dir:"ltr",children:se.words.map(De=>De.meaning).join(" ")})]})]})]},se.id):null),!R&&v&&D.jsxs("div",{ref:Z,className:"animate-fade-in scroll-mt-24 pt-4",children:[D.jsxs("div",{className:"flex items-center gap-3 mb-3 px-1",children:[D.jsx("div",{className:"w-8 h-8 rounded-full bg-emerald-500 text-white flex items-center justify-center text-sm font-bold font-arabic",children:v.verseIndex+1}),D.jsx("h3",{className:"text-sm font-bold text-slate-700 uppercase tracking-wider",children:Ve})]}),D.jsx("div",{className:`
                  min-h-[140px] bg-white rounded-2xl border-2 border-dashed 
                  ${P==="wrong"?"border-rose-300 bg-rose-50":P==="correct"?"border-emerald-300 bg-emerald-50":"border-slate-300"}
                  p-3 mb-6 transition-all duration-200 relative
                  ${V?"animate-shake":""}
                `,children:D.jsx("div",{className:"grid grid-cols-3 gap-2",style:{direction:"rtl"},children:v.words.map((se,we)=>{const Ae=w[we],De=j.active&&j.didMove&&j.overIndex===we;return D.jsx("div",{ref:et=>{te.current[we]=et},className:De?"ring-2 ring-emerald-400 rounded-xl":"",children:Ae?Ae.id===ut?D.jsx("div",{className:"w-full min-h-[3.5rem] p-2 rounded-xl border-2 border-transparent opacity-0"}):D.jsx(av,{layoutId:Ae.id,word:Ae,onPointerDown:et=>re(et,Ae,{type:"placed",index:we},()=>lt(we)),isCorrect:P==="correct",isWrong:P==="wrong"},Ae.id):D.jsx("div",{className:`
                              w-full min-h-[3.5rem] rounded-xl border-2 border-dashed 
                              ${Ee===0?"border-slate-300 bg-slate-50 opacity-40":"border-slate-200 bg-slate-50 opacity-60"}
                              flex items-center justify-center
                            `,children:D.jsx("span",{className:"text-slate-300 text-xs font-medium",children:we+1})})},`slot-${we}`)})})}),P==="wrong"&&D.jsxs(Un.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mb-6 bg-rose-50 text-rose-800 p-4 rounded-xl border-2 border-rose-200",children:[D.jsxs("div",{className:"flex items-center gap-2 mb-2 font-bold",children:[D.jsx(mT,{className:"w-5 h-5"}),"Jawaban Salah"]}),D.jsxs("div",{className:"mt-3 bg-white p-3 rounded-lg border border-rose-100 text-center",children:[D.jsx("p",{className:"text-xs text-rose-400 mb-1 uppercase tracking-wide font-semibold",children:"Jawaban Benar"}),D.jsx("p",{className:"font-arabic text-2xl text-slate-800 leading-loose",children:v.words.map(se=>se.arabic).join(" ")}),D.jsx("p",{className:"text-sm text-slate-500 mt-1 italic",children:v.words.map(se=>se.latin).join(" ")})]}),D.jsxs("button",{onClick:()=>vr(oe),className:"mt-4 w-full py-3 rounded-full font-bold text-white bg-rose-500 border-b-[4px] border-rose-700 active:border-b-0 active:translate-y-[4px] transition-all flex items-center justify-center gap-2",children:[D.jsx(jv,{className:"w-4 h-4"})," Coba Lagi"]})]}),D.jsx("div",{className:"mb-4",children:D.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-4 gap-2",dir:"rtl",children:T.map(se=>{var De;const we=w.some(et=>(et==null?void 0:et.id)===se.id),Ae=j.active&&j.didMove&&j.sourceType==="pool"&&((De=j.word)==null?void 0:De.id)===se.id;return we||Ae?D.jsx("div",{className:"w-full min-h-[3.5rem] p-2 rounded-xl border-2 border-transparent"},se.id):D.jsx(av,{layoutId:se.id,word:se,onPointerDown:et=>re(et,se,{type:"pool"},()=>Le(se)),disabled:P!=="idle"},se.id)})})})]}),R&&D.jsx(Un.div,{ref:Z,initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.5,ease:[.22,1,.36,1]},className:"pt-8 pb-4",children:D.jsxs(Un.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:.2,duration:.4,ease:[.22,1,.36,1]},className:"bg-white rounded-2xl border-2 border-emerald-100 p-6 text-center",children:[D.jsx(Un.div,{initial:{opacity:0,scale:0},animate:{opacity:1,scale:1},transition:{delay:.3,duration:.4,type:"spring",stiffness:200},className:"w-16 h-16 bg-emerald-100 rounded-full flex items-center justify-center text-emerald-600 mx-auto mb-4",children:D.jsx(Bv,{className:"w-8 h-8 fill-emerald-600"})}),D.jsxs(Un.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.4,duration:.4},className:"mb-6",children:[D.jsx("h2",{className:"text-2xl font-bold text-slate-800 mb-1",children:"Alhamdulillah!"}),D.jsxs("p",{className:"text-slate-500",children:["Kamu telah menyelesaikan surat"," ",D.jsx("span",{className:"font-bold text-emerald-600",children:c.name})]})]}),D.jsxs(Un.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.5,duration:.4},className:"grid grid-cols-2 gap-3 mb-6",children:[D.jsxs("div",{className:"bg-slate-50 p-4 rounded-xl border border-slate-100 flex flex-col items-center justify-center gap-1",children:[D.jsx(pT,{className:"w-5 h-5 text-slate-400 mb-1"}),D.jsx("span",{className:"text-xs text-slate-400 uppercase tracking-widest font-bold",children:"Waktu"}),D.jsx("span",{className:"text-2xl font-bold text-slate-700 tabular-nums",children:D.jsx(lv,{value:$,isTime:!0,duration:1200})})]}),D.jsxs("div",{className:"bg-slate-50 p-4 rounded-xl border border-slate-100 flex flex-col items-center justify-center gap-1",children:[D.jsx(Rg,{className:"w-5 h-5 text-slate-400 mb-1"}),D.jsx("span",{className:"text-xs text-slate-400 uppercase tracking-widest font-bold",children:"Akurasi"}),D.jsxs("span",{className:"text-2xl font-bold text-slate-700 tabular-nums",children:[D.jsx(lv,{value:je,duration:1200}),"%"]})]})]})]})})]})}),D.jsx("div",{className:"p-4 bg-white border-t border-slate-100 fixed bottom-0 left-0 right-0 max-w-md mx-auto z-30",children:R?D.jsxs(Un.button,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.6,duration:.4},onClick:()=>vr(o),className:"w-full mb-5 py-3 rounded-full font-bold text-lg border-b-[4px] active:border-b-0 active:translate-y-[4px] transition-all flex items-center justify-center gap-2 bg-emerald-500 border-emerald-700 text-white active:border-t-4 active:border-t-transparent",children:[D.jsx(Mg,{className:"w-6 h-6"})," Kembali ke Beranda"]}):D.jsx("button",{onClick:()=>vr(Rr),disabled:Ee===0||P!=="idle",className:`
              w-full mb-5 py-3 rounded-full font-bold text-lg border-b-[4px] active:border-b-0 active:translate-y-[4px] transition-all
              flex items-center justify-center gap-2
              ${P==="idle"&&Ee>0?"bg-emerald-500 border-emerald-700 text-white active:border-t-4 active:border-t-transparent":"bg-slate-200 border-slate-300 text-slate-400 cursor-not-allowed border-b-[0px]"}
            `,children:P==="correct"?D.jsxs(D.Fragment,{children:[D.jsx(Rg,{className:"w-6 h-6"})," Benar!"]}):D.jsxs(D.Fragment,{children:[D.jsx(Mg,{className:"w-6 h-6"})," Periksa"]})})}),j.active&&j.didMove&&j.word&&D.jsx("div",{className:"pointer-events-none",style:{position:"fixed",left:j.x-j.offsetX,top:j.y-j.offsetY,width:j.width,zIndex:9999},children:D.jsxs("div",{className:"relative flex flex-col items-center justify-center p-2 rounded-xl border-2 border-b-[4px] bg-white border-slate-200 border-b-slate-300 text-slate-700 shadow-xl opacity-95",children:[D.jsx("span",{className:"text-[9px] font-bold text-slate-400 uppercase tracking-wider mb-0.5",children:j.word.latin}),D.jsx("span",{className:"font-arabic text-xl font-medium leading-relaxed mb-0.5",children:j.word.arabic}),D.jsx("span",{className:"text-[9px] text-slate-400 text-center leading-tight",children:j.word.meaning})]})}),D.jsx(MD,{children:z&&D.jsx(Un.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",onClick:()=>ee(!1),children:D.jsxs(Un.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-2xl p-6 w-full max-w-xs",onClick:se=>se.stopPropagation(),children:[D.jsxs("div",{className:"flex items-center justify-between mb-4",children:[D.jsx("h3",{className:"text-lg font-bold text-slate-800",children:"Lompat ke Ayat"}),D.jsx("button",{onClick:()=>ee(!1),className:"p-1 text-slate-400 hover:text-slate-600 rounded-lg hover:bg-slate-100 transition-colors",children:D.jsx(gT,{className:"w-5 h-5"})})]}),D.jsxs("p",{className:"text-sm text-slate-500 mb-4",children:["Masukkan nomor ayat (1 - ",c.verses.length,")"]}),D.jsx("input",{type:"number",min:1,max:c.verses.length,value:X,onChange:se=>ae(se.target.value),placeholder:"Nomor ayat",className:"w-full px-4 py-3 border-2 border-slate-200 rounded-xl text-center text-lg font-bold focus:outline-none focus:border-emerald-500 transition-colors",autoFocus:!0}),D.jsxs("button",{onClick:()=>vr(()=>{const se=parseInt(X);if(se>=1&&se<=c.verses.length){const we=d.findIndex(Ae=>Ae.verseIndex===se-1);we!==-1&&(k("idle"),g(we),ee(!1))}}),disabled:!X||parseInt(X)<1||parseInt(X)>c.verses.length||isNaN(parseInt(X)),className:`
                  w-full mt-4 py-3 rounded-xl font-bold text-lg border-b-[4px] active:border-b-0 active:translate-y-[4px] transition-all
                  flex items-center justify-center gap-2
                  ${X&&parseInt(X)>=1&&parseInt(X)<=c.verses.length&&!isNaN(parseInt(X))?"bg-emerald-500 border-emerald-700 text-white":"bg-slate-200 border-slate-300 text-slate-400 cursor-not-allowed border-b-[0px]"}
                `,children:[D.jsx(Dg,{className:"w-5 h-5"}),"Lompat"]})]})})})]})},uv=({error:n})=>D.jsx("div",{className:"min-h-screen bg-slate-50 flex flex-col items-center justify-center p-6",children:D.jsxs("div",{className:"text-center",children:[D.jsxs("div",{className:"mb-6",children:[D.jsx("h1",{className:"text-4xl font-bold text-emerald-600 tracking-tight",children:"QIRA"}),D.jsx("p",{className:"text-slate-400 text-sm mt-1",children:"Hafalan Quran"})]}),n?D.jsxs("div",{className:"bg-rose-50 border-2 border-rose-200 rounded-2xl p-6 max-w-sm",children:[D.jsx("p",{className:"text-rose-700 font-medium mb-2",children:"Gagal Memuat Data"}),D.jsx("p",{className:"text-rose-500 text-sm",children:n}),D.jsx("button",{onClick:()=>window.location.reload(),className:"mt-4 px-6 py-2 bg-rose-500 text-white rounded-xl font-bold hover:bg-rose-600 transition-colors",children:"Coba Lagi"})]}):D.jsxs(D.Fragment,{children:[D.jsx("div",{className:"w-12 h-12 border-4 border-emerald-200 border-t-emerald-600 rounded-full animate-spin mx-auto mb-4"}),D.jsx("p",{className:"text-slate-500 text-sm",children:"Memuat data surah..."})]})]})}),LD=()=>{const{isOffline:n}=Jo();return n?D.jsx("div",{className:"fixed top-0 left-0 right-0 bg-amber-500 text-white text-center py-1 text-xs font-medium z-[60]",children:"Mode Offline"}):null},jD=()=>{const{loading:n,error:e,surahs:t,isOffline:s}=Jo(),[o,l]=b.useState({}),[u,c]=b.useState(!0);b.useEffect(()=>{(async()=>{try{Dv()&&await Ov();const g=await eT();l(g)}catch(g){console.error("Failed to load progress",g)}finally{c(!1)}})()},[]);const d=async(m,g)=>{l(v=>({...v,[m]:g}));try{await tT(g)}catch(v){console.error("Failed to save progress to IndexedDB",v)}},f=async(m,g)=>{const _={...o[m]||{surahId:m,lastVerseIndex:0,completionCount:0},...g};await d(m,_)};return n||u?D.jsx(uv,{}):e&&t.length===0?D.jsx(uv,{error:e}):D.jsxs(D.Fragment,{children:[D.jsx(LD,{}),D.jsx("div",{style:{"--app-top-offset":s?"24px":"0px"},className:`font-sans text-slate-900 bg-slate-50 min-h-screen ${s?"pt-[var(--app-top-offset)]":""}`,children:D.jsx(BS,{children:D.jsxs(gS,{children:[D.jsx(Io,{path:"/qira",element:D.jsx(UD,{progressData:o})}),D.jsx(Io,{path:"/surah-list",element:D.jsx(WD,{progressData:o})}),D.jsx(Io,{path:"/lesson/:surahId",element:D.jsx(zD,{progressData:o,onUpdateProgress:f})}),D.jsx(Io,{path:"*",element:D.jsx(kv,{to:"/qira",replace:!0})})]})})})]})},BD=()=>D.jsx(uT,{children:D.jsx(jD,{})}),UD=({progressData:n})=>{const e=Ko();return D.jsx(uP,{progressData:n,onSelectSurah:t=>e(`/lesson/${t}`),onShowAll:()=>e("/surah-list")})},WD=({progressData:n})=>{const e=Ko();return D.jsx(lP,{progressData:n,onSelectSurah:t=>e(`/lesson/${t}`),onBack:()=>e("/qira")})},zD=({progressData:n,onUpdateProgress:e})=>{const{surahId:t}=tS(),s=Ko();if(!t)return D.jsx(kv,{to:"/",replace:!0});const o=()=>{var d;return((d=n[t])==null?void 0:d.lastVerseIndex)||0},l=()=>{var d;return((d=n[t])==null?void 0:d.durationSeconds)||0},u=d=>{e(t,d),s("/qira")},c=()=>{var _;const d=n[t]||{completionCount:0},f=new Date,m=`${f.getFullYear()}-${String(f.getMonth()+1).padStart(2,"0")}-${String(f.getDate()).padStart(2,"0")}`;let g=1;((_=d.dailyCompletions)==null?void 0:_.date)===m&&(g=d.dailyCompletions.count+1);const v={surahId:t,lastVerseIndex:0,completionCount:d.completionCount+1,durationSeconds:0,dailyCompletions:{date:m,count:g}};e(t,v),s("/qira")};return D.jsx(FD,{surahId:t,initialVerseIndex:o(),initialDuration:l(),onBack:u,onCompleteSurah:c})},pw=document.getElementById("root");if(!pw)throw new Error("Could not find root element to mount to");const $D=v1.createRoot(pw);$D.render(D.jsx(yd.StrictMode,{children:D.jsx(BD,{})}));
